if(void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(){function ticksToSortable(a){var b=DayPilot.Date.Cache.Ticks;if(b[a])return DayPilot.Stats.cacheHitsTicks+=1,b[a];var d,c=new Date(a),e=c.getUTCMilliseconds();d=0===e?"":e<10?".00"+e:e<100?".0"+e:"."+e;var f=c.getUTCSeconds();f<10&&(f="0"+f);var g=c.getUTCMinutes();g<10&&(g="0"+g);var h=c.getUTCHours();h<10&&(h="0"+h);var i=c.getUTCDate();i<10&&(i="0"+i);var j=c.getUTCMonth()+1;j<10&&(j="0"+j);var k=c.getUTCFullYear();if(k<=0)throw"The minimum year supported is 1.";k<10?k="000"+k:k<100?k="00"+k:k<1e3&&(k="0"+k);var l=k+"-"+j+"-"+i+"T"+h+":"+g+":"+f+d;return b[a]=l,l}function equalsIgnoreCase(a,b){return!DayPilot.Util.isNullOrUndefined(a)&&(!DayPilot.Util.isNullOrUndefined(b)&&a.toLocaleLowerCase()===b.toLocaleLowerCase())}if(void 0===DayPilot.$){DayPilot.$=function(a){return document.getElementById(a)},DayPilot.isKhtml=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("KHTML"),DayPilot.isIE=navigator&&navigator.userAgent&&(-1!==navigator.userAgent.indexOf("MSIE")||-1!==navigator.userAgent.indexOf("Trident")),DayPilot.isIEQuirks=DayPilot.isIE&&document.compatMode&&"BackCompat"===document.compatMode,DayPilot.browser={},DayPilot.browser.ie8=function(){var a=document.createElement("div");return a.innerHTML="\x3c!--[if IE 8]><i></i><![endif]--\x3e",1===a.getElementsByTagName("i").length}(),DayPilot.browser.ie9=function(){var a=document.createElement("div");return a.innerHTML="\x3c!--[if IE 9]><i></i><![endif]--\x3e",1===a.getElementsByTagName("i").length}(),DayPilot.browser.ielt9=function(){var a=document.createElement("div");return a.innerHTML="\x3c!--[if lt IE 9]><i></i><![endif]--\x3e",1===a.getElementsByTagName("i").length}(),DayPilot.libs={},DayPilot.libs.angularjs="object"==typeof $c,DayPilot.touch={},DayPilot.touch.start=window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",DayPilot.touch.move=window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",DayPilot.touch.end=window.navigator.msPointerEnabled?"MSPointerUp":"touchend",DayPilot.mo2=function(a,b){if(b=b||window.event,void 0!==b.offsetX){var c={x:b.offsetX+1,y:b.offsetY+1};if(!a)return c;for(var d=b.srcElement;d&&d!==a;)"SPAN"!==d.tagName&&(c.x+=d.offsetLeft,d.offsetTop>0&&(c.y+=d.offsetTop-d.scrollTop)),d=d.offsetParent;return d?c:null}if(void 0!==b.layerX){var c={x:b.layerX,y:b.layerY,$g:b.target};if(!a)return c;for(var d=b.target;d&&"absolute"!==d.style.position&&"relative"!==d.style.position;)d=d.parentNode,DayPilot.isKhtml&&(c.y+=d.scrollTop);for(;d&&d!==a;)c.x+=d.offsetLeft,c.y+=d.offsetTop-d.scrollTop,d=d.offsetParent;return d?c:null}return null},DayPilot.mo3=function(a,b){b=b||window.event;var c=DayPilot.page(b);if(c){var d=DayPilot.abs(a);return{x:c.x-d.x,y:c.y-d.y}}return DayPilot.mo2(a,b)},DayPilot.mc=function(a){return a.pageX||a.pageY?{x:a.pageX,y:a.pageY}:{x:a.clientX+document.documentElement.scrollLeft,y:a.clientY+document.documentElement.scrollTop}},DayPilot.Stats={},DayPilot.Stats.eventObjects=0,DayPilot.Stats.dateObjects=0,DayPilot.Stats.cacheHitsCtor=0,DayPilot.Stats.cacheHitsParsing=0,DayPilot.Stats.cacheHitsTicks=0,DayPilot.Stats.print=function(){console.log("DayPilot.Stats.eventObjects: "+DayPilot.Stats.eventObjects),console.log("DayPilot.Stats.dateObjects: "+DayPilot.Stats.dateObjects),console.log("DayPilot.Stats.cacheHitsCtor: "+DayPilot.Stats.cacheHitsCtor),console.log("DayPilot.Stats.cacheHitsParsing: "+DayPilot.Stats.cacheHitsParsing),console.log("DayPilot.Stats.cacheHitsTicks: "+DayPilot.Stats.cacheHitsTicks),console.log("DayPilot.Date.Cache.Ctor keys: "+Object.keys(DayPilot.Date.Cache.Ctor).length),console.log("DayPilot.Date.Cache.Parsing keys: "+Object.keys(DayPilot.Date.Cache.Parsing).length)},DayPilot.list=function(a,b){if(a&&a.isDayPilotList&&!b)return a;var c=DayPilot.isArray(a)||"[object NodeList]"===Object.prototype.toString.call(a),d=!c&&!DayPilot.Util.isNullOrUndefined(a),e=[];if(e.isDayPilotList=!0,e.clone=function(){var a=DayPilot.list();return e.each(function(b){a.push(b)}),a},e.each=function(a){if(a){if(e.forEach)return void e.forEach(a);for(var b=0;b<this.length;b++)a(e[b],b,e)}},e.addProps=function(a){var b=e.clone();if(a)for(var c in a)b[c]=a[c];return b},e.last=function(){return 0===e.length?null:e[e.length-1]},e.add=function(a){var b=e.clone();return b.push(a),b},e.map=function(a){if("function"!=typeof a)throw"DayPilot.list().map(f): Function expected";var b=DayPilot.list();return e.each(function(c,d,e){b.push(a(c,d,e))}),b},e.filter=function(a){var b=DayPilot.list();if("function"!=typeof a)throw"DayPilot.list().filter(f): Function expected";return e.each(function(c){a(c)&&b.push(c)}),b},e.concat=function(a){var b=e.clone();return DayPilot.list(a).each(function(a){b.push(a)}),b},e.find||(e.find=function(a){if("function"!=typeof a)throw"DayPilot.list().find(f): Function expected";for(var b=0;b<this.length;b++)if(a(e[b]))return e[b]}),e.some||(e.some=function(a){if("function"!=typeof a)throw"DayPilot.list().some(f): Function expected";for(var b=0;b<this.length;b++)if(a(e[b]))return!0;return!1}),e.reduce||(e.reduce=function(a,b){if("function"!=typeof a)throw"DayPilot.list().reduce(f): Function expected";var c,d=0;if(void 0!==b)c=b;else{if(d=1,0===e.length)throw"DayPilot.list().reduce(f): No initial value and empty list";c=e[0]}for(var f=d;f<this.length;f++)c=a(c,e[f],f,this);return c}),e.isEmpty=function(){return 0===e.length},c)for(var f=0;f<a.length;f++)e[f]=a[f];else d&&(e[0]=a);return e},DayPilot.line=function(a,b,c,d,e){var f={x:a,y:b},g={x:c,y:d,deg:DayPilot.deg(a,b,c,d)};if(b<d){var h=b;b=d,d=h,h=a,a=c,c=h}var i=DayPilot.deg(a,b,c,d),j=function(){var e=Math.abs(a-c),f=Math.abs(b-d);return Math.sqrt(e*e+f*f)}(),k=function(){var e=Math.abs(a-c),f=Math.abs(b-d),g=(a+c)/2;return g-Math.sqrt(e*e+f*f)/2}(),l=function(){return(b+d)/2}(),m=document.createElement("div");m.setAttribute("style","border:1px solid black;width:"+j+"px;height:0px;-moz-transform:rotate("+i+"deg);-webkit-transform:rotate("+i+"deg);-ms-transform:rotate("+i+"deg);transform:rotate("+i+"deg);position:absolute;top:"+l+"px;left:"+k+"px;");var n=document.createElement("div");if(n.appendChild(m),e){var j=6,o=g.y-j,p=g.x-j,i=i;g.y>f.y&&(i-=180);var q=document.createElement("div");q.style.borderColor="transparent black transparent transparent",q.style.borderWidth=j+"px",q.style.borderStyle="solid",q.style.position="absolute",q.style.left=p+"px",q.style.top=o+"px",q.style.transform="rotate("+i+"deg)",n.appendChild(q)}return n},DayPilot.deg=function(a,b,c,d){var g,e=Math.abs(a-c),f=Math.abs(b-d),h=(a+c)/2,i=(b+d)/2,j=Math.sqrt(e*e+f*f),k=h-j/2,l=i;e=j/2,g=Math.abs(h-k),f=Math.sqrt(Math.abs(a-k)*Math.abs(a-k)+Math.abs(b-l)*Math.abs(b-l));var m=(f*f-e*e-g*g)/(2*e*g);return 180*Math.acos(m)/Math.PI},DayPilot.complete=function(a){if("complete"===document.readyState)return void a();DayPilot.complete.list||(DayPilot.complete.list=[],DayPilot.re(document,"readystatechange",function(){if("complete"===document.readyState){for(var a=0;a<DayPilot.complete.list.length;a++){(0,DayPilot.complete.list[a])()}DayPilot.complete.list=[]}})),DayPilot.complete.list.push(a)},DayPilot.page=function(a){return a=a||window.event,void 0!==a.pageX?{x:a.pageX,y:a.pageY}:void 0!==a.clientX?{x:a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,y:a.clientY+document.body.scrollTop+document.documentElement.scrollTop}:null},DayPilot.rel=function(a,b){var c=DayPilot.abs(a),d=DayPilot.abs(b);return{x:c.x-d.x,y:c.y-d.y,w:a.offsetWidth,h:a.offsetHeight}},DayPilot.abs=function(a,b){if(!a)return null;var c={x:a.offsetLeft,y:a.offsetTop,w:a.clientWidth,h:a.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}};if(a.getBoundingClientRect){var d=null;try{d=a.getBoundingClientRect()}catch(b){d={top:a.offsetTop,$z:a.offsetLeft}}c.x=d.left,c.y=d.top;var e=DayPilot.doc();c.x-=e.clientLeft||0,c.y-=e.clientTop||0;var f=DayPilot.pageOffset();if(c.x+=f.x,c.y+=f.y,b){var g=DayPilot.absOffsetBased(a,!1),b=DayPilot.absOffsetBased(a,!0);c.x+=b.x-g.x,c.y+=b.y-g.y,c.w=b.w,c.h=b.h}return c}return DayPilot.absOffsetBased(a,b)},DayPilot.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},DayPilot.absOffsetBased=function(a,b){for(var c={x:a.offsetLeft,y:a.offsetTop,w:a.clientWidth,h:a.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}};DayPilot.op(a);)a=DayPilot.op(a),c.x-=a.scrollLeft,c.y-=a.scrollTop,b&&(c.x<0&&(c.w+=c.x,c.x=0),c.y<0&&(c.h+=c.y,c.y=0),a.scrollLeft>0&&c.x+c.w>a.clientWidth&&(c.w-=c.x+c.w-a.clientWidth),a.scrollTop&&c.y+c.h>a.clientHeight&&(c.h-=c.y+c.h-a.clientHeight)),c.x+=a.offsetLeft,c.y+=a.offsetTop;var d=DayPilot.pageOffset();return c.x+=d.x,c.y+=d.y,c},DayPilot.wd=function(){var a=DayPilot.isIEQuirks,b=document.documentElement.clientHeight;a&&(b=document.body.clientHeight);var c=document.documentElement.clientWidth;a&&(c=document.body.clientWidth);var d=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,e=document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft,f={};return f.width=c,f.height=b,f.scrollTop=d,f.scrollLeft=e,f},DayPilot.op=function(a){try{return a.offsetParent}catch(a){return document.body}},DayPilot.distance=function(a,b){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))},DayPilot.doc=function(){var a=document.documentElement;return a&&a.clientHeight?a:document.body},DayPilot.pageOffset=function(){if("undefined"!=typeof pageXOffset)return{x:pageXOffset,y:pageYOffset};var a=DayPilot.doc();return{x:a.scrollLeft,y:a.scrollTop}},DayPilot.ac=function(a,b){if(!b)var b=[];for(var c=0;a.children&&c<a.children.length;c++)b.push(a.children[c]),DayPilot.ac(a.children[c],b);return b},DayPilot.indexOf=function(a,b,c){if(!a||!a.length)return-1;for(var d=0;d<a.length;d++)if(c){if(c(a[d],b))return d}else if(a[d]===b)return d;return-1},DayPilot.contains=function(a,b){return!!a&&(a===b&&!DayPilot.isArray(a)||-1!==DayPilot.indexOf(a,b))},DayPilot.rfa=function(a,b){var c=DayPilot.indexOf(a,b);-1!==c&&a.splice(c,1)},DayPilot.sheet=function(){var a=document.createElement("style");a.setAttribute("type","text/css"),a.styleSheet||a.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(a);var c=!!a.styleSheet,d={};return d.rules=[],d.commit=function(){try{c&&(a.styleSheet.cssText=this.rules.join("\n"))}catch(a){}},d.add=function(b,d,e){if(c)return void this.rules.push(b+"{"+d+"}");if(a.sheet.insertRule)a.sheet.insertRule(b+"{"+d+"}",e);else{if(!a.sheet.addRule)throw"No CSS registration method found";a.sheet.addRule(b,d,e)}},d},DayPilot.Args=function(){var a=this;this.preventDefault=function(){a.preventDefault.value=!0}},DayPilot.Debug=function(a){var b=this;this.printToBrowserConsole=!1,this.enabled=!1,this.messages=[],this.$3a=null,this.clear=function(){this.messages=[],b.$3a&&(b.$3a.innerHTML="")},this.hide=function(){DayPilot.de(b.$3a),b.$3a=null},this.show=function(){b.$3a&&b.hide();var c=a.nav.top,d=document.createElement("div");d.style.position="absolute",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.style.backgroundColor="black",d.style.color="#ccc",d.style.overflow="auto",d.style.webkitUserSelect="auto",d.style.MozUserSelect="all",d.onclick=function(){b.hide()};for(var e=0;e<this.messages.length;e++){var f=b.messages[e],g=f.$3b();d.appendChild(g)}this.$3a=d,c.appendChild(d)},this.message=function(a,b){if(this.enabled){var c={};c.time=new DayPilot.Date,c.level=b||"debug",c.text=a,c.$3b=function(){var a=document.createElement("div");switch(a.innerHTML=c.time+" ("+c.level+"): "+c.text,c.level){case"error":a.style.color="red";break;case"warning":a.style.color="orange";break;case"info":a.style.color="white"}return a},this.messages.push(c),this.printToBrowserConsole&&"undefined"!=typeof console&&console.log(c)}}},DayPilot.re=function(a,b,c){if(c)if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent){var d=function(b){c.call(a,b)};a.attachEvent("on"+b,d)}},DayPilot.ue=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)},DayPilot.tr=function(a){return a?a.replace(/^\s+|\s+$/g,""):""},DayPilot.ds=function(a){return DayPilot.Date.toStringSortable(a)},DayPilot.gs=function(a,b){var c=a;if(c.currentStyle)var d=c.currentStyle[b];else if(window.getComputedStyle)var d=document.defaultView.getComputedStyle(c,null).getPropertyValue(b);return void 0===d&&(d=""),d},DayPilot.StyleReader=function(a){function b(a){return a.charAt(0).toUpperCase()+a.slice(1)}this.get=function(c){var d=DayPilot.list(c.split("-")),e=d.reduce(function(a,c,d){return c=b(c),a+c});return a?DayPilot.gs(a,e)||DayPilot.gs(a,c):null}},DayPilot.he=function(a){var b=a.replace(/&/g,"&amp;");return b=b.replace(/</g,"&lt;"),b=b.replace(/>/g,"&gt;"),b=b.replace(/"/g,"&quot;")},DayPilot.us=function(a){if(a){a.setAttribute("unselectable","on"),a.style.userSelect="none",a.style.MozUserSelect="none",a.style.KhtmlUserSelect="none",a.style.webkitUserSelect="none";for(var b=0;b<a.childNodes.length;b++)1===a.childNodes[b].nodeType&&DayPilot.us(a.childNodes[b])}},DayPilot.pu=function(a){var c,d,e,b=a.attributes;if(b)for(d=b.length,c=0;c<d;c+=1)b[c]&&(e=b[c].name,"function"==typeof a[e]&&(a[e]=null));if(b=a.childNodes)for(d=b.length,c=0;c<d;c+=1){DayPilot.pu(a.childNodes[c])}},DayPilot.puc=function(a){var c,d,b=a.childNodes;if(b){var d=b.length;for(c=0;c<d;c+=1)DayPilot.pu(a.childNodes[c])}},DayPilot.de=function(a){if(a)if(DayPilot.isArray(a))for(var b=0;b<a.length;b++)DayPilot.de(a[b]);else a.parentNode&&a.parentNode.removeChild(a)},DayPilot.fade=function(a,b,c){if(a){clearTimeout(a.messageTimeout);var e="none"!==a.style.display,f=b>0,g=b<0;if(0!==b){if(f?a.status="in":g&&(a.status="out"),f&&!e)a.target=parseFloat(a.style.opacity),a.opacity=0,a.style.opacity=0,a.style.filter="alpha(opacity=0)",a.style.display="";else if(g&&!a.target)a.target=a.style.opacity;else{var h=a.opacity,i=Math.floor(10*(h+b))/10;f&&i>a.target&&(i=a.target),g&&i<0&&(i=0);var j=100*i;a.opacity=i,a.style.opacity=i,a.style.filter="alpha(opacity="+j+")"}if(f&&(a.opacity>=a.target||a.opacity>=1)||g&&a.opacity<=0){if(a.target=null,g){a.style.opacity=a.target,a.opacity=a.target;var k=a.target?"alpha(opacity="+100*a.target+")":null;a.style.filter=k,a.style.display="none"}c&&"function"==typeof c&&(a.status=null,c())}else a.messageTimeout=setTimeout(function(){DayPilot.fade(a,b,c)},50)}}},DayPilot.sw=function(a){return a?a.offsetWidth-a.clientWidth:0},DayPilot.swa=function(){var a=document.createElement("div");a.style.position="absolute",a.style.top="-2000px",a.style.left="-2000px",a.style.width="200px",a.style.height="100px",a.style.overflow="auto";var b=document.createElement("div");b.style.width="300px",b.style.height="300px",a.appendChild(b),document.body.appendChild(a);var c=DayPilot.sw(a);return document.body.removeChild(a),c},DayPilot.sh=function(a){return a?a.offsetHeight-a.clientHeight:0},DayPilot.guid=function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return""+a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},DayPilot.ua=function(a){if("string"==typeof a||"number"==typeof a)return[a];for(var b={},c=[],d=0,e=a.length;d<e;++d)a[d]in b||(c.push(a[d]),b[a[d]]=1);return c},DayPilot.am=function(){return"undefined"==typeof angular?null:(DayPilot.am.cached||(DayPilot.am.cached=angular.module("daypilot",[])),DayPilot.am.cached)},function(){function a(a,d){var e={w:a.offsetWidth,h:a.offsetHeight,x:parseInt(a.style.left),y:parseInt(a.style.top)};e.height=a.style.height,e.width=a.style.width,e.top=a.style.top,e.left=a.style.left,e.toString=function(){return"w: "+this.w+" h:"+this.h};var f={};if(f.finished=null,f.vertical="center",f.horizontal="center",d)for(var g in d)f[g]=d[g];a.style.visibility="hidden",a.style.display="";var h=d.animation||"fast",i=b(h);i.div=a,i.i=0,i.target=e,i.config=f,c(i)}function b(a){var b=function(){var a=[];a.time=10;var b,c=.08;b=.1;for(var d=b;d<1.2;d+=c)a.push(d),b=d;c=.03;for(var d=b;d>.8;d-=c)a.push(d),b=d;for(var d=b;d<=1;d+=c)a.push(d),b=d;return a},c=function(){var a=[];a.time=10;var b,c=.04;b=.1;for(var d=b;d<=1;d+=c)a.push(d),b=d;return a},d=function(){var a=[];a.time=10;var b,c=.08;b=.1;for(var d=b;d<=1;d+=c)a.push(d),b=d;return a},e={fast:d,slow:c,jump:b};return e[a]||(a="fast"),e[a]()}function c(a){var f,b=a.div,d=a[a.i],e=d*a.target.h;switch(a.config.vertical){case"center":f=a.target.y-(e-a.target.h)/2;break;case"top":f=a.target.y;break;case"bottom":f=a.target.y-(e-a.target.h);break;default:throw"Unexpected 'vertical' value."}var h,g=d*a.target.w;switch(a.config.horizontal){case"left":h=a.target.x;break;case"center":h=a.target.x-(g-a.target.w)/2;break;case"right":h=a.target.x-(g-a.target.w);break;default:throw"Unexpected 'horizontal' value."}var i=DayPilot.wd(),j=i.height+i.scrollTop-(f+e);j<0&&(f+=j);var k=i.width-(h+g);k<0&&(h+=k),b.style.height=e+"px",b.style.top=f+"px",b.style.width=g+"px",b.style.left=h+"px",b.style.visibility="visible",a.i++,a.i<a.length-1?setTimeout(function(a){return function(){c(a)}}(a),a.time):(b.style.width=a.target.width,b.style.height=a.target.height,b.style.top=a.target.top,b.style.left=a.target.left,"function"==typeof a.config.finished&&a.config.finished())}DayPilot.pop=a}(),DayPilot.Util={},DayPilot.Util.addClass=function(a,b){if(b&&a)if(DayPilot.isArray(a))for(var c=0;c<a.length;c++)DayPilot.Util.addClass(a[c],b);else{if(!a.className)return void(a.className=b);var d=new RegExp("(^|\\s)"+b+"($|\\s)");d.test(a.className)||(a.className=a.className+" "+b)}},DayPilot.Util.addClassToString=function(a,b){return a?new RegExp("(^|\\s)"+b+"($|\\s)").test(a)?a:a+" "+b:b},DayPilot.Util.removeClassFromString=function(a,b){if(!a)return"";var c=new RegExp("(^|\\s)"+b+"($|\\s)");return a.replace(c," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},DayPilot.Util.removeClass=function(a,b){if(a)if(DayPilot.isArray(a))for(var c=0;c<a.length;c++)DayPilot.Util.removeClass(a[c],b);else{var d=new RegExp("(^|\\s)"+b+"($|\\s)");a.className=a.className.replace(d," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}},DayPilot.Util.props=function(a){var b=[];for(var c in a)b.push(c),b.push(a[c]);return b.join("-")},DayPilot.Util.propArray=function(a,b,c){return DayPilot.list(a).map(function(a){return a[b]?a[b]:c})},DayPilot.Util.updatePropsFromArray=function(a,b,c){for(var d=0;d<c.length;d++)a[d][b]=c[d]},DayPilot.Util.copyProps=function(a,b,c){if(a)if(void 0===c)for(var d in a)void 0!==a[d]&&(b[d]=a[d]);else for(var e=0;e<c.length;e++){var d=c[e];void 0!==a[d]&&(b[d]=a[d])}},DayPilot.Util.firstPropValue=function(a){for(var b in a)return a[b]},DayPilot.Util.createArrayCopy=function(a,b){if(!DayPilot.isArray(a))return[];for(var c=[],d=0;d<a.length;d++){var e={};DayPilot.Util.copyProps(a[d],e,b),c.push(e)}return c},DayPilot.Util.avg=function(a,b){return(a+b)/2},DayPilot.Util.div=function(a,b,c,d,e){var f=document.createElement("div");return(b||c||d||e)&&(d<0&&(b+=d,d*=-1),e<0&&(c+=e,e*=-1),f.style.position="absolute","number"==typeof b&&(f.style.left=b+"px"),"number"==typeof c&&(f.style.top=c+"px"),"number"==typeof d&&(f.style.width=d+"px"),"number"==typeof e&&(f.style.height=e+"px")),a&&a.appendChild(f),f},DayPilot.Util.overlaps=function(a,b,c,d){return!(b<=c||a>=d)},DayPilot.Util.isMouseEvent=function(a){return!!navigator.msPointerEnabled&&(!!a.pointerType&&("mouse"===a.pointerType||4===a.pointerType))},DayPilot.Util.mouseButton=function(a){var b={};if(a=a||window.event,void 0===a.which)switch(a.button){case 1:b.left=!0;break;case 4:b.middle=!0;break;case 2:b.right=!0;break;case 0:b.unknown=!0}else switch(a.which){case 1:b.left=!0;break;case 2:b.middle=!0;break;case 3:b.right=!0}return b},DayPilot.Util.membersPlain=function(a){var b=DayPilot.Util.members(a,2),c=function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.name;c.obsolete&&(d+=" (obsolete)"),c.noCssOnly&&(d+=" (!cssOnly)"),c.aspnet&&(d+=" (ASP.NET)"),c.mvc&&(d+="(MVC)"),a[b]=d}};return c(b.events),c(b.methods),c(b.properties),b},DayPilot.Util.members=function(a,b){var c=DayPilot.list(),d=DayPilot.list(),e=DayPilot.list(),f=a&&a.members?a.members.obsolete:[],g=a&&a.members?a.members.noCssOnly:[],h=a&&a.members?a.members.ignore:[],i=a&&a.members&&a.members.ignoreFilter?a.members.ignoreFilter:function(){return!1};for(var j in a)if(0!==j.indexOf("$")&&0!==j.indexOf("_")&&0!==j.indexOf("number")&&0!==j.indexOf("is")&&"v"!==j&&!DayPilot.contains(h,j)&&!i(j))if(0!==j.indexOf("on"))if("function"!=typeof a[j])if("object"!=typeof a[j])e.push(j);else{var k=a[j];if(0===b){e.push(j);continue}if(k&&k.nodeType>0){e.push(j);continue}if(k instanceof DayPilot.Bubble){e.push(j);continue}if(k instanceof DayPilot.Date){e.push(j);continue}if(k instanceof DayPilot.Menu){e.push(j);continue}if(k instanceof DayPilot.Scheduler){e.push(j);continue}if(DayPilot.isArray(k)){e.push(j);continue}null===k&&e.push(j);var l=null;"number"==typeof b&&(l=b-1);for(var m=DayPilot.Util.members(k,l),n=0;n<m.events.length;n++)c.push(j+"."+m.events[n].name);for(var n=0;n<m.methods.length;n++)d.push(j+"."+m.methods[n].name);for(var n=0;n<m.properties.length;n++)e.push(j+"."+m.properties[n].name)}else d.push(j);else c.push(j);c.sort(),d.sort(),e.sort();var o=function(a){for(var b=0;b<a.length;b++){var c=a[b],d={};d.name=c,a[b]=d,DayPilot.contains(f,c)&&(d.obsolete=!0),DayPilot.contains(g,c)&&(d.noCssOnly=!0),-1!==c.indexOf("CallBack")&&(d.aspnet=!0,d.mvc=!0),-1!==c.indexOf("PostBack")&&(d.aspnet=!0),-1!==c.indexOf("Notify")&&(d.aspnet=!0,d.mvc=!0)}};return o(c),o(d),o(e),{events:c,methods:d,properties:e}},DayPilot.Util.replaceCharAt=function(a,b,c){return a.substr(0,b)+c+a.substr(b+c.length)},DayPilot.Util.evalVariable=function(str,$0Q){if($0Q=$0Q||["object"],null===str||void 0===str)return null;if(-1!==DayPilot.indexOf($0Q,typeof str))return str;if("string"!=typeof str)throw"Unable to resolve a variable name (not a string).";if(!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(str))throw"Invalid variable name: "+str;return eval(str)},DayPilot.Util.evalFunction=function(str){if(null===str)return null;if("function"==typeof str)return str;if("string"!=typeof str)throw"Unable to resolve a function (not a string).";if(!/^\(?function/.test(str))throw"Invalid function string";return eval("("+str+")")},DayPilot.Util.parseJSON=function(a){return JSON&&JSON.parse?JSON.parse(a):DayPilot.JSON.parse(a)},DayPilot.Util.isNullOrUndefined=function(a){return null===a||void 0===a},DayPilot.Util.log=function(a){window.console&&window.console.log&&window.console.log(a)},DayPilot.Util.adiff=function(a,b,c){var d={};return d.add=[],d.remove=[],d},DayPilot.Areas={},DayPilot.Areas.attach=function(a,b,c){var c=c||{},d=c.areas,e=c.allowed||function(){return!0},f=c.offsetX||0;DayPilot.re(a,"mousemove",function(g){a.active||a.areasDisabled||!e()||DayPilot.Areas.showAreas(a,b,g,d,{offsetX:f,eventDiv:c.eventDiv})}),DayPilot.re(a,"mouseout",function(b){DayPilot.Areas.hideAreas(a,b)}),d=$0V(b,d),DayPilot.list(d).each(function(d){if("Visible"===(d.v||"Visible")){var g=DayPilot.Areas.createArea(a,b,d,{offsetX:f,eventDiv:c.eventDiv});a.appendChild(g)}})},DayPilot.Areas.disable=function(a){a.areasDisabled=!0,DayPilot.list(a.childNodes).filter(function(a){return a.isActiveArea&&!a.area.start}).each(function(a){a.style.display="none"})},DayPilot.Areas.enable=function(a){a.areasDisabled=!1,DayPilot.list(a.childNodes).filter(function(a){return a.isActiveArea&&!a.area.start}).each(function(a){a.style.display=""})};var $0V=function(a,b){return DayPilot.isArray(b)||(b=a.areas)||(a.cache?b=a.cache.areas:a.data&&(b=a.data.areas)),b};DayPilot.Areas.showAreas=function(a,b,c,d,e){if(!DayPilot.Global.resizing&&!DayPilot.Global.moving){if(DayPilot.Areas.all&&DayPilot.Areas.all.length>0)for(var f=0;f<DayPilot.Areas.all.length;f++){var g=DayPilot.Areas.all[f];g!==a&&DayPilot.Areas.hideAreas(g,c)}if(!a.active&&(a.active={},DayPilot.isArray(d)||(d=b.areas)||(b.cache?d=b.cache.areas:b.data&&(d=b.data.areas)),d&&0!==d.length&&!(a.areas&&a.areas.length>0))){a.areas=[];for(var f=0;f<d.length;f++){var h=d[f];if("Hover"===(h.v||"Visible")){var j=DayPilot.Areas.createArea(a,b,h,e);a.areas.push(j),a.appendChild(j),DayPilot.Areas.all.push(a)}}a.active.children=DayPilot.ac(a)}}},DayPilot.Areas.createArea=function(a,b,c,d){function m(a,b,c){DayPilot.Bubble&&DayPilot.Bubble.touchPosition(c),a.calendar.bubble&&a.calendar.bubble.showEvent(a,!0)}function n(a,b,c){DayPilot.Menu&&DayPilot.Menu.touchPosition(c);var d=b.menu;"string"==typeof d?d=DayPilot.Util.evalVariable(d):a.isEvent&&a.calendar.contextMenu?d=DayPilot.Util.evalVariable(a.calendar.contextMenu):a.isRow&&a.calendar.contextMenu&&(d=DayPilot.Util.evalVariable(a.calendar.contextMenuResource)),d&&d.show&&d.show(a)}var d=d||{},e=d.offsetX||0,f=d.eventDiv||a,g=document.createElement("div");g.isActiveArea=!0,g.area=c,g.setAttribute("unselectable","on");var h=c.w||c.width,i=c.h||c.height,j=c.cssClass||c.css||c.className;if(void 0!==c.style&&g.setAttribute("style",c.style),g.style.position="absolute",void 0!==h&&(g.style.width=h+"px"),void 0!==i&&(g.style.height=i+"px"),void 0!==c.right&&(g.style.right=c.right+"px"),void 0!==c.top&&(g.style.top=c.top+"px"),void 0!==c.left&&(g.style.left=c.left+e+"px"),void 0!==c.bottom&&(g.style.bottom=c.bottom+"px"),void 0!==c.html&&c.html&&(g.innerHTML=c.html),j&&(g.className=j),c.backColor&&(g.style.background=c.backColor),"ResizeEnd"===c.action||"ResizeStart"===c.action||"Move"===c.action){if(b.calendar.isCalendar)switch(c.action){case"ResizeEnd":c.cursor="s-resize",c.dpBorder="bottom";break;case"ResizeStart":c.cursor="n-resize",c.dpBorder="top";break;case"Move":c.cursor="move"}if(b.calendar.isScheduler||b.calendar.isMonth)switch(c.action){case"ResizeEnd":c.cursor="e-resize",c.dpBorder="right";break;case"ResizeStart":c.cursor="w-resize",c.dpBorder="left";break;case"Move":c.cursor="move"}g.onmousemove=function(a,b,c){return function(b){var b=b||window.event;a.style.cursor=c.cursor,c.dpBorder&&(a.dpBorder=c.dpBorder),b.cancelBubble=!0}}(f,0,c),g.onmouseout=function(a,b,c){return function(b){a.style.cursor=""}}(f)}if(("ResizeEnd"===c.action||"ResizeStart"===c.action)&&b.isEvent&&b.calendar.internal.touch){var k=function(a,b,c){return function(d){d.cancelBubble=!0;var e=b.calendar.internal.touch,f=d.touches?d.touches[0]:d,g={x:f.pageX,y:f.pageY};b.calendar.coords=e.relativeCoords(d),e.preventEventTap=!0,b.calendar.isScheduler?e.startResizing(a,"ResizeEnd"===c.action?"right":"left"):b.calendar.isCalendar&&e.startResizing(a,"ResizeEnd"===c.action?"bottom":"top",g)}}(f,b,c);DayPilot.re(g,DayPilot.touch.start,k)}if("ContextMenu"===c.action&&b.isEvent&&b.calendar.internal.touch){var k=function(a,b,c){return function(a){a.cancelBubble=!0,a.preventDefault(),n(b,c,a),b.calendar.internal.touch.preventEventTap=!0}}(0,b,c),l=function(a,b,c){return function(a){a.cancelBubble=!0,a.preventDefault()}}();DayPilot.re(g,DayPilot.touch.start,k),DayPilot.re(g,DayPilot.touch.end,l)}if("Bubble"===c.action&&b.isEvent&&b.calendar.internal.touch){var k=function(a,b,c){return function(a){a.cancelBubble=!0,a.preventDefault(),m(b,c,a),b.calendar.internal.touch.preventEventTap=!0}}(0,b,c),l=function(a,b,c){return function(a){a.cancelBubble=!0,a.preventDefault()}}();DayPilot.re(g,DayPilot.touch.start,k),DayPilot.re(g,DayPilot.touch.end,l)}if("Move"===c.action&&b.isEvent&&b.calendar.internal.touch){var k=function(a,b,c){return function(c){c.cancelBubble=!0;var d=b.calendar.internal.touch,e=c.touches?c.touches[0]:c,f={x:e.pageX,y:e.pageY};b.calendar.coords=d.relativeCoords(c),d.preventEventTap=!0,d.startMoving(a,f)}}(f,b);DayPilot.re(g,DayPilot.touch.start,k)}return"Move"===c.action&&b.isRow&&b.calendar.internal.touch,"Bubble"===c.action&&b.isEvent&&(g.onmousemove=function(a,b,c){return function(a){b.calendar.bubble&&b.calendar.bubble.showEvent(b,!0)}}(0,b),g.onmouseout=function(a,b,c){return function(a){void 0!==DayPilot.Bubble&&b.calendar.bubble&&b.calendar.bubble.hideOnMouseOut()}}(0,b)),"HoverMenu"===c.action&&(g.onmousemove=function(a,b,c){return function(a){var d=c.menu;"string"==typeof d&&(d=DayPilot.Util.evalVariable(d)),d&&d.show&&(d.visible?d.source&&void 0!==d.source.id&&d.source.id!==b.id&&d.show(b):d.show(b),d.cancelHideTimeout())}}(0,b,c),g.onmouseout=function(a,b,c){return function(a){var b=c.menu;"string"==typeof b&&(b=DayPilot.Util.evalVariable(b)),b&&b.hideOnMouseOver&&b.delayedHide()}}(0,0,c)),g.onmousedown=function(a,b,c){return function(a){if("function"==typeof c.onmousedown&&c.onmousedown(a),"Move"===c.action&&b.isRow){var d=b.$.row;b.calendar.internal.rowtools.startMoving(d)}{if("Move"===c.action||"ResizeEnd"===c.action||"ResizeStart"===c.action||!c.action)return;a=a||window.event,a.cancelBubble=!0}}}(0,b,c),g.onclick=function(a,b,c){return function(a){var a=a||window.event;if(c.action){switch(c.action){case"JavaScript":var d=c.js;"string"==typeof d&&(d=DayPilot.Util.evalFunction(c.js)),"function"==typeof d&&d.call(this,b);break;case"ContextMenu":n(b,c,a);break;case"CallBack":alert("callback not implemented yet, id: "+c.id)}a.cancelBubble=!0}}}(0,b,c),g},DayPilot.Areas.all=[],DayPilot.Areas.hideAreas=function(a,b){if(a&&a&&a.active){var c=a.active,d=a.areas;if(c&&c.children){var b=b||window.event;if(b){var e=b.toElement||b.relatedTarget;if(~DayPilot.indexOf(c.children,e))return}}if(!d||0===d.length)return void(a.active=null);DayPilot.de(d),a.active=null,a.areas=[],DayPilot.rfa(DayPilot.Areas.all,a),c.children=null}},DayPilot.Areas.hideAll=function(a){if(DayPilot.Areas.all&&0!==DayPilot.Areas.all.length)for(var b=0;b<DayPilot.Areas.all.length;b++)DayPilot.Areas.hideAreas(DayPilot.Areas.all[b],a)},DayPilot.Action=function(a,b,c,d){var e=this;this.calendar=a,this.isAction=!0,this.action=b,this.params=c,this.data=d,this.notify=function(){e.calendar.internal.invokeEvent("Immediate",this.action,this.params,this.data)},this.auto=function(){e.calendar.internal.invokeEvent("Notify",this.action,this.params,this.data)},this.queue=function(){e.calendar.queue.add(this)},this.toJSON=function(){var a={};return a.name=this.action,a.params=this.params,a.data=this.data,a}},DayPilot.Selection=function(a,b,c,d){this.menuType="selection",this.start=new DayPilot.Date(a),this.end=new DayPilot.Date(b),this.resource=c,this.root=d,this.calendar=d,this.toJSON=function(a){var b={};return b.start=this.start,b.end=this.end,b.resource=this.resource,b}},DayPilot.Link=function(a,b){this.isLink=!0,this.data=a,this.calendar=b,this.to=function(){return this.data.to},this.from=function(){return this.data.from},this.type=function(){return this.data.type},this.id=function(){return this.data.id},this.toJSON=function(){var a={};return a.from=this.data.from,a.to=this.data.to,a.id=this.data.id,a.type=this.data.type,a}},DayPilot.Args=function(){this.isArgs=!0,this.preventDefault=function(){this.preventDefault.value=!0}},DayPilot.Event=function(a,b,c){var d=this;this.calendar=b,this.data=a||{},this.part=c||{},void 0===this.data.id&&(this.data.id=this.data.value);var e={},f=["id","text","start","end","resource"];this.isEvent=!0,DayPilot.Stats.eventObjects+=1,this.temp=function(){if(e.dirty)return e;for(var a=0;a<f.length;a++)e[f[a]]=d.data[f[a]];return e.dirty=!0,e},this.copy=function(){var a={};return DayPilot.Util.copyProps(d.data,a),a},this.commit=function(){if(e.dirty){for(var a=0;a<f.length;a++)d.data[f[a]]=e[f[a]];e.dirty=!1}},this.dirty=function(){return e.dirty},this.id=function(a){if(void 0===a)return d.data.id;this.temp().id=a},this.value=function(a){if(void 0===a)return d.id();d.id(a)},this.text=function(a){if(void 0===a)return d.data.text;this.temp().text=a,this.client.innerHTML(a)},this.start=function(a){if(void 0===a)return new DayPilot.Date(d.data.start);this.temp().start=new DayPilot.Date(a)},this.end=function(a){if(void 0===a)return b&&b.internal.adjustEndNormalize?b.internal.adjustEndNormalize(new DayPilot.Date(d.data.end)):new DayPilot.Date(d.data.end);this.temp().end=new DayPilot.Date(a)},this.rawend=function(){if("undefined"==typeof $0R)return b&&b.internal.adjustEndIn?b.internal.adjustEndIn(new DayPilot.Date(d.data.end)):new DayPilot.Date(d.data.end);this.temp().end=new DayPilot.Date($0R)},this.partStart=function(){return new DayPilot.Date(this.part.start)},this.partEnd=function(){return new DayPilot.Date(this.part.end)},this.row=function(){return this.resource()},this.allday=function(){if("undefined"==typeof $0R)return d.data.allday;this.temp().allday=$0R},this.isAllDay=this.allday,this.resource=function(a){if(void 0===a)return d.data.resource;this.temp().resource=a},this.recurrent=function(){return d.data.recurrent},this.recurrentMasterId=function(){return d.data.recurrentMasterId},this.useBox=function(){return this.part.box},this.staticBubbleHTML=function(){return this.bubbleHtml()},this.bubbleHtml=function(){return d.cache?d.cache.bubbleHtml||d.data.bubbleHtml:d.data.bubbleHtml},this.tag=function(a){if(d.data.tags)return d.data.tags[a];var b=d.data.tag;if(!b)return null;if(void 0===a)return d.data.tag;for(var c=d.calendar.tagFields,e=-1,f=0;f<c.length;f++)a===c[f]&&(e=f);if(-1===e)throw"Field name not found.";return b[e]},this.client={},this.client.innerHTML=function(a){if(void 0===a)return d.cache&&void 0!==d.cache.html?d.cache.html:void 0!==d.data.html?d.data.html:d.data.text;d.data.html=a,d.cache&&(d.cache.html=a)},this.client.html=this.client.innerHTML,this.client.header=function(a){if(void 0===a)return d.data.header;d.data.header=a},this.client.cssClass=function(a){if(void 0===a)return d.data.cssClass;d.data.cssClass=a},this.client.toolTip=function(a){if(void 0===a)return d.cache&&void 0!==d.cache.toolTip?d.cache.toolTip:void 0!==d.data.toolTip?d.data.toolTip:d.data.text;d.data.toolTip=a},this.client.backColor=function(a){if(void 0===a)return d.cache&&void 0!==d.cache.backColor?d.cache.backColor:void 0!==d.data.backColor?d.data.backColor:d.calendar.eventBackColor;d.data.backColor=a},this.client.borderColor=function(a){if(void 0===a)return d.cache&&void 0!==d.cache.borderColor?d.cache.borderColor:void 0!==d.data.borderColor?d.data.borderColor:d.calendar.eventBorderColor;d.data.borderColor=a},this.client.barColor=function(a){if(void 0===a)return d.cache&&void 0!==d.cache.barColor?d.cache.barColor:void 0!==d.data.barColor?d.data.barColor:d.calendar.durationBarColor;d.data.barColor=a},this.client.barVisible=function(a){if(void 0===a)return d.cache&&void 0!==d.cache.barHidden?!d.cache.barHidden:d.calendar.durationBarVisible&&!d.data.barHidden;d.data.barHidden=!a},this.client.contextMenu=function(a){if(void 0===a){if(d.oContextMenu)return d.oContextMenu;var b=d.cache?d.cache.contextMenu:d.data.contextMenu;return b?DayPilot.Util.evalVariable(b):null}d.oContextMenu=a},this.client.moveEnabled=function(a){if(void 0===a)return d.cache&&void 0!==d.cache.moveDisabled?!d.cache.moveDisabled:"Disabled"!==d.calendar.eventMoveHandling&&!d.data.moveDisabled;d.data.moveDisabled=!a},this.client.resizeEnabled=function(a){if(void 0===a)return d.cache&&void 0!==d.cache.resizeDisabled?!d.cache.resizeDisabled:"Disabled"!==d.calendar.eventResizeHandling&&!d.data.resizeDisabled;d.data.resizeDisabled=!a},this.client.rightClickEnabled=function(a){if(void 0===a)return d.cache&&void 0!==d.cache.rightClickDisabled?!d.cache.rightClickDisabled:"Disabled"!==d.calendar.rightClickHandling&&!d.data.rightClickDisabled;d.data.rightClickDisabled=!a},this.client.clickEnabled=function(a){if(void 0===a)return d.cache&&void 0!==d.cache.clickDisabled?!d.cache.clickDisabled:"Disabled"!==d.calendar.clickHandling&&!d.data.clickDisabled;d.data.clickDisabled=!a},this.client.deleteEnabled=function(a){if(void 0===a)return d.cache&&void 0!==d.cache.deleteDisabled?!d.cache.deleteDisabled:"Disabled"!==d.calendar.eventDeleteHandling&&!d.data.deleteDisabled;d.data.deleteDisabled=!a},this.client.doubleClickEnabled=function(a){if(void 0===a)return d.cache&&void 0!==d.cache.doubleClickDisabled?!d.cache.doubleClickDisabled:"Disabled"!==d.calendar.eventDoubleClickHandling&&!d.data.doubleClickDisabled;d.data.doubleClickDisabled=!a},this.client.deleteClickEnabled=function(a){if(void 0===a)return d.cache&&void 0!==d.cache.deleteDisabled?!d.cache.deleteDisabled:"Disabled"!==d.calendar.eventDeleteHandling&&!d.data.deleteDisabled;d.data.deleteDisabled=!a},this.toJSON=function(a){var b={};if(b.value=this.id(),b.id=this.id(),b.text=this.text(),b.start=this.start().toJSON(),b.end=this.end().toJSON(),b.resource=this.resource(),b.isAllDay=!1,b.recurrentMasterId=this.recurrentMasterId(),b.join=this.data.join,b.tag={},d.data.tags)for(var c in d.data.tags)d.data.tags.hasOwnProperty(c)&&(b.tag[c]=""+d.data.tags[c]);else if(d.calendar.tagFields)for(var e=d.calendar.tagFields,f=0;f<e.length;f++)b.tag[e[f]]=this.tag(e[f]);return b}},DayPilot.Task=function(a,b){if(!a)throw"Trying to initialize DayPilot.Task with null data parameter";var c=this,d=null;if(a instanceof DayPilot.Event)d=a,this.data=a.data.task;else{if(a instanceof DayPilot.Task)return a;a.isTaskWrapper?this.data=a.data:this.data=a}var e={},f=["id","text","start","end","complete","type"];this.isTask=!0,this.calendar=b,this.temp=function(){if(e.dirty)return e;for(var a=0;a<f.length;a++)e[f[a]]=c.data[f[a]];return e.dirty=!0,e},this.copy=function(){var a={};return DayPilot.Util.copyProps(c.data,a),a},this.commit=function(){if(e.dirty){for(var a=0;a<f.length;a++)c.data[f[a]]=e[f[a]];e.dirty=!1}},this.dirty=function(){return e.dirty},this.id=function(a){if(void 0===a)return c.data.id;this.temp().id=a},this.text=function(a){if(void 0===a)return c.data.text;this.temp().text=a,this.client.innerHTML(a)},this.start=function(a){if(void 0===a)return new DayPilot.Date(c.data.start);this.temp().start=new DayPilot.Date(a)},this.duration=function(){return new DayPilot.Duration(this.start(),this.end())},this.end=function(a){if(void 0===a)return b&&"Date"===b.eventEndSpec?new DayPilot.Date(c.data.end).getDatePart().addDays(1):new DayPilot.Date(c.data.end);this.temp().end=new DayPilot.Date(a)},this.type=function(a){if(void 0===a)return d?d.data.type:c.data.type;this.temp().type=a},this.complete=function(a){if(void 0===a)return c.data.complete?c.data.complete:0;this.temp().complete=a},this.children=function(){var a=[];a.add=function(a){var b=new DayPilot.Task(a);this.data.children||(this.data.children=[]),this.children.push(b.data)};for(var c=0;this.data.children&&c<this.data.children.length;c++)a.push(new DayPilot.Task(this.data.children[c],b));return a},this.toJSON=function(a){var b={};return b.id=this.id(),b.text=this.text(),b.start=this.start().toJSON(),b.end=this.end().toJSON(),b.type=this.type(),b.tags={},DayPilot.Util.copyProps(this.data.tags,b.tags),b},this.row={};var g=this.row;g.expanded=function(a){if(void 0===a)return!c.data.row||!c.data.row.collapsed;c.data.row||(c.data.row={}),!!c.data.row.collapsed!=!a&&b.internal.rowObjectForTaskData(c.data).toggle(),c.data.row.collapsed=!a},g.expand=function(){g.expanded(!0)},g.collapse=function(){g.expanded(!1)},g.toggle=function(){g.expanded(!g.expanded())}},DayPilot.request=function(a,b,c,d){var e=DayPilot.createXmlHttp();e&&(e.open("POST",a,!0),e.setRequestHeader("Content-type","text/plain"),e.onreadystatechange=function(){if(4===e.readyState)return 200!==e.status&&304!==e.status?void(d?d(e):window.console&&console.log("HTTP error "+e.status)):void b(e)},4!==e.readyState&&("object"==typeof c&&(c=DayPilot.JSON.stringify(c)),e.send(c)))},DayPilot.ajax=function(a){var b=DayPilot.createXmlHttp();if(b){var c=a.method||"GET",d=a.success||function(){},e=a.error||function(){},f=a.data,g=a.url;b.open(c,g,!0),b.setRequestHeader("Content-type","text/plain"),b.onreadystatechange=function(){if(4===b.readyState)if(200===b.status||304===b.status){var a={};a.request=b,d(a)}else if(e){var a={};a.request=b,e(a)}else window.console&&console.log("HTTP error "+b.status)},4!==b.readyState&&("object"==typeof f&&(f=DayPilot.JSON.stringify(f)),b.send(f))}},DayPilot.createXmlHttp=function(){return new XMLHttpRequest},DayPilot.Duration=function(a){var b=this,c=864e5,d=36e5,e=6e4,f=1e3;if(2===arguments.length){var g=arguments[0],h=arguments[1];if(!(g instanceof DayPilot.Date))throw"DayPilot.Duration(): Invalid start argument, DayPilot.Date expected";if(!(h instanceof DayPilot.Date))throw"DayPilot.Duration(): Invalid end argument, DayPilot.Date expected";this.ticks=h.getTime()-g.getTime()}else this.ticks=a;this.toString=function(a){if(!a)return b.days()+"."+b.hours()+":"+b.minutes()+":"+b.seconds()+"."+b.milliseconds();var c=b.minutes();c=(c<10?"0":"")+c;var d=a;return d=d.replace("mm",c),d=d.replace("m",b.minutes()),d=d.replace("H",b.hours()),d=d.replace("h",b.hours()),d=d.replace("d",b.days()),d=d.replace("s",b.seconds())},this.totalHours=function(){return b.ticks/d},this.totalDays=function(){return b.ticks/c},this.totalHours=function(){return b.ticks/d},this.totalMinutes=function(){return b.ticks/e},this.totalSeconds=function(){return b.ticks/f},this.days=function(){return Math.floor(b.totalDays())},this.hours=function(){var a=b.ticks-b.days()*c;return Math.floor(a/d)},this.minutes=function(){var a=b.ticks-Math.floor(b.totalHours())*d;return Math.floor(a/e)},this.seconds=function(){var a=b.ticks-Math.floor(b.totalMinutes())*e;return Math.floor(a/f)},this.milliseconds=function(){return b.ticks%f}},DayPilot.TimeSpan=function(){DayPilot.Duration.apply(this,arguments)};try{DayPilot.TimeSpan.prototype=Object.create(DayPilot.Duration.prototype)}catch(a){}DayPilot.Date=function(a,b){if(a instanceof DayPilot.Date)return a;var c;DayPilot.Util.isNullOrUndefined(a)&&(c=DayPilot.DateUtil.fromLocal().getTime(),a=c);var d=DayPilot.Date.Cache.Ctor;if(d[a])return DayPilot.Stats.cacheHitsCtor+=1,d[a];var e=!1;if("string"==typeof a)c=DayPilot.DateUtil.fromStringSortable(a,b).getTime(),e=!0;else if("number"==typeof a){if(isNaN(a))throw"Cannot create DayPilot.Date from NaN";c=a}else{if(!(a instanceof Date))throw"Unrecognized parameter: use Date, number or string in ISO 8601 format";c=b?DayPilot.DateUtil.fromLocal(a).getTime():a.getTime()}var f=ticksToSortable(c);if(d[f])return d[f];d[f]=this,d[c]=this,e&&f!==a&&DayPilot.DateUtil.hasTzSpec(a)&&(d[a]=this),Object.defineProperty&&!DayPilot.browser.ielt9?(Object.defineProperty(this,"ticks",{get:function(){return c}}),Object.defineProperty(this,"value",{value:f,writable:!1,enumerable:!0})):(this.ticks=c,this.value=f),DayPilot.Date.Config.legacyShowD&&(this.d=new Date(c)),DayPilot.Stats.dateObjects+=1},DayPilot.Date.Config={},DayPilot.Date.Config.legacyShowD=!1,DayPilot.Date.Cache={},DayPilot.Date.Cache.Parsing={},DayPilot.Date.Cache.Ctor={},DayPilot.Date.Cache.Ticks={},DayPilot.Date.Cache.clear=function(){DayPilot.Date.Cache.Parsing={},DayPilot.Date.Cache.Ctor={},DayPilot.Date.Cache.Ticks={}},DayPilot.Date.prototype.addDays=function(a){return new DayPilot.Date(this.ticks+24*a*60*60*1e3)},DayPilot.Date.prototype.addHours=function(a){return this.addTime(60*a*60*1e3)},DayPilot.Date.prototype.addMilliseconds=function(a){return this.addTime(a)},DayPilot.Date.prototype.addMinutes=function(a){return this.addTime(60*a*1e3)},DayPilot.Date.prototype.addMonths=function(a){var b=new Date(this.ticks);if(0===a)return this;var c=b.getUTCFullYear(),d=b.getUTCMonth()+1;if(a>0){for(;a>=12;)a-=12,c++;a>12-d?(c++,d=a-(12-d)):d+=a}else{for(;a<=-12;)a+=12,c--;d+a<=0?(c--,d=12+d+a):d+=a}var e=new Date(b.getTime());e.setUTCDate(1),e.setUTCFullYear(c),e.setUTCMonth(d-1);var f=new DayPilot.Date(e).daysInMonth();return e.setUTCDate(Math.min(f,b.getUTCDate())),new DayPilot.Date(e)},DayPilot.Date.prototype.addSeconds=function(a){return this.addTime(1e3*a)},DayPilot.Date.prototype.addTime=function(a){return new DayPilot.Date(this.ticks+a)},DayPilot.Date.prototype.addYears=function(a){var b=new Date(this.ticks),c=new Date(this.ticks),d=this.getYear()+a,e=this.getMonth();c.setUTCDate(1),c.setUTCFullYear(d),c.setUTCMonth(e);var f=new DayPilot.Date(c).daysInMonth();return c.setUTCDate(Math.min(f,b.getUTCDate())),new DayPilot.Date(c)},DayPilot.Date.prototype.dayOfWeek=function(){return new Date(this.ticks).getUTCDay()},DayPilot.Date.prototype.getDayOfWeek=function(){return new Date(this.ticks).getUTCDay()},DayPilot.Date.prototype.daysInMonth=function(){var a=new Date(this.ticks),b=a.getUTCMonth()+1,c=a.getUTCFullYear(),d=[31,28,31,30,31,30,31,31,30,31,30,31];return 2!==b?d[b-1]:c%4!=0?d[1]:c%100==0&&c%400!=0?d[1]:d[1]+1},DayPilot.Date.prototype.daysInYear=function(){var a=this.getYear();return a%4!=0?365:a%100==0&&a%400!=0?365:366},DayPilot.Date.prototype.dayOfYear=function(){return Math.ceil((this.getDatePart().getTime()-this.firstDayOfYear().getTime())/864e5)+1},DayPilot.Date.prototype.equals=function(a){if(null===a)return!1;if(a instanceof DayPilot.Date)return this===a;throw"The parameter must be a DayPilot.Date object (DayPilot.Date.equals())"},DayPilot.Date.prototype.firstDayOfMonth=function(){var a=new Date;return a.setUTCFullYear(this.getYear(),this.getMonth(),1),a.setUTCHours(0),a.setUTCMinutes(0),a.setUTCSeconds(0),a.setUTCMilliseconds(0),new DayPilot.Date(a)},DayPilot.Date.prototype.firstDayOfYear=function(){var a=this.getYear(),b=new Date;return b.setUTCFullYear(a,0,1),b.setUTCHours(0),b.setUTCMinutes(0),b.setUTCSeconds(0),b.setUTCMilliseconds(0),new DayPilot.Date(b)},DayPilot.Date.prototype.firstDayOfWeek=function(a){for(var b=this,a=a||0,c=b.dayOfWeek();c!==a;)b=b.addDays(-1),c=b.dayOfWeek();return new DayPilot.Date(b)},DayPilot.Date.prototype.getDay=function(){return new Date(this.ticks).getUTCDate()},DayPilot.Date.prototype.getDatePart=function(){var a=new Date(this.ticks);return a.setUTCHours(0),a.setUTCMinutes(0),a.setUTCSeconds(0),a.setUTCMilliseconds(0),new DayPilot.Date(a)},DayPilot.Date.prototype.getYear=function(){return new Date(this.ticks).getUTCFullYear()},DayPilot.Date.prototype.getHours=function(){return new Date(this.ticks).getUTCHours()},DayPilot.Date.prototype.getMilliseconds=function(){return new Date(this.ticks).getUTCMilliseconds()},DayPilot.Date.prototype.getMinutes=function(){return new Date(this.ticks).getUTCMinutes()},DayPilot.Date.prototype.getMonth=function(){return new Date(this.ticks).getUTCMonth()},DayPilot.Date.prototype.getSeconds=function(){return new Date(this.ticks).getUTCSeconds()},DayPilot.Date.prototype.getTotalTicks=function(){return this.getTime()},DayPilot.Date.prototype.getTime=function(){return this.ticks},DayPilot.Date.prototype.getTimePart=function(){var a=this.getDatePart();return DayPilot.DateUtil.diff(this,a)},DayPilot.Date.prototype.lastDayOfMonth=function(){var a=new Date(this.firstDayOfMonth().getTime()),b=this.daysInMonth();return a.setUTCDate(b),new DayPilot.Date(a)},DayPilot.Date.prototype.weekNumber=function(){var a=this.firstDayOfYear(),b=(this.getTime()-a.getTime())/864e5;return Math.ceil((b+a.dayOfWeek()+1)/7)},DayPilot.Date.prototype.weekNumberISO=function(){var a=!1,b=this.dayOfYear(),c=this.firstDayOfYear().dayOfWeek(),d=this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();0===c&&(c=7),0===d&&(d=7);var e=8-c;4!==c&&4!==d||(a=!0);var f=Math.ceil((b-e)/7),g=f;return e>=4&&(g+=1),g>52&&!a&&(g=1),0===g&&(g=this.firstDayOfYear().addDays(-1).weekNumberISO()),g},DayPilot.Date.prototype.toDateLocal=function(){var a=new Date(this.ticks),b=new Date;return b.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),b.setHours(a.getUTCHours()),b.setMinutes(a.getUTCMinutes()),b.setSeconds(a.getUTCSeconds()),b.setMilliseconds(a.getUTCMilliseconds()),b},DayPilot.Date.prototype.toDate=function(){return new Date(this.ticks)},DayPilot.Date.prototype.toJSON=function(){return this.value},DayPilot.Date.prototype.toString=function(a,b){return void 0===a?this.toStringSortable():new $21(a,b).print(this)},DayPilot.Date.prototype.toStringSortable=function(){return ticksToSortable(this.ticks)},DayPilot.Date.parse=function(a,b,c){return new $21(b,c).parse(a)};var $23=0;DayPilot.Date.today=function(){return new DayPilot.Date(DayPilot.DateUtil.localToday())},DayPilot.Date.fromYearMonthDay=function(a,b,c){b=b||1,c=c||1;var d=new Date(0);return d.setUTCFullYear(a),d.setUTCMonth(b-1),d.setUTCDate(c),new DayPilot.Date(d)},DayPilot.DateUtil={},DayPilot.DateUtil.fromStringSortable=function(a,b){if(!a)throw"Can't create DayPilot.Date from an empty string";var c=a.length,d=10===c,e=19===c,f=c>19;if(!d&&!e&&!f)throw"Invalid string format (use '2010-01-01' or '2010-01-01T00:00:00'): "+a;if(DayPilot.Date.Cache.Parsing[a]&&!b)return DayPilot.Stats.cacheHitsParsing+=1,DayPilot.Date.Cache.Parsing[a];var g=a.substring(0,4),h=a.substring(5,7),i=a.substring(8,10),j=new Date(0);if(j.setUTCFullYear(g,h-1,i),d)return DayPilot.Date.Cache.Parsing[a]=j,j;var k=a.substring(11,13),l=a.substring(14,16),m=a.substring(17,19);if(j.setUTCHours(k),j.setUTCMinutes(l),j.setUTCSeconds(m),e)return DayPilot.Date.Cache.Parsing[a]=j,j;var n=a[19],o=0;if("."===n){var p=parseInt(a.substring(20,23));j.setUTCMilliseconds(p),o=DayPilot.DateUtil.getTzOffsetMinutes(a.substring(23))}else o=DayPilot.DateUtil.getTzOffsetMinutes(a.substring(19));var q=new DayPilot.Date(j);return b||(q=q.addMinutes(-o)),j=q.toDate(),DayPilot.Date.Cache.Parsing[a]=j,j},DayPilot.DateUtil.getTzOffsetMinutes=function(a){if(DayPilot.Util.isNullOrUndefined(a)||""===a)return 0;if("Z"===a)return 0;var b=a[0],c=parseInt(a.substring(1,3)),d=parseInt(a.substring(4)),e=60*c+d;if("-"===b)return-e;if("+"===b)return e;throw"Invalid timezone spec: "+a},DayPilot.DateUtil.hasTzSpec=function(a){return!!a.indexOf("+")||!!a.indexOf("-")},DayPilot.DateUtil.daysDiff=function(a,b){if(a&&b||function(){throw"two parameters required"}(),a=new DayPilot.Date(a),b=new DayPilot.Date(b),a.getTime()>b.getTime())return null;for(var c=0,d=a.getDatePart(),e=b.getDatePart();d<e;)d=d.addDays(1),c++;return c},DayPilot.DateUtil.daysSpan=function(a,b){if(a&&b||function(){throw"two parameters required"}(),a=new DayPilot.Date(a),b=new DayPilot.Date(b),a===b)return 0;var c=DayPilot.DateUtil.daysDiff(a,b);return b==b.getDatePart()&&c--,c},DayPilot.DateUtil.diff=function(a,b){if(!(a&&b&&a.getTime&&b.getTime))throw"Both compared objects must be Date objects (DayPilot.Date.diff).";return a.getTime()-b.getTime()},DayPilot.DateUtil.fromLocal=function(a){a||(a=new Date);var b=new Date;return b.setUTCFullYear(a.getFullYear(),a.getMonth(),a.getDate()),b.setUTCHours(a.getHours()),b.setUTCMinutes(a.getMinutes()),b.setUTCSeconds(a.getSeconds()),b.setUTCMilliseconds(a.getMilliseconds()),b},DayPilot.DateUtil.localToday=function(){var a=new Date;return a.setUTCHours(0),a.setUTCMinutes(0),a.setUTCSeconds(0),a.setUTCMilliseconds(0),a},DayPilot.DateUtil.hours=function(a,b){var c=a.getUTCMinutes();c<10&&(c="0"+c);var d=a.getUTCHours();if(b){var e=d<12,d=d%12;0===d&&(d=12);return d+":"+c+" "+(e?"AM":"PM")}return d+":"+c},DayPilot.DateUtil.max=function(a,b){return a.getTime()>b.getTime()?a:b},DayPilot.DateUtil.min=function(a,b){return a.getTime()<b.getTime()?a:b};var $21=function(a,b){"string"==typeof b&&(b=DayPilot.Locale.find(b));var b=b||DayPilot.Locale.US,c=[{seq:"yyyy",expr:"[0-9]{4,4}",str:function(a){return a.getYear()}},{seq:"yy",expr:"[0-9]{2,2}",str:function(a){return a.getYear()%100}},{seq:"mm",expr:"[0-9]{2,2}",str:function(a){var b=a.getMinutes();return b<10?"0"+b:b}},{seq:"m",expr:"[0-9]{1,2}",str:function(a){return a.getMinutes()}},{seq:"HH",expr:"[0-9]{2,2}",str:function(a){var b=a.getHours();return b<10?"0"+b:b}},{seq:"H",expr:"[0-9]{1,2}",str:function(a){return a.getHours()}},{seq:"hh",expr:"[0-9]{2,2}",str:function(a){var b=a.getHours(),b=b%12;0===b&&(b=12);var c=b;return c<10?"0"+c:c}},{seq:"h",expr:"[0-9]{1,2}",str:function(a){var b=a.getHours(),b=b%12;return 0===b&&(b=12),b}},{seq:"tt",expr:"(AM|PM)",str:function(a){return a.getHours()<12?"AM":"PM"}},{seq:"ss",expr:"[0-9]{2,2}",str:function(a){var b=a.getSeconds();return b<10?"0"+b:b}},{seq:"s",expr:"[0-9]{1,2}",str:function(a){return a.getSeconds()}},{seq:"MMMM",expr:"[^\\s0-9]*",str:function(a){return b.monthNames[a.getMonth()]},transform:function(a){var c=DayPilot.indexOf(b.monthNames,a,equalsIgnoreCase);return c<0?null:c+1}},{seq:"MMM",expr:"[^\\s0-9]*",str:function(a){return b.monthNamesShort[a.getMonth()]},transform:function(a){var c=DayPilot.indexOf(b.monthNamesShort,a,equalsIgnoreCase);return c<0?null:c+1}},{seq:"MM",expr:"[0-9]{2,2}",str:function(a){var b=a.getMonth()+1;return b<10?"0"+b:b}},{seq:"M",expr:"[0-9]{1,2}",str:function(a){return a.getMonth()+1}},{seq:"dddd",expr:"[^\\s0-9]*",str:function(a){return b.dayNames[a.getDayOfWeek()]}},{seq:"ddd",expr:"[^\\s0-9]*",str:function(a){return b.dayNamesShort[a.getDayOfWeek()]}},{seq:"dd",expr:"[0-9]{2,2}",str:function(a){var b=a.getDay();return b<10?"0"+b:b}},{seq:"%d",expr:"[0-9]{1,2}",str:function(a){return a.getDay()}},{seq:"d",expr:"[0-9]{1,2}",str:function(a){return a.getDay()}}],d=function(a){return a.replace(/[-[\]{};()*+?.,\\^$|#\s]/g,"\\$&")};this.init=function(){this.year=this.findSequence("yyyy"),this.month=this.findSequence("MMMM")||this.findSequence("MMM")||this.findSequence("MM")||this.findSequence("M"),this.day=this.findSequence("dd")||this.findSequence("d"),this.hours=this.findSequence("HH")||this.findSequence("H"),this.minutes=this.findSequence("mm")||this.findSequence("m"),this.seconds=this.findSequence("ss")||this.findSequence("s")},this.findSequence=function(b){function e(a){return parseInt(a)}return-1===a.indexOf(b)?null:{findValue:function(f){for(var g=d(a),h=null,i=0;i<c.length;i++){var k=(c[i].length,b===c[i].seq),l=c[i].expr;k&&(l="("+l+")",h=c[i].transform),g=g.replace(c[i].seq,l)}g="^"+g+"$";try{var m=new RegExp(g),n=m.exec(f);return n?(h=h||e)(n[1]):null}catch(a){throw"unable to create regex from: "+g}}}},this.print=function(b){for(var d=function(a){for(var b=0;b<c.length;b++)if(c[b]&&c[b].seq===a)return c[b];return null},e=a.length<=0,f=0,g=[];!e;){var h=a.substring(f),i=/%?(.)\1*/.exec(h);if(i&&i.length>0){var j=i[0],k=d(j);k?g.push(k):g.push(j),f+=j.length,e=a.length<=f}else e=!0}for(var l=0;l<g.length;l++){var m=g[l];"string"!=typeof m&&(g[l]=m.str(b))}return g.join("")},this.parse=function(a){var b=this.year.findValue(a);if(!b)return null;var c=this.month.findValue(a);if(DayPilot.Util.isNullOrUndefined(c))return null;if(c>12||c<1)return null;var d=this.day.findValue(a),e=DayPilot.Date.fromYearMonthDay(b,c).daysInMonth();if(d<1||d>e)return null;var f=this.hours?this.hours.findValue(a):0,g=this.minutes?this.minutes.findValue(a):0,h=this.seconds?this.seconds.findValue(a):0,i=new Date;return i.setUTCFullYear(b,c-1,d),i.setUTCHours(f),i.setUTCMinutes(g),i.setUTCSeconds(h),i.setUTCMilliseconds(0),new DayPilot.Date(i)},this.init()};DayPilot.Canvas=function(a,b){var c=document.createElement("canvas");c.width=a,c.height=b;var d=c.getContext("2d");this.fillRect=function(a,b){d.save(),d.strokeStyle="rgb(0,0,0,0)",d.fillStyle=b,d.fillRect(a.x+.5,a.y+.5,a.w-1,a.h-1),d.restore()},this.rect=function(a,b){d.save(),d.strokeStyle=b,d.beginPath(),d.rect(a.x+.5,a.y+.5,a.w-1,a.h-1),d.stroke(),d.restore()},this.text=function(a,b,c,e,f,g){var f=f||"left",g=g||0;d.save(),d.rect(a.x+.5+g,a.y+.5+g,a.w-1-g,a.h-1-g),d.clip(),d.fillStyle=e,d.font=c,d.textBaseline="top",d.textAlign=f;var h=a.x;switch(f){case"center":h+=a.w/2;break;case"right":h+=a.w}h+=.5,d.fillText(b,h+g,a.y+.5+g),d.restore()},this.line=function(a,b,c,e,f){d.save(),d.lineWidth=1,d.strokeStyle=f,d.beginPath(),d.moveTo(a+.5,b+.5),d.lineTo(c+.5,e+.5),d.stroke(),d.restore()},this.image=function(a,b){if(d.save(),"string"==typeof b){var c=b,b=document.createElement("img");b.src=c}d.drawImage(b,a.x,a.y),d.restore()},this.getWidth=function(){return c.width},this.getHeight=function(){return c.height},this.getCanvasElement=function(){return c}},DayPilot.Locale=function(a,b){if(this.id=a,this.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.dayNamesShort=["Su","Mo","Tu","We","Th","Fr","Sa"],this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.monthNamesShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.datePattern="M/d/yyyy",this.timePattern="H:mm",this.dateTimePattern="M/d/yyyy H:mm",this.timeFormat="Clock12Hours",this.weekStarts=0,b)for(var c in b)this[c]=b[c]},DayPilot.Locale.all={},DayPilot.Locale.find=function(a){if(!a)return null;var b=a.toLowerCase();return b.length>2&&(b=DayPilot.Util.replaceCharAt(b,2,"-")),DayPilot.Locale.all[b]},DayPilot.Locale.register=function(a){DayPilot.Locale.all[a.id]=a},DayPilot.Locale.register(new DayPilot.Locale("ca-es",{dayNames:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],dayNamesShort:["dg","dl","dt","dc","dj","dv","ds"],monthNames:["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre",""],monthNamesShort:["gen.","febr.","març","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des.",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("cs-cz",{dayNames:["neděle","pondělí","úterý","středa","čtvrtek","pátek","sobota"],dayNamesShort:["ne","po","út","st","čt","pá","so"],monthNames:["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec",""],monthNamesShort:["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII",""],timePattern:"H:mm",datePattern:"d. M. yyyy",dateTimePattern:"d. M. yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("da-dk",{dayNames:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],dayNamesShort:["sø","ma","ti","on","to","fr","lø"],monthNames:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december",""],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"dd-MM-yyyy",dateTimePattern:"dd-MM-yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-at",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Jänner","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jän","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-ch",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-de",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-lu",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("en-au",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"d/MM/yyyy",dateTimePattern:"d/MM/yyyy h:mm tt",timeFormat:"Clock12Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("en-ca",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd h:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("en-gb",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("en-us",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"M/d/yyyy",dateTimePattern:"M/d/yyyy h:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("es-es",{dayNames:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],dayNamesShort:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],monthNamesShort:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("es-mx",{dayNames:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],dayNamesShort:["do.","lu.","ma.","mi.","ju.","vi.","sá."],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],monthNamesShort:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],timePattern:"hh:mm tt",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy hh:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("eu-es",{dayNames:["igandea","astelehena","asteartea","asteazkena","osteguna","ostirala","larunbata"],dayNamesShort:["ig","al","as","az","og","or","lr"],monthNames:["urtarrila","otsaila","martxoa","apirila","maiatza","ekaina","uztaila","abuztua","iraila","urria","azaroa","abendua",""],monthNamesShort:["urt.","ots.","mar.","api.","mai.","eka.","uzt.","abu.","ira.","urr.","aza.","abe.",""],timePattern:"H:mm",datePattern:"yyyy/MM/dd",dateTimePattern:"yyyy/MM/dd H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fi-fi",{dayNames:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],dayNamesShort:["su","ma","ti","ke","to","pe","la"],monthNames:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kesäkuu","heinäkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu",""],monthNamesShort:["tammi","helmi","maalis","huhti","touko","kesä","heinä","elo","syys","loka","marras","joulu",""],timePattern:"H:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-be",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"dd-MM-yy",dateTimePattern:"dd-MM-yy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-ca",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("fr-ch",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-fr",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-lu",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("gl-es",{dayNames:["domingo","luns","martes","mércores","xoves","venres","sábado"],dayNamesShort:["do","lu","ma","mé","xo","ve","sá"],monthNames:["xaneiro","febreiro","marzo","abril","maio","xuño","xullo","agosto","setembro","outubro","novembro","decembro",""],monthNamesShort:["xan","feb","mar","abr","maio","xuño","xul","ago","set","out","nov","dec",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("it-it",{dayNames:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],dayNamesShort:["do","lu","ma","me","gi","ve","sa"],monthNames:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],monthNamesShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("it-ch",{dayNames:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],dayNamesShort:["do","lu","ma","me","gi","ve","sa"],monthNames:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],monthNamesShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("ja-jp",{dayNames:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],dayNamesShort:["日","月","火","水","木","金","土"],monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"H:mm",datePattern:"yyyy/MM/dd",dateTimePattern:"yyyy/MM/dd H:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("nb-no",{dayNames:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],dayNamesShort:["sø","ma","ti","on","to","fr","lø"],monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("nl-nl",{dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zo","ma","di","wo","do","vr","za"],monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"d-M-yyyy",dateTimePattern:"d-M-yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("nl-be",{dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zo","ma","di","wo","do","vr","za"],monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"H:mm",datePattern:"d/MM/yyyy",dateTimePattern:"d/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("nn-no",{dayNames:["søndag","måndag","tysdag","onsdag","torsdag","fredag","laurdag"],dayNamesShort:["sø","må","ty","on","to","fr","la"],monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("pt-br",{dayNames:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],dayNamesShort:["D","S","T","Q","Q","S","S"],monthNames:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],monthNamesShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("pl-pl",{dayNames:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"],dayNamesShort:["N","Pn","Wt","Śr","Cz","Pt","So"],monthNames:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień",""],monthNamesShort:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","paź","lis","gru",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("pt-pt",{dayNames:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],dayNamesShort:["D","S","T","Q","Q","S","S"],monthNames:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],monthNamesShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("ro-ro",{dayNames:["duminică","luni","marți","miercuri","joi","vineri","sâmbătă"],dayNamesShort:["D","L","Ma","Mi","J","V","S"],monthNames:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie",""],monthNamesShort:["ian.","feb.","mar.","apr.","mai.","iun.","iul.","aug.","sep.","oct.","nov.","dec.",""],timePattern:"H:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("ru-ru",{dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь",""],monthNamesShort:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек",""],timePattern:"H:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("sk-sk",{dayNames:["nedeľa","pondelok","utorok","streda","štvrtok","piatok","sobota"],dayNamesShort:["ne","po","ut","st","št","pi","so"],monthNames:["január","február","marec","apríl","máj","jún","júl","august","september","október","november","december",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"H:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("sv-se",{dayNames:["söndag","måndag","tisdag","onsdag","torsdag","fredag","lördag"],dayNamesShort:["sö","må","ti","on","to","fr","lö"],monthNames:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december",""],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("tr-tr",{dayNames:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],dayNamesShort:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],monthNames:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık",""],monthNamesShort:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara",""],timePattern:"HH:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("zh-cn",{dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["日","一","二","三","四","五","六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月",""],monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月",""],timePattern:"H:mm",datePattern:"yyyy/M/d",dateTimePattern:"yyyy/M/d H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.US=DayPilot.Locale.find("en-us"),DayPilot.Switcher=function(a){function c(a,c,d){var e={};e.start=a,e.end=c,e.day=d,e.target=b.active.control,e.preventDefault=function(){this.preventDefault.value=!0};var f=b.$3g;f&&f.start===e.start&&f.end===e.end&&f.day===e.day&&f.target===e.target||(b.$3g=e,"function"==typeof b.onChange&&(b.onChange(e),e.preventDefault.value)||"function"==typeof b.onTimeRangeSelect&&(b.onTimeRangeSelect(e),e.preventDefault.value)||(b.active.sendNavigate(b.day),"function"==typeof b.onChanged&&b.onChanged(e),"function"==typeof b.onTimeRangeSelected&&b.onTimeRangeSelected(e)))}var b=this;this.views=[],this.triggers=[],this.navigator={},this.selectedClass=null,this.active=null,this.day=new DayPilot.Date,this.onChange=null,this.onChanged=null,this.navigator.updateMode=function(a){var c=b.navigator.control;c&&(c.selectMode=a,c.select(b.day))},this.addView=function(a,c){var d;if("string"==typeof a){if(!(d=document.getElementById(a)))throw"Element not found: "+a}else d=a;var e=d,f={};return f.isView=!0,f.id=e.id,f.control=e,f.options=c||{},f.hide=function(){e.hide?e.hide():e.nav&&e.nav.top?e.nav.top.style.display="none":e.style.display="none"},f.sendNavigate=function(a){!function(){return!!e.backendUrl||!("function"!=typeof WebForm_DoCallback||!e.uniqueID)}()?(e.startDate=a,e.update()):e.commandCallBack&&e.commandCallBack("navigate",{day:a})},f.show=function(){b.$3c(),e.show?e.show():e.nav&&e.nav.top?e.nav.top.style.display="":e.style.display=""},f.selectMode=function(){if(f.options.navigatorSelectMode)return f.options.navigatorSelectMode;if(e.isCalendar)switch(e.viewType){case"Day":return"day";case"Week":case"WorkWeek":return"week";default:return"day"}else if(e.isMonth)switch(e.viewType){case"Month":return"month";case"Weeks":return"week";default:return"day"}return"day"},this.views.push(f),f},this.addTrigger=function(a,c){var d;if("string"==typeof a){if(!(d=document.getElementById(a)))throw"Element not found: "+a}else d=a;var e=this.$3d(c);e||(e=this.addView(c));var f={};return f.isTrigger=!0,f.element=d,f.id=d.id,f.view=e,f.onClick=function(a){b.show(f),b.$3e(f),(a=a||window.event)&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},DayPilot.re(d,"click",f.onClick),this.triggers.push(f),f},this.addButton=this.addTrigger,this.select=function(a){var b=this.$3f(a);b?b.onClick():this.triggers.length>0&&this.triggers[0].onClick()},this.$3f=function(a){for(var b=0;b<this.triggers.length;b++){var c=this.triggers[b];if(c.id===a)return c}return null},this.$3e=function(a){if(this.selectedClass){for(var b=0;b<this.triggers.length;b++){var c=this.triggers[b];DayPilot.Util.removeClass(c.element,this.selectedClass)}DayPilot.Util.addClass(a.element,this.selectedClass)}},this.addNavigator=function(a){b.navigator.control=a,a.timeRangeSelectedHandling="JavaScript",a.onTimeRangeSelected=function(){var d,e,f;if(1===a.api)d=arguments[0],e=arguments[1],f=arguments[2];else{var g=arguments[0];d=g.start,e=g.end,f=g.day}b.day=f,c(d,e,f)}},this.show=function(a){var c,d;if(a.isTrigger)d=a,c=d.view;else if(c=a.isView?a:this.$3d(a),this.active===c)return;if(b.onSelect){var e={};e.source=d?d.element:null,e.target=c.control,b.onSelect(e)}this.active=c,c.show();var f=c.selectMode();b.navigator.updateMode(f)},this.$3d=function(a){for(var b=0;b<this.views.length;b++)if(this.views[b].control===a)return this.views[b];return null},this.$3c=function(){for(var a=0;a<this.views.length;a++)this.views[a].hide()},this.events={},this.events.load=function(a,c,d){if(!b.active||!b.active.control)throw"DayPilot.Switcher.events.load(): Active view not found";b.active.control.events.load(a,c,d)},this.$3g=null,this.$3h=function(){if(a)for(var c in a)"triggers"===c?DayPilot.list(a.triggers).each(function(a){b.addTrigger(a.id,a.view)}):"navigator"===c?b.addNavigator(a.navigator):b[c]=a[c]},this.$3h()},function(){if(!DayPilot.Global.defaultCss){var a=DayPilot.sheet();a.add(".bubble_default_main","cursor: default;"),a.add(".bubble_default_main_inner",'border-radius: 5px;font-size: 12px;padding: 4px;color: #666;background: #eeeeee; background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #ccc;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);'),a.add(".calendar_default_main","border: 1px solid #999; font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),a.add(".calendar_default_main *, .calendar_default_main *:before, .calendar_default_main *:after","box-sizing: content-box;"),a.add(".calendar_default_rowheader_inner,.calendar_default_cornerright_inner,.calendar_default_corner_inner,.calendar_default_colheader_inner,.calendar_default_alldayheader_inner","color: #666;background: #eee;"),a.add(".calendar_default_cornerright_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;\tborder-bottom: 1px solid #999;"),a.add(".calendar_default_rowheader_inner","font-size: 16pt;text-align: right; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;"),a.add(".calendar_default_corner_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;"),a.add(".calendar_default_rowheader_minutes","font-size:10px;vertical-align: super;padding-left: 2px;padding-right: 2px;"),a.add(".calendar_default_colheader_inner","text-align: center; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;"),a.add(".calendar_default_cell_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #ddd;border-bottom: 1px solid #ddd; background: #f9f9f9;"),a.add(".calendar_default_cell_business .calendar_default_cell_inner","background: #fff"),a.add(".calendar_default_alldayheader_inner","text-align: center;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;"),a.add(".calendar_default_message","opacity: 0.9;filter: alpha(opacity=90);\tpadding: 10px; color: #ffffff;background: #ffa216;"),a.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner","color: #666; border: 1px solid #999;"),a.add(".calendar_default_event_bar","top: 0px;bottom: 0px;left: 0px;width: 4px;background-color: #9dc8e8;"),a.add(".calendar_default_event_bar_inner","position: absolute;width: 4px;background-color: #1066a8;"),a.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner",'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),a.add(".calendar_default_selected .calendar_default_event_inner","background: #ddd;"),a.add(".calendar_default_alldayevent_inner","position: absolute;top: 2px;bottom: 2px;left: 2px;right: 2px;padding: 2px;margin-right: 1px;font-size: 12px;"),a.add(".calendar_default_event_withheader .calendar_default_event_inner","padding-top: 15px;"),a.add(".calendar_default_event","cursor: default;"),a.add(".calendar_default_event_inner","position: absolute;overflow: hidden;top: 0px;bottom: 0px;left: 0px;right: 0px;padding: 2px 2px 2px 6px;font-size: 12px;"),a.add(".calendar_default_shadow_inner","background-color: #666666;\topacity: 0.5;filter: alpha(opacity=50);height: 100%;"),a.add(".calendar_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)'; cursor: pointer;"),a.add(".calendar_default_event_delete:hover","opacity: 1;-ms-filter: none;"),a.add(".calendar_default_scroll_up","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);"),a.add(".calendar_default_scroll_down","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);"),a.add(".calendar_default_now","background-color: red;"),a.add(".calendar_default_now:before","content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute; -moz-transform: scale(.9999);"),a.add(".menu_default_main","font-family: Tahoma, Arial, Helvetica, Sans-Serif;font-size: 12px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);"),a.add(".menu_default_main *, .menu_default_main *:before, .menu_default_main *:after","box-sizing: content-box;"),a.add(".menu_default_title","background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;"),a.add(".menu_default_main a","padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;"),a.add(".menu_default_main a img","margin-left: 6px;margin-top: 2px;"),a.add(".menu_default_main a span","display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px;"),a.add(".menu_default_main a:hover",'background: #eeeeee;background: -webkit-gradient(linear, left top, left bottom, from(#efefef), to(#e6e6e6));background: -webkit-linear-gradient(top, #efefef 0%, #e6e6e6);background: -moz-linear-gradient(top, #efefef 0%, #e6e6e6);background: -ms-linear-gradient(top, #efefef 0%, #e6e6e6);background: -o-linear-gradient(top, #efefef 0%, #e6e6e6);background: linear-gradient(top, #efefef 0%, #e6e6e6);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#efefef", endColorStr="#e6e6e6");'),a.add(".menu_default_main div div","border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;"),a.add(".menu_default_main a.menu_default_item_disabled","color: #ccc"),a.add(".menu_default_item_haschildren.menu_default_item_haschildren_active",'background: #eeeeee;background: -webkit-gradient(linear, left top, left bottom, from(#efefef), to(#e6e6e6));background: -webkit-linear-gradient(top, #efefef 0%, #e6e6e6);background: -moz-linear-gradient(top, #efefef 0%, #e6e6e6);background: -ms-linear-gradient(top, #efefef 0%, #e6e6e6);background: -o-linear-gradient(top, #efefef 0%, #e6e6e6);background: linear-gradient(top, #efefef 0%, #e6e6e6);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#efefef", endColorStr="#e6e6e6");'),a.add(".menu_default_item_haschildren a:before","content: ''; border-width: 6px; border-color: transparent transparent transparent black; border-style: solid; width: 0px; height:0px; position: absolute; right: 5px; margin-top: 4px;"),a.add(".month_default_main","border: 1px solid #aaa;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;color: #666;"),a.add(".month_default_main *, .month_default_main *:before, .month_default_main *:after","box-sizing: content-box;"),a.add(".month_default_cell_inner","border-right: 1px solid #ddd;border-bottom: 1px solid #ddd;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;background-color: #f9f9f9;"),a.add(".month_default_cell_business .month_default_cell_inner","background-color: #fff;"),a.add(".month_default_cell_header","text-align: right;padding-right: 2px;"),a.add(".month_default_header_inner","text-align: center; vertical-align: middle;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #999;border-bottom: 1px solid #999;cursor: default;color: #666;background: #eee;"),a.add(".month_default_message",'padding: 10px;opacity: 0.9;filter: alpha(opacity=90);color: #ffffff;background: #ffa216;background: -webkit-gradient(linear, left top, left bottom, from(#ffa216), to(#ff8400));background: -webkit-linear-gradient(top, #ffa216 0%, #ff8400);background: -moz-linear-gradient(top, #ffa216 0%, #ff8400);background: -ms-linear-gradient(top, #ffa216 0%, #ff8400);background: -o-linear-gradient(top, #ffa216 0%, #ff8400);background: linear-gradient(top, #ffa216 0%, #ff8400);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffa216", endColorStr="#ff8400");'),a.add(".month_default_event_inner",'position: absolute;top: 0px;bottom: 0px;left: 1px;right: 1px;overflow:hidden;padding: 2px;padding-left: 5px;font-size: 12px;color: #666;background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #999;border-radius: 0px;'),a.add(".month_default_event_continueright .month_default_event_inner","border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-right-style: dotted;"),a.add(".month_default_event_continueleft .month_default_event_inner","border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-left-style: dotted;"),a.add(".month_default_event_hover .month_default_event_inner",'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#e8e8e8));background: -webkit-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -moz-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -ms-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -o-linear-gradient(top, #ffffff 0%, #e8e8e8);background: linear-gradient(top, #ffffff 0%, #e8e8e8);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#e8e8e8");'),a.add(".month_default_selected .month_default_event_inner, .month_default_event_hover.month_default_selected .month_default_event_inner","background: #ddd;"),a.add(".month_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),a.add(".month_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),a.add(".month_default_event_delete:hover","opacity: 1;-ms-filter: none;"),a.add(".month_default_event_timeleft","color: #ccc; font-size: 8pt"),a.add(".month_default_event_timeright","color: #ccc; font-size: 8pt; text-align: right;"),a.add(".navigator_default_main","border-left: 1px solid #A0A0A0;border-right: 1px solid #A0A0A0;border-bottom: 1px solid #A0A0A0;background-color: white;color: #000000;"),a.add(".navigator_default_main *, .navigator_default_main *:before, .navigator_default_main *:after","box-sizing: content-box;"),a.add(".navigator_default_month","font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 11px;"),a.add(".navigator_default_day","color: black;"),a.add(".navigator_default_weekend","background-color: #f0f0f0;"),a.add(".navigator_default_dayheader","color: black;"),a.add(".navigator_default_line","border-bottom: 1px solid #A0A0A0;"),a.add(".navigator_default_dayother","color: gray;"),a.add(".navigator_default_todaybox","border: 1px solid red;"),a.add(".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright",'border-top: 1px solid #A0A0A0;color: #666;background: #eee;background: -webkit-gradient(linear, left top, left bottom, from(#eeeeee), to(#dddddd));background: -webkit-linear-gradient(top, #eeeeee 0%, #dddddd);background: -moz-linear-gradient(top, #eeeeee 0%, #dddddd);background: -ms-linear-gradient(top, #eeeeee 0%, #dddddd);background: -o-linear-gradient(top, #eeeeee 0%, #dddddd);background: linear-gradient(top, #eeeeee 0%, #dddddd);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#eeeeee", endColorStr="#dddddd");'),a.add(".navigator_default_busy","font-weight: bold;"),a.add(".navigator_default_cell","text-align: center;"),a.add(".navigator_default_select .navigator_default_cell_box","background-color: #FFE794; opacity: 0.5;"),a.add(".navigator_default_title","text-align: center;"),a.add(".navigator_default_titleleft, .navigator_default_titleright","text-align: center;"),a.add(".navigator_default_dayheader","text-align: center;"),a.add(".navigator_default_weeknumber","text-align: center;"),a.add(".scheduler_default_main *, .scheduler_default_main *:before, .scheduler_default_main *:after","box-sizing: content-box;"),a.add(".scheduler_default_main","box-sizing: content-box; border: 1px solid #aaa;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),a.add(".scheduler_default_selected .scheduler_default_event_inner","background: #ddd;"),a.add(".scheduler_default_timeheader","cursor: default;color: #666;"),a.add(".scheduler_default_message","opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;"),a.add(".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol","color: #666;background: #eee;"),a.add(".scheduler_default_rowheader,.scheduler_default_corner","color: #666;background: #eee;"),a.add(".scheduler_default_rowheader.scheduler_default_rowheader_selected","background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),a.add(".scheduler_default_rowheader_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #eee;padding: 2px;"),a.add(".scheduler_default_timeheadergroup, .scheduler_default_timeheadercol","text-align: center;"),a.add(".scheduler_default_timeheadergroup_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;border-bottom: 1px solid #aaa;"),a.add(".scheduler_default_timeheadercol_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;"),a.add(".scheduler_default_divider, .scheduler_default_splitter","background-color: #aaa;"),a.add(".scheduler_default_divider_horizontal","background-color: #aaa;"),a.add(".scheduler_default_matrix_vertical_line","background-color: #eee;"),a.add(".scheduler_default_matrix_vertical_break","background-color: #000;"),a.add(".scheduler_default_matrix_horizontal_line","background-color: #eee;"),a.add(".scheduler_default_resourcedivider","background-color: #aaa;"),a.add(".scheduler_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),a.add(".scheduler_default_event","font-size:12px;color:#666;"),a.add(".scheduler_default_event_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"),a.add(".scheduler_default_event_bar","top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"),a.add(".scheduler_default_event_bar_inner","position:absolute;height:4px;background-color:#1066a8;"),a.add(".scheduler_default_event_inner",'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),a.add(".scheduler_default_event_float_inner","padding:6px 2px 2px 8px;"),a.add(".scheduler_default_event_float_inner:after",'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;'),a.add(".scheduler_default_columnheader_inner","font-weight: bold;"),a.add(".scheduler_default_columnheader_splitter","background-color: #666;opacity: 0.5;filter: alpha(opacity=50);"),a.add(".scheduler_default_columnheader_cell_inner","padding: 2px;"),a.add(".scheduler_default_cell","background-color: #f9f9f9;"),a.add(".scheduler_default_cell.scheduler_default_cell_business","background-color: #fff;"),a.add(".scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected,.scheduler_default_cell.scheduler_default_cell_selected","background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),a.add(".scheduler_default_tree_image_no_children","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"),a.add(".scheduler_default_tree_image_expand","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"),a.add(".scheduler_default_tree_image_collapse","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"),a.add(".scheduler_default_event_move_left",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),a.add(".scheduler_default_event_move_right",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),a.add(".scheduler_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),a.add(".scheduler_default_event_delete:hover","opacity: 1;-ms-filter: none;"),a.add(".scheduler_default_rowmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),a.add(".scheduler_default_rowmove_source","background-color: black; opacity: 0.2;"),a.add(".scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after","background-color: #999; height: 2px;"),a.add(".scheduler_default_rowmove_position_child","margin-left: 10px; background-color: #999; height: 2px;"),a.add(".scheduler_default_rowmove_position_child:before","content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"),a.add(".scheduler_default_rowmove_position_forbidden","background-color: red; height: 2px; margin-left: 10px;"),a.add(".scheduler_default_rowmove_position_forbidden:before","content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),a.add(".scheduler_default_link_horizontal","border-bottom-style: solid; border-bottom-color: red"),a.add(".scheduler_default_link_vertical","border-right-style: solid; border-right-color: red"),a.add(".scheduler_default_link_arrow_right:before","content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;"),a.add(".scheduler_default_link_arrow_left:before","content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),a.add(".scheduler_default_link_arrow_down:before","content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),a.add(".scheduler_default_link_arrow_up:before","content: ''; border-width: 6px; border-color: transparent transparent red transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),a.add(".scheduler_default_shadow_overlap .scheduler_default_shadow_inner","background-color: red;"),a.add(".scheduler_default_block","background-color: gray; opacity: 0.5; filter: alpha(opacity=50);"),a.add(".scheduler_default_main .scheduler_default_event_group","box-sizing: border-box; font-size:12px; color:#666; padding:4px 2px 2px 2px; overflow:hidden; border:1px solid #ccc; background-color: #fff;"),a.add(".scheduler_default_main .scheduler_default_header_icon","box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"),a.add(".scheduler_default_header_icon:hover","background-color: #ccc;"),a.add(".scheduler_default_header_icon_hide:before","content: '\\00AB';"),a.add(".scheduler_default_header_icon_show:before","content: '\\00BB';"),a.add(".scheduler_default_row_new .scheduler_default_rowheader_inner","cursor: text; background-position: 0px 5px; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),a.add(".scheduler_default_row_new .scheduler_default_rowheader_inner:hover","background: white;"),a.add(".scheduler_default_rowheader textarea","padding: 3px;"),a.add(".scheduler_default_rowheader_scroll","cursor: default;"),a.add(".scheduler_default_shadow_forbidden .scheduler_default_shadow_inner","background-color: red;"),a.add(".scheduler_default_event_moving_source","opacity: 0.5; filter: alpha(opacity=50);"),a.add(".scheduler_default_linkpoint","background-color: white; border: 1px solid gray; border-radius: 5px;"),a.add(".scheduler_default_linkpoint.scheduler_default_linkpoint_hover","background-color: black;"),a.add(".scheduler_default_event.scheduler_default_event_version .scheduler_default_event_inner","background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),a.add(".gantt_default_selected .gantt_default_event_inner","background: #ddd;"),a.add(".gantt_default_main","border: 1px solid #aaa;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),a.add(".gantt_default_main *, .gantt_default_main *:before, .gantt_default_main *:after","box-sizing: content-box;"),a.add(".gantt_default_timeheader","cursor: default;color: #666;"),a.add(".gantt_default_message","opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;"),a.add(".gantt_default_timeheadergroup,.gantt_default_timeheadercol","color: #666;background: #eee;"),a.add(".gantt_default_rowheader,.gantt_default_corner","color: #666;background: #eee;"),a.add(".gantt_default_rowheader.gantt_default_rowheader_selected","background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),a.add(".gantt_default_rowheader_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #eee;padding: 2px;"),a.add(".gantt_default_timeheadergroup, .gantt_default_timeheadercol","text-align: center;"),a.add(".gantt_default_timeheadergroup_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;border-bottom: 1px solid #aaa;"),a.add(".gantt_default_timeheadercol_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;"),a.add(".gantt_default_divider, .gantt_default_splitter","background-color: #aaa;"),a.add(".gantt_default_divider_horizontal","background-color: #aaa;"),a.add(".gantt_default_matrix_vertical_line","background-color: #eee;"),a.add(".gantt_default_matrix_vertical_break","background-color: #000;"),a.add(".gantt_default_matrix_horizontal_line","background-color: #eee;"),a.add(".gantt_default_resourcedivider","background-color: #aaa;"),a.add(".gantt_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),a.add(".gantt_default_event","font-size:12px;color:#666;"),a.add(".gantt_default_event_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"),a.add(".gantt_default_event_bar","top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"),a.add(".gantt_default_event_bar_inner","position:absolute;height:4px;background-color:#1066a8;"),a.add(".gantt_default_event_inner",'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),a.add(".gantt_default_event_float_inner","padding:6px 2px 2px 8px;"),a.add(".gantt_default_event_float_inner:after",'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;'),a.add(".gantt_default_columnheader_inner","font-weight: bold;"),a.add(".gantt_default_columnheader_splitter","background-color: #666;opacity: 0.5;filter: alpha(opacity=50);"),a.add(".gantt_default_columnheader_cell_inner","padding: 2px;"),a.add(".gantt_default_cell","background-color: #f9f9f9;"),a.add(".gantt_default_cell.gantt_default_cell_business","background-color: #fff;"),a.add(".gantt_default_cell.gantt_default_cell_business.gantt_default_cell_selected,.gantt_default_cell.gantt_default_cell_selected","background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),a.add(".gantt_default_tree_image_no_children","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"),a.add(".gantt_default_tree_image_expand","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"),a.add(".gantt_default_tree_image_collapse","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"),a.add(".gantt_default_event_move_left",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),a.add(".gantt_default_event_move_right",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),a.add(".gantt_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),a.add(".gantt_default_event_delete:hover","opacity: 1;-ms-filter: none;"),a.add(".gantt_default_rowmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),a.add(".gantt_default_rowmove_source","background-color: black; opacity: 0.2;"),a.add(".gantt_default_rowmove_position_before, .gantt_default_rowmove_position_after","background-color: #999; height: 2px;"),a.add(".gantt_default_rowmove_position_child","margin-left: 10px; background-color: #999; height: 2px;"),a.add(".gantt_default_rowmove_position_child:before","content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"),a.add(".gantt_default_rowmove_position_forbidden","background-color: red; height: 2px; margin-left: 10px;"),a.add(".gantt_default_rowmove_position_forbidden:before","content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),a.add(".gantt_default_task_group .gantt_default_event_inner","position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: blue; filter: none; border: 0px none;"),a.add(".gantt_default_task_group.gantt_default_event:before","content:''; border-color: transparent transparent transparent blue; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"),a.add(".gantt_default_task_group.gantt_default_event:after","content:''; border-color: transparent blue transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;"),a.add(".gantt_default_task_milestone .gantt_default_event_inner","position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: green; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"),a.add(".gantt_default_browser_ie8 .gantt_default_task_milestone .gantt_default_event_inner","-ms-filter: \"progid:$2O.Microsoft.Matrix($2P='auto expand',$2Q=0.7071067811865476,$2R=-0.7071067811865475,$2S=0.7071067811865475,$2T=0.7071067811865476);\""),a.add(".gantt_default_event_left","white-space: nowrap; padding-top: 5px; color: #666; cursor: default;"),a.add(".gantt_default_event_right","white-space: nowrap; padding-top: 5px; color: #666; cursor: default;"),a.add(".gantt_default_link_horizontal","border-bottom-style: solid; border-bottom-color: red;"),a.add(".gantt_default_link_vertical","border-right-style: solid; border-right-color: red;"),a.add(".gantt_default_link_arrow_right:before","content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;"),a.add(".gantt_default_link_arrow_left:before","content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;");a.add(".gantt_default_link_arrow_down:before","content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),a.add(".gantt_default_link_arrow_up:before","content: ''; border-width: 6px; border-color: transparent transparent red transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),a.add(".gantt_default_shadow_overlap .gantt_default_shadow_inner","background-color: red;"),a.add(".gantt_default_block","background-color: gray; opacity: 0.5; filter: alpha(opacity=50);"),a.add(".gantt_default_link_hover","box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"),a.add(".gantt_default_main .gantt_default_header_icon","box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"),a.add(".gantt_default_header_icon:hover","background-color: #ccc;"),a.add(".gantt_default_header_icon_hide:before","content: '\\00AB';"),a.add(".gantt_default_header_icon_show:before","content: '\\00BB';"),a.add(".gantt_default_row_new .gantt_default_rowheader_inner","cursor: text; background-position: 0 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),a.add(".gantt_default_row_new .gantt_default_rowheader_inner:hover","background: white;"),a.add(".gantt_default_rowheader textarea","padding: 5px;"),a.add(".gantt_default_rowheader_scroll","cursor: default;"),a.add(".gantt_default_shadow_forbidden .gantt_default_shadow_inner","background-color: red;"),a.add(".gantt_default_event_moving_source","opacity: 0.5; filter: alpha(opacity=50);"),a.add(".gantt_default_event.gantt_default_event_version .gantt_default_event_inner","background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),a.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event:before","border:0;"),a.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before",'content:"";border-color: transparent #fff transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;left:-4px;'),a.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner","padding-left: 8px;"),a.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before",'content:"";border-color: transparent #000 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;left:-4px;'),a.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event:after","border:0;"),a.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after",'content:"";border-color: transparent transparent transparent #fff;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;right:-2px;'),a.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner","padding-right: 8px;"),a.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after",'content:"";border-color: transparent transparent transparent #000;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;right:-2px;'),a.add(".gantt_default_linkpoint","background-color: white; border: 1px solid gray; border-radius: 5px;"),a.add(".gantt_default_linkpoint.gantt_default_linkpoint_hover","background-color: black;"),a.commit(),DayPilot.Global.defaultCss=!0}}();var $2U=function(a){var b=this;this.id=a,this.widths=[],this.titles=[],this.height=null,this.splitterWidth=3,this.css={},this.css.title=null,this.css.titleInner=null,this.css.splitter=null,this.blocks=[],this.drag={},this.updated=function(){},this.updating=function(){},this.init=function(){var c;if(!a)throw"error: id not provided";if("string"==typeof a)c=document.getElementById(a);else{if(!a.appendChild)throw"error: invalid object provided";c=a}this.div=c,this.blocks=[];for(var d=0;d<this.widths.length;d++){var e=document.createElement("div");e.style.display="inline-block",null!==b.height?e.style.height=b.height+"px":e.style.height="100%",e.style.width=this.widths[d]-this.splitterWidth+"px",e.style.overflow="hidden",e.style.verticalAlign="top",e.style.position="relative",e.setAttribute("unselectable","on"),e.className=this.css.title,c.appendChild(e);var f=document.createElement("div");f.innerHTML=this.titles[d],f.setAttribute("unselectable","on"),f.className=this.css.titleInner,e.appendChild(f);var g=document.createElement("div");g.style.display="inline-block",null!==b.height?g.style.height=b.height+"px":g.style.height="100%",g.style.width=this.splitterWidth+"px",g.style.position="relative",g.appendChild(document.createElement("div")),g.style.cursor="col-resize",g.setAttribute("unselectable","on"),g.className=this.css.splitter;var h={};h.index=d,h.width=this.widths[d],g.data=h,g.onmousedown=function(a){b.drag.start=DayPilot.page(a),b.drag.data=this.data,b.div.style.cursor="col-resize",a=a||window.event,a.preventDefault?a.preventDefault():a.returnValue=!1},c.appendChild(g);var i={};i.section=e,i.handle=g,this.blocks.push(i)}this.registerGlobalHandlers()},this.updateWidths=function(){for(var a=0;a<this.blocks.length;a++){var b=this.blocks[a],c=this.widths[a];b.handle.data.width=c,this.$3i(a)}},this.$3i=function(a){var b=this.blocks[a],c=this.widths[a];b.section.style.width=c-this.splitterWidth+"px"},this.totalWidth=function(){for(var a=0,b=0;b<this.widths.length;b++)a+=this.widths[b];return a},this.gMouseMove=function(a){if(b.drag.start){var c=b.drag.data,d=DayPilot.page(a),e=d.x-b.drag.start.x,f=c.index;b.widths[f]=Math.max(5,c.width+e),b.$3i(f);var g={};g.widths=this.widths,g.index=c.index,b.updating(g)}},this.gMouseUp=function(a){if(b.drag.start){b.drag.start=null,document.body.style.cursor="",b.div.style.cursor="";var c=b.drag.data;c.width=b.widths[c.index];var d={};d.widths=this.widths,d.index=c.index,b.updated(d)}},this.registerGlobalHandlers=function(){DayPilot.re(document,"mousemove",this.gMouseMove),DayPilot.re(document,"mouseup",this.gMouseUp)}};DayPilot.Splitter=$2U}}(),DayPilot.JSON={},function(){function f(a){return a<10?"0"+a:a}function quote(a){return $2Z.lastIndex=0,$2Z.test(a)?'"'+a.replace($2Z,function(a){var b=$32[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,h,g=$30,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&!i.ignoreToJSON&&(i=i.toJSON(a)),"function"==typeof $33&&(i=$33.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if($30+=$31,h=[],"number"==typeof i.length&&!i.propertyIsEnumerable("length")){for(f=i.length,c=0;c<f;c+=1)h[c]=str(c,i)||"null";return e=0===h.length?"[]":$30?"[\n"+$30+h.join(",\n"+$30)+"\n"+g+"]":"["+h.join(",")+"]",$30=g,e}if($33&&"object"==typeof $33)for(f=$33.length,c=0;c<f;c+=1)"string"==typeof(d=$33[c])&&(e=str(d,i))&&h.push(quote(d)+($30?": ":":")+e);else for(d in i)Object.hasOwnProperty.call(i,d)&&(e=str(d,i))&&h.push(quote(d)+($30?": ":":")+e);return e=0===h.length?"{}":$30?"{\n"+$30+h.join(",\n"+$30)+"\n"+g+"}":"{"+h.join(",")+"}",$30=g,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null}),"function"!=typeof String.prototype.toJSON&&(String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,$2Z=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,$30,$31,$32={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},$33;DayPilot.JSON.stringify=function(a,b,c){if("undefined"!=typeof JSON&&JSON.stringify)return JSON.stringify(a,b,c);var d;if($30="",$31="","number"==typeof c)for(d=0;d<c;d+=1)$31+=" ";else"string"==typeof c&&($31=c);if($33=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})},DayPilot.JSON.parse=function($01,$39){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return $39.call(a,b,e)}var j;if($01=String($01),cx.lastIndex=0,cx.test($01)&&($01=$01.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{};\s]*$/.test($01.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+$01+")"),"function"==typeof $39?walk({"":j},""):j;throw new SyntaxError("JSON.parse")},"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),void 0===DayPilotBubble)var DayPilotBubble=DayPilot.BubbleVisible={};if(function(){if(void 0===DayPilot.Bubble){var a={};a.mouseMove=function(b){if(void 0!==a){a.mouse=a.mousePosition(b);var c=a.active;if(c&&c.$T.showPosition){var d=c.$T.showPosition,e=a.mouse;d.clientX!==e.clientX||(d.clientY,e.clientY)}}},a.touchPosition=function(a){if(!a||!a.touches)return null;var b=a.touches[0],c={};return c.x=b.pageX,c.y=b.pageY,c.clientX=b.clientX,c.clientY=b.clientY,c},a.mousePosition=function(a){var b=DayPilot.page(a);return a&&(b.clientY=a.clientY,b.clientX=a.clientX),b},DayPilot.Bubble=function(b){this.v="1969";var c=this,d={};if(this.cssOnly=!0,this.hideAfter=500,this.loadingText="Loading...",this.animated=!0,this.animation="fast",this.position="EventTop",this.hideOnClick=!0,this.showAfter=500,this.showLoadingLabel=!0,this.zIndex=10,this.theme="bubble_default",this.$T=function(){},this.callBack=function(a){this.aspnet()?WebForm_DoCallback(this.uniqueID,DayPilot.JSON.stringify(a),this.updateView,this,this.callbackError,!0):a.calendar.internal.bubbleCallBack?a.calendar.internal.bubbleCallBack(a,this):a.calendar.bubbleCallBack(a,this)},this.callbackError=function(a,b){alert(a)},this.updateView=function(b,e){if(c!==e)throw"Callback object mismatch (internal error)";if(!b)return c.removeDiv(),void c.removeShadow();a.active=c,c&&(d.div&&(d.div.firstChild.innerHTML=b),c.adjustPosition(),c.animated||c.addShadow())},this.init=function(){},this.aspnet=function(){return"undefined"!=typeof WebForm_DoCallback},this.rounded=function(){return"Rounded"===this.corners},this.showEvent=function(b,c){var d=new a.CallBackArgs(b.calendar||b.root,"Event",b,b.bubbleHtml?b.bubbleHtml():null);c?this.show(d):this.showOnMouseOver(d)},this.showCell=function(b){var c=new a.CallBackArgs(b.calendar||b.root,"Cell",b,b.staticBubbleHTML?b.staticBubbleHTML():null);this.showOnMouseOver(c)},this.showTime=function(b){var c=new a.CallBackArgs(b.calendar||b.root,"Time",b,b.staticBubbleHTML?b.staticBubbleHTML():null);this.showOnMouseOver(c)},this.showResource=function(b){var c=new a.CallBackArgs(b.calendar||b.root,"Resource",b,b.bubbleHtml?b.bubbleHtml():null);this.showOnMouseOver(c)},this.showHtml=function(b,c){var d=new a.CallBackArgs(null,"Html",null,b);d.div=c,this.show(d)},this.show=function(b){var e=this.animated;if(this.$T.showPosition=a.mouse,!a.mouse)return void setTimeout(function(){c.show(b)},100);var f;try{f=DayPilot.JSON.stringify(b.object)}catch(a){return}if(!(a.active===this&&this.$T.sourceId===f||void 0!==DayPilot.Menu&&DayPilot.Menu.active)){c.cssOnly||(c.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),a.hideActive(),a.active=this,this.$T.sourceId=f;var g=document.createElement("div");g.setAttribute("unselectable","on"),g.style.position="absolute",this.showLoadingLabel||(g.style.display="none"),this.cssOnly?g.className=this.$U("_main"):(this.width&&(g.style.width=this.width),g.style.cursor="default"),g.style.top="0px",g.style.left="0px",g.style.zIndex=this.zIndex+1,e&&(g.style.visibility="hidden"),this.hideOnClick&&(g.onclick=function(){a.hideActive()}),g.onmousemove=function(b){a.cancelTimeout();var b=b||window.event;b.cancelBubble=!0},g.oncontextmenu=function(){return!1},g.onmouseout=this.delayedHide;var h=document.createElement("div");g.appendChild(h),this.cssOnly?h.className=this.$U("_main_inner"):(h.style.padding="4px",this.border&&(h.style.border=this.border),this.rounded()&&(h.style.MozBorderRadius="5px",h.style.webkitBorderRadius="5px",h.style.borderRadius="5px"),h.style.backgroundColor=this.backgroundColor),h.innerHTML=this.loadingText,document.body.appendChild(g),d.div=g;var g=this.getDiv(b);if("EventTop"===this.position&&g){var j=DayPilot.abs(g,!0);this.$T.mouse=a.mouse,this.$T.mouse.x=j.x,this.$T.mouse.y=j.y,this.$T.mouse.h=j.h+2,this.$T.mouse.w=j.w}else this.$T.mouse=a.mouse;if(this.showLoadingLabel&&!e&&(this.adjustPosition(),this.addShadow()),b.staticHTML)this.updateView(b.staticHTML,this);else if("function"==typeof this.onLoad){var k={};k.source=b.object,k.async=!1,k.loaded=function(){this.async&&c.updateView(k.html,c)},this.onLoad(k),k.async||c.updateView(k.html,c)}else this.$V(b)&&this.callBack(b)}},this.getDiv=function(a){return a.div?a.div:"Event"===a.type&&a.calendar&&a.calendar.internal.findEventDiv?a.calendar.internal.findEventDiv(a.object):void 0},this.$U=function(a){var b=this.theme||this.cssClassPrefix;return b?b+a:""},this.loadingElement=null,this.loadingStart=function(a){},this.loadingStop=function(){},this.adjustPosition=function(){var b=this.animated,e=this.position,f=10;if(d.div&&this.$T.mouse){if(!this.$T.mouse.x||!this.$T.mouse.y)return void a.hideActive();var g=d.div;g.style.display="";var h=g.offsetHeight,i=g.offsetWidth;g.style.display="none";var j=DayPilot.wd(),k=j.width,l=j.height;if("Mouse"===e){var o=0;if(this.$T.mouse.clientY>l-h+f){this.$T.mouse.clientY;o=this.$T.mouse.y-h-10}else o=this.$T.mouse.y+22;if("number"==typeof o&&(g.style.top=Math.max(o,0)+"px"),this.$T.mouse.clientX>k-i+f){var q=this.$T.mouse.clientX-(k-i)+f;g.style.left=this.$T.mouse.x-q+"px"}else g.style.left=this.$T.mouse.x+"px"}else if("EventTop"===e){var r=2,o=this.$T.mouse.y-h-r,s=j.scrollTop;o<s&&(o=this.$T.mouse.y+this.$T.mouse.h+r),"number"==typeof o&&(g.style.top=Math.max(o,0)+"px");var t=this.$T.mouse.x;this.$T.mouse.x+i+f>k&&(t=k-i-f),g.style.left=t+"px"}if(g.style.display="",b){g.style.display="";var u={};u.color=g.firstChild.style.color,u.overflow=g.style.overflow,g.firstChild.style.color="transparent",g.style.overflow="hidden",this.removeShadow(),DayPilot.pop(g,{finished:function(){g.firstChild.style.color=u.color,g.style.overflow=u.overflow,c.addShadow()},vertical:"bottom",horizontal:"left",animation:c.animation})}}},this.delayedHide=function(){a.cancelTimeout(),c.hideAfter>0&&(a.timeout=window.setTimeout(a.hideActive,c.hideAfter))},this.showOnMouseOver=function(b){a.cancelTimeout();var d=function(a){return function(){c.show(a)}};a.timeout=window.setTimeout(d(b),this.showAfter)},this.hideOnMouseOut=function(){this.delayedHide()},this.$V=function(a){return!!a.calendar.backendUrl||!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.addShadow=function(){if(this.useShadow&&!this.cssOnly&&d.div){var a=d.div;this.shadows&&this.shadows.length>0&&this.removeShadow(),this.shadows=[];for(var b=0;b<5;b++){var c=document.createElement("div");c.setAttribute("unselectable","on"),c.style.position="absolute",c.style.width=a.offsetWidth+"px",c.style.height=a.offsetHeight+"px",c.style.top=a.offsetTop+b+"px",c.style.left=a.offsetLeft+b+"px",c.style.zIndex=this.zIndex,c.style.filter="alpha(opacity:10)",c.style.opacity=.1,c.style.backgroundColor="#000000",this.rounded()&&(c.style.MozBorderRadius="5px",c.style.webkitBorderRadius="5px",c.style.borderRadius="5px"),document.body.appendChild(c),this.shadows.push(c)}}},this.removeShadow=function(){if(this.shadows){for(var a=0;a<this.shadows.length;a++)document.body.removeChild(this.shadows[a]);this.shadows=[]}},this.removeDiv=function(){d.div&&(document.body.removeChild(d.div),d.div=null)},b)for(var e in b)this[e]=b[e];this.init()},DayPilot.Bubble.touchPosition=function(b){b.touches&&(a.mouse=a.touchPosition(b))},a.cancelTimeout=function(){a.timeout&&window.clearTimeout(a.timeout)},a.hideActive=function(){a.cancelTimeout();var b=a.active;b&&(b.removeDiv(),b.removeShadow()),a.active=null},a.CallBackArgs=function(a,b,c,d){this.calendar=a,this.type=b,this.object=c,this.staticHTML=d,this.toJSON=function(){var a={};return a.uid=this.calendar.uniqueID,a.type=this.type,a.object=c,a}},DayPilot.re(document,"mousemove",a.mouseMove),DayPilot.BubbleVisible.Bubble=a.Bubble,DayPilot.BubbleVisible.hideActive=a.hideActive,DayPilot.BubbleVisible.cancelTimeout=a.cancelTimeout,DayPilot.Bubble.hideActive=a.hideActive,"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),void 0===DayPilotCalendar)var DayPilotCalendar=DayPilot.CalendarVisible={};if(function(){if(void 0===DayPilot.Calendar){DayPilot.Calendar=function(b,c){this.v="1969";var d=!1;if(this instanceof DayPilot.Calendar&&!this.$4j&&(d=!0,this.$4j=!0),!d)throw"DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'";var e=this;this.uniqueID=null,this.id=b,this.isCalendar=!0,this.api=2,this.clientName=b,this.clientState={},this.$4k={},this.$4k.pixels={},this.$4k.events=[],this.elements={},this.elements.events=[],this.elements.separators=[],this.nav={},this.events={},this.hideUntilInit=!0,this.$4l=!0,this.allDayEnd="DateTime",this.allDayEventHeight=25,this.allowMultiSelect=!0,this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.backendUrl=null,this.borderColor="#000000",this.bubble=null,this.businessBeginsHour=9,this.businessEndsHour=18,this.cellBackColor="#FFFFD5",this.cellBackColorNonBusiness="#FFF4BC",this.cellBorderColor="#999999",this.cellHeight=20,this.cellDuration=30,this.columnBubble=null,this.columnMarginRight=5,this.columns=null,this.columnWidth=200,this.columnWidthSpec="Auto",this.contextMenu=null,this.contextMenuSelection=null,this.cornerBackColor="#ECE9D8",this.cornerHtml="",this.crosshairColor="Gray",this.crosshairOpacity=20,this.crosshairType="Header",this.cssOnly=!0,this.dayBeginsHour=0,this.dayEndsHour=24,this.days=1,this.durationBarColor="blue",this.durationBarVisible=!0,this.durationBarWidth=5,this.durationBarImageUrl=null,this.eventArrangement="SideBySide",this.eventBackColor="#ffffff",this.eventBorderColor="#000000",this.eventFontFamily="Tahoma",this.eventFontSize="8pt",this.eventFontColor="#000000",this.eventSelectColor="blue",this.headerFontSize="10pt",this.headerFontFamily="Tahoma",this.headerFontColor="#000000",this.headerHeight=20,this.headerLevels=1,this.height=300,this.heightSpec="BusinessHours",this.hideFreeCells=!1,this.headerDateFormat=null,this.hourHalfBorderColor="#F3E4B1",this.hourBorderColor="#EAD098",this.hourFontColor="#000000",this.hourFontFamily="Tahoma",this.hourFontSize="16pt",this.hourNameBackColor="#ECE9D8",this.hourNameBorderColor="#ACA899",this.hourWidth=45,this.initScrollPos=null,this.loadingLabelText="Loading...",this.loadingLabelVisible=!0,this.loadingLabelBackColor="orange",this.loadingLabelFontColor="#ffffff",this.loadingLabelFontFamily="Tahoma",this.loadingLabelFontSize="10pt",this.locale="en-us",this.messageHideAfter=5e3,this.moveBy="Full",this.notifyCommit="Immediate",this.numberFormat="0.00",this.roundedCorners=!1,this.rtl=!1,this.scrollLabelsVisible=!1,this.selectedColor="#316AC5",this.shadow="Fill",this.showToolTip=!0,this.showAllDayEvents=!1,this.showAllDayEventStartEnd=!0,this.showEventStartEnd=!1,this.showHeader=!0,this.showHours=!0,this.showCurrentTime=!0,this.showCurrentTimeMode="Day",this.showCurrentTimeOffset=0,this.startDate=DayPilot.Date.today(),this.cssClassPrefix="calendar_default",this.tapAndHoldTimeout=300,this.theme=null,this.timeFormat="Auto",this.timeHeaderCellDuration=60,this.useEventBoxes="Always",this.viewType="Days",this.visible=!0,this.weekStarts=null,this.width=null,this.eventClickHandling="Enabled",this.eventDoubleClickHandling="Disabled",this.eventRightClickHandling="ContextMenu",this.eventDeleteHandling="Disabled",this.eventEditHandling="Update",this.eventHoverHandling="Bubble",this.eventResizeHandling="Update",this.eventMoveHandling="Update",this.eventSelectHandling="Update",this.eventTapAndHoldHandling="Move",this.headerClickHandling="Enabled",this.timeRangeTapAndHoldHandling="Select",this.timeRangeSelectedHandling="Enabled",this.timeRangeDoubleClickHandling="Enabled",this.timeRangeRightClickHandling="ContextMenu",this.onTimeRangeRightClick=null,this.onTimeRangeRightClicked=null,this.$4m=!0,this.$4n=!1,this.$4o=0,this.doubleClickTimeout=300,this.members={},this.members.obsolete=["Init","cleanSelection","cssClassPrefix","cssOnly","clientName","uniqueID"],this.members.ignore=["internal","nav","debug","temp","elements","members"],this.members.noCssOnly=["allDayEventBorderColor","allDayEventFontColor","allDayEventFontFamily","allDayEventFontSize","borderColor","cellBackColor","cellBackColorNonBusiness","cellBorderColor","cornerBackColor","durationBarColor","durationBarImageUrl","eventBackColor","eventBorderColor","eventFontColor","eventFontFamily","eventFontSize","eventSelectColor","headerFontColor","headerFontFamily","headerFontSize","hourBorderColor","hourFontColor","hourFontFamily","hourFontSize","hourHalfBorderColor","hourNameBackColor","hourNameBorderColor","loadingLabelBackColor","loadingLabelFontColor","loadingLabelFontFamily","loadingLabelFontSize","roundedCorners","selectedColor","shadow","useEventSelectionBars"],this.$4p={},this.$4p.ie=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("MSIE"),this.$4p.ie9=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("MSIE 9"),this.$4p.ielt9=function(){var a=document.createElement("div");return a.innerHTML="\x3c!--[if lt IE 9]><i></i><![endif]--\x3e",1===a.getElementsByTagName("i").length}(),this.$4p.ff=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Firefox"),this.$4p.opera105=function(){if(/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)){return new Number(RegExp.$1)>=10.5}return!1}(),this.$4p.webkit522=function(){if(/AppleWebKit[\/\s](\d+\.\d+)/.test(navigator.userAgent)){return new Number(RegExp.$1)>=522}return!1}(),this.clearSelection=function(){if(!this.selectedCells)return void(this.selectedCells=[]);this.$4q(),this.selectedCells=[]},this.$4q=function(){if(this.selectedCells)for(var a=0;a<this.selectedCells.length;a++){var b=this.selectedCells[a];b&&b.selected&&(b.removeChild(b.selected),b.firstChild.style.display="",b.selected=null)}},this.cleanSelection=this.clearSelection,this.$4r=function(a,b,c){var d={};d.action=a,d.parameters=c,d.data=b,d.header=this.$4s();var f="JSON"+DayPilot.JSON.stringify(d);__doPostBack(e.uniqueID,f)},this.$4t=function(a,b,c,d){if(!this.$4u())return void e.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");this.callbackTimeout&&window.clearTimeout(this.callbackTimeout),void 0===d&&(d="CallBack"),this.callbackTimeout=window.setTimeout(function(){e.$4v()},100);var f={};f.action=a,f.type=d,f.parameters=b,f.data=c,f.header=this.$4s();var g="JSON"+DayPilot.JSON.stringify(f);this.backendUrl?DayPilot.request(this.backendUrl,this.$4w,g,this.$4x):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,g,this.$4y,this.clientName,this.onCallbackError,!0)},this.$4u=function(){return!!this.backendUrl||!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.$4x=function(a){if("function"==typeof e.onAjaxError){var b={};b.request=a,e.onAjaxError(b)}else"function"==typeof e.ajaxError&&e.ajaxError(a)},this.dispose=function(){var b=e;b.nav.top&&(b.$4z(),b.$4A(),b.nav.messageClose&&(b.nav.messageClose.onclick=null),b.nav.hourTable&&(b.nav.hourTable.oncontextmenu=null),b.nav.hourTable&&(b.nav.hourTable.onmousemove=null),b.nav.header&&(b.nav.header.oncontextmenu=null),b.nav.corner&&(b.nav.corner.oncontextmenu=null),b.nav.zoom.onmousemove=null,b.nav.scroll.onscroll=null,b.nav.scroll.root=null,DayPilot.pu(b.nav.loading),b.$4B(),b.$4C(),b.nav.select=null,b.nav.cornerRight=null,b.nav.scrollable=null,b.nav.bottomLeft=null,b.nav.bottomRight=null,b.nav.allday=null,b.nav.zoom=null,b.nav.loading=null,b.nav.events=null,b.nav.header=null,b.nav.hourTable=null,b.nav.scrolltop=null,b.nav.scroll=null,b.nav.vsph=null,b.nav.main=null,b.nav.message=null,b.nav.messageClose=null,b.nav.top.removeAttribute("style"),b.nav.top.removeAttribute("class"),b.nav.top.innerHTML="",b.nav.top.dp=null,b.nav.top=null,DayPilot.ue(window,"resize",b.$4D),a.unregister(b))},this.$4E=function(){this.nav.top.dispose=this.dispose},this.$4w=function(a){e.$4y(a.responseText)},this.$4s=function(){var a={};return a.v=this.v,a.control="dpc",a.id=this.id,a.clientState=e.clientState,a.columns=this.$4F(),a.days=e.days,a.startDate=e.startDate,a.cellDuration=e.cellDuration,a.cssOnly=e.cssOnly,a.cssClassPrefix=e.cssClassPrefix,a.heightSpec=e.heightSpec,a.businessBeginsHour=e.businessBeginsHour,a.businessEndsHour=e.businessEndsHour,a.viewType=e.viewType,a.dayBeginsHour=e.dayBeginsHour,a.dayEndsHour=e.dayEndsHour,a.headerLevels=e.headerLevels,a.backColor=e.cellBackColor,a.nonBusinessBackColor=e.cellBackColorNonBusiness,a.eventHeaderVisible=e.eventHeaderVisible,a.timeFormat=e.timeFormat,a.timeHeaderCellDuration=e.timeHeaderCellDuration,a.locale=e.locale,a.scrollY=e.scrollPos,a.showAllDayEvents=e.showAllDayEvents,a.tagFields=e.tagFields,a.weekStarts=e.weekStarts,a.hourNameBackColor=e.hourNameBackColor,a.hourFontFamily=e.hourFontFamily,a.hourFontSize=e.hourFontSize,a.hourFontColor=e.hourFontColor,a.selected=e.multiselect.events(),a.hashes=e.hashes,a},this.$4G=function(){this.$4H(),DayPilot.Areas.hideAll()},this.$4F=function(){var a=[];if(a.ignoreToJSON=!0,!this.columns)return a;for(var b=0;b<this.columns.length;b++){var c=this.columns[b],d=this.$4I(c);a.push(d)}return a},this.$4I=function(a){var b={};return b.Value=a.id,b.Name=a.name,b.ToolTip=a.toolTip,b.Date=a.start,b.Children=this.$4J(a.children),b},this.$4J=function(a){var b=[];if(b.ignoreToJSON=!0,!a)return b;for(var c=0;c<a.length;c++)b.push(this.$4I(a[c]));return b},this.$4y=function(a,b){var a=DayPilot.Util.parseJSON(a);if(a.BubbleGuid){var c=a.BubbleGuid,d=this.bubbles[c];return delete this.bubbles[c],e.$4K(),void(void 0!==a.Result.BubbleHTML&&d.updateView(a.Result.BubbleHTML,d))}if(a.CallBackRedirect)return void(document.location.href=a.CallBackRedirect);if(void 0!==a.ClientState&&(e.clientState=a.ClientState),"None"===a.UpdateType)return e.$4K(),e.$4L(a.CallBackData,!0),void(a.Message&&e.message(a.Message));if(a.VsUpdate){var f=document.createElement("input");f.type="hidden",f.name=e.id+"_vsupdate",f.id=f.name,f.value=a.VsUpdate,e.nav.vsph.innerHTML="",e.nav.vsph.appendChild(f)}if(e.$4A(),e.multiselect.clear(!0),e.multiselect.$4M=a.SelectedEvents,void 0!==a.TagFields&&(e.tagFields=a.TagFields),void 0!==a.SortDirections&&(e.sortDirections=a.SortDirections),"Full"===a.UpdateType&&(e.colors=a.Colors,e.palette=a.Palette,e.dirtyColors=a.DirtyColors,e.cellProperties=a.CellProperties,e.cellConfig=a.CellConfig,e.columns=a.Columns,e.days=a.Days,e.startDate=new DayPilot.Date(a.StartDate).getDatePart(),e.cellDuration=a.CellDuration,e.heightSpec=a.HeightSpec?a.HeightSpec:e.heightSpec,e.businessBeginsHour=a.BusinessBeginsHour?a.BusinessBeginsHour:e.businessBeginsHour,e.businessEndsHour=a.BusinessEndsHour?a.BusinessEndsHour:e.businessEndsHour,e.viewType=a.ViewType,e.headerLevels=a.HeaderLevels,e.backColor=a.BackColor?a.BackColor:e.backColor,e.nonBusinessBackColor=a.NonBusinessBackColor?a.NonBusinessBackColor:e.nonBusinessBackColor,e.eventHeaderVisible=a.EventHeaderVisible?a.EventHeaderVisible:e.eventHeaderVisible,e.timeFormat=a.TimeFormat?a.TimeFormat:e.timeFormat,e.timeHeaderCellDuration=void 0!==a.TimeHeaderCellDuration?a.TimeHeaderCellDuration:e.timeHeaderCellDuration,e.locale=a.Locale?a.Locale:e.locale,e.dayBeginsHour=void 0!==a.DayBeginsHour?a.DayBeginsHour:e.dayBeginsHour,e.dayEndsHour=void 0!==a.DayEndsHour?a.DayEndsHour:e.dayEndsHour,e.cornerBackColor=a.CornerBackColor,e.cornerHtml=a.CornerHTML,e.hours=a.Hours,e.$4N(),e.$4O()),a.Hashes)for(var g in a.Hashes)e.hashes[g]=a.Hashes[g];if(e.$4P(a.Events),e.$4Q(),("Full"===a.UpdateType||e.hideFreeCells)&&(e.$4R(),e.$4S(),e.$4T(),e.$4U(),e.$4V(),e.$4W(),e.$4X(),e.$4Y(),e.clearSelection(),void 0!==a.ScrollY?e.scrollToY(a.ScrollY):e.scrollToY(e.initScrollPos)),e.$4Z(),e.$50(),e.$51(),e.$52(),"Parent100Pct"===e.heightSpec&&e.$4D(),"HoldForever"!==e.timeRangeSelectedHandling&&e.clearSelection(),e.$53(),e.todo&&e.todo.del){var h=e.todo.del;h.parentNode.removeChild(h),e.todo.del=null}e.$4L(a.CallBackData,!0),e.$4K(),e.$54(),a.Message&&e.message(a.Message)},this.$4L=function(a,b){var c=function(a,b){return function(){if(e.$55()){if("function"==typeof e.onAfterRender){var c={};c.isCallBack=b,c.data=a,e.onAfterRender(c)}}else e.afterRender&&e.afterRender(a,b)}};window.setTimeout(c(a,b),0)},this.$56=function(a,b,c){var d=e.nav.events,f=d.clientWidth/d.rows[0].cells.length,g=Math.floor(e.coords.x/f);g<0&&(g=0),e.rtl&&(g=e.$57.length-g-1);var h=d.rows[0].cells[g],i=0,j=0,k=0;if(void 0!==a.duration){var l=a.duration;k=Math.floor((e.coords.y-i+e.cellHeight/2)/e.cellHeight)*e.cellHeight+i,j=l*e.cellHeight/(60*e.cellDuration),j=Math.max(j,e.cellHeight)}else{var m=a.event;j=m.part.height,k=m.part.top}var n=document.createElement("div");n.setAttribute("unselectable","on"),n.style.position="absolute",n.style.width="100%",n.style.height=j+"px",n.style.left="0px",n.style.top=k+"px",n.style.zIndex=101,n.exclude=!0;var o=document.createElement("div");return n.appendChild(o),this.cssOnly&&(n.className=e.$58("_shadow"),o.className=this.$58("_shadow_inner")),this.cssOnly||(o.style.position="absolute",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px","Fill"===c?(o.style.backgroundColor="#aaaaaa",o.style.opacity=.5,o.style.filter="alpha(opacity=50)",o.style.border="2px solid #aaaaaa"):o.style.border="2px dotted #666666",this.roundedCorners&&(o.style.MozBorderRadius="5px",o.style.webkitBorderRadius="5px",o.style.borderRadius="5px")),h.events.appendChild(n),n},this.$59=function(){return this.$5a()/36e5},this.$5b=function(){return this.businessBeginsHour>this.businessEndsHour?24-this.businessBeginsHour+this.businessEndsHour:this.businessEndsHour-this.businessBeginsHour},this.$5c=function(){return this.dayBeginsHour>=this.dayEndsHour?24-this.dayBeginsHour+this.dayEndsHour:this.dayEndsHour-this.dayBeginsHour},this.$5a=function(a){var b=0;if("BusinessHoursNoScroll"===this.heightSpec)b=this.$5b();else if(this.hideFreeCells&&!a){var c=(this.$5d-1)*this.cellDuration/this.cellHeight,d=Math.ceil(c/60),e=this.businessBeginsHour>this.businessEndsHour?this.businessEndsHour+24:this.businessEndsHour;b=Math.max(this.dayBeginsHour+d,e)-this.$5e()}else b=this.$5c();return 60*b*60*1e3},this.message=function(a,b,c,d){if(a){var g,b=b||this.messageHideAfter||2e3,c=c||"#ffffff",d=d||"#000000",f=.8,h=this.$5f(),i=this.showHours?this.hourWidth:0,j=DayPilot.sw(e.$5g());if(this.cssOnly||(h+=1,i+=2,j-=2),e.rtl){var k=i;i=j,j=k}if(this.nav.message)g=e.nav.message,this.nav.message.style.top=h+"px";else{g=document.createElement("div"),g.style.position="absolute",g.style.left=i+"px",g.style.top=h+"px",g.style.right="0px",g.style.display="none",g.onmousemove=function(){g.messageTimeout&&!g.status&&clearTimeout(g.messageTimeout)},g.onmouseout=function(){"none"!==e.nav.message.style.display&&(g.messageTimeout=setTimeout(e.$5h,500))};var l=document.createElement("div");l.onclick=function(){e.nav.message.style.display="none"},this.cssOnly?l.className=this.$58("_message"):(l.style.padding="5px",l.style.opacity=f,l.style.filter="alpha(opacity="+100*f+")"),g.appendChild(l);var m=document.createElement("div");m.style.position="absolute",this.cssOnly?m.className=this.$58("_message_close"):(m.style.top="5px",m.style.right=DayPilot.sw(e.$5g())+5+"px",m.style.color=c,m.style.lineHeight="100%",m.style.cursor="pointer",m.style.fontWeight="bold",m.innerHTML="X"),m.onclick=function(){e.nav.message.style.display="none"},g.appendChild(m),this.nav.top.insertBefore(g,this.nav.loading),this.nav.message=g,this.nav.messageClose=m}this.nav.cornerRight?this.nav.message.style.right=j+"px":this.nav.message.style.right="0px";var n=function(){if(e.nav.message){var h=e.nav.message.firstChild;e.cssOnly||(h.style.padding="5px",h.style.opacity=f,h.style.backgroundColor=d,h.style.color=c),h.innerHTML=a;var i=function(){g.messageTimeout=setTimeout(e.$5h,b)};DayPilot.fade(e.nav.message,.2,i)}};clearTimeout(g.messageTimeout),"none"!==this.nav.message.style.display?DayPilot.fade(e.nav.message,-.2,n):n()}},this.message.show=function(a){e.message(a)},this.message.hide=function(){e.$5h()},this.$5h=function(){var a=function(){e.nav.message.style.display="none"};DayPilot.fade(e.nav.message,-.2,a)},this.$4U=function(){this.nav.message&&(this.nav.message.style.top=this.$5f()+"px")},this.$5i=function(){return this.$5a()/(6e4*this.cellDuration)},this.eventClickPostBack=function(a,b){this.$4r("EventClick",b,a)},this.eventClickCallBack=function(a,b){this.$4t("EventClick",a,b)},this.$5j=function(a){var b=this,a=a||window.event,c=a.ctrlKey,d=a.metaKey;if(void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),"Disabled"===e.eventDoubleClickHandling)return void e.$5k(b,c,d);if(e.timeouts){for(var f in e.timeouts)window.clearTimeout(e.timeouts[f]);e.timeouts=[]}else e.timeouts=[];var g=function(a,b,c){return function(){e.$5k(a,b,c)}};e.timeouts.push(window.setTimeout(g(this,c,d),e.doubleClickTimeout))},this.$5k=function(a,b,c){var d=a.event;if(d.client.clickEnabled())if(e.$55()){var f={};if(f.e=d,f.ctrl=b,f.meta=c,f.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventClick&&(e.onEventClick(f),f.preventDefault.value))return;switch(e.eventClickHandling){case"PostBack":e.eventClickPostBack(d);break;case"CallBack":e.eventClickCallBack(d);break;case"Edit":e.$5l(a);break;case"Select":e.$5m(a,d,b,c);break;case"Bubble":e.bubble&&e.bubble.showEvent(d);break;case"ContextMenu":var g=d.client.contextMenu();g?g.show(d):e.contextMenu&&e.contextMenu.show(d)}"function"==typeof e.onEventClicked&&e.onEventClicked(f)}else switch(e.eventClickHandling){case"PostBack":e.eventClickPostBack(d);break;case"CallBack":e.eventClickCallBack(d);break;case"JavaScript":e.onEventClick(d);break;case"Edit":e.$5l(a);break;case"Select":e.$5m(a,d,b,c);break;case"Bubble":e.bubble&&e.bubble.showEvent(d);break;case"ContextMenu":var g=d.client.contextMenu();g?g.show(d):e.contextMenu&&e.contextMenu.show(d)}},this.eventDoubleClickPostBack=function(a,b){this.$4r("EventDoubleClick",b,a)},this.eventDoubleClickCallBack=function(a,b){this.$4t("EventDoubleClick",a,b)},this.$5n=function(a){if(void 0!==DayPilotBubble&&DayPilotBubble.hideActive(),e.timeouts){for(var b in e.timeouts)window.clearTimeout(e.timeouts[b]);e.timeouts=null}var c=this.event,a=a||window.event;if(e.$55()){var d={};if(d.e=c,d.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventDoubleClick&&(e.onEventDoubleClick(d),d.preventDefault.value))return;switch(e.eventDoubleClickHandling){case"PostBack":e.eventDoubleClickPostBack(c);break;case"CallBack":e.eventDoubleClickCallBack(c);break;case"Edit":c.allday()||e.$5l(this);break;case"Select":c.allday()||e.$5m(this,c,a.ctrlKey);break;case"Bubble":e.bubble&&e.bubble.showEvent(c)}"function"==typeof e.onEventDoubleClicked&&e.onEventDoubleClicked(d)}else switch(e.eventDoubleClickHandling){case"PostBack":e.eventDoubleClickPostBack(c);break;case"CallBack":e.eventDoubleClickCallBack(c);break;case"JavaScript":e.onEventDoubleClick(c);break;case"Edit":c.allday()||e.$5l(this);break;case"Select":c.allday()||e.$5m(this,c,a.ctrlKey);break;case"Bubble":e.bubble&&e.bubble.showEvent(c)}},this.eventRightClickPostBack=function(a,b){this.$4r("EventRightClick",b,a)},this.eventRightClickCallBack=function(a,b){this.$4t("EventRightClick",a,b)},this.$5o=function(a){var b=this.event;if(!b.client.rightClickEnabled())return!1;if(e.$55()){var c={};if(c.e=b,c.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventRightClick&&(e.onEventRightClick(c),c.preventDefault.value))return;switch(e.eventRightClickHandling){case"PostBack":e.eventRightClickPostBack(b);break;case"CallBack":e.eventRightClickCallBack(b);break;case"ContextMenu":var d=b.client.contextMenu();d?d.show(b):e.contextMenu&&e.contextMenu.show(this.event);break;case"Bubble":e.bubble&&e.bubble.showEvent(b)}"function"==typeof e.onEventRightClicked&&e.onEventRightClicked(c)}else switch(e.eventRightClickHandling){case"PostBack":e.eventRightClickPostBack(b);break;case"CallBack":e.eventRightClickCallBack(b);break;case"JavaScript":e.onEventRightClick(b);break;case"ContextMenu":var d=b.client.contextMenu();d?d.show(b):e.contextMenu&&e.contextMenu.show(this.event);break;case"Bubble":e.bubble&&e.bubble.showEvent(b)}return a.preventDefault&&a.preventDefault(),!1},this.headerClickPostBack=function(a,b){this.$4r("HeaderClick",b,a)},this.headerClickCallBack=function(a,b){this.$4t("HeaderClick",a,b)},this.$5p=function(b){var c=this.data,d=new a.Column(c.id,c.name,c.start);if(e.$55()){var f={};if(f.header={},f.header.id=c.id,f.header.name=c.name,f.header.start=c.start,f.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onHeaderClick&&(e.onHeaderClick(f),f.preventDefault.value))return;switch(e.headerClickHandling){case"PostBack":e.headerClickPostBack(d);break;case"CallBack":e.headerClickCallBack(d)}"function"==typeof e.onHeaderClicked&&e.onHeaderClicked(f)}else switch(e.headerClickHandling){case"PostBack":e.headerClickPostBack(d);break;case"CallBack":e.headerClickCallBack(d);break;case"JavaScript":e.onHeaderClick(d)}},this.$5q=function(){if(void 0!==DayPilotBubble&&e.columnBubble)if("Resources"===e.viewType){var b={};b.calendar=e,b.id=this.data.id,b.toJSON=function(){var a={};return a.id=this.id,a},e.columnBubble.showResource(b)}else{var c=new DayPilot.Date(this.data.start),d=c.addDays(1),f={};f.calendar=e,f.start=c,f.end=d,f.toJSON=function(){var a={};return a.start=this.start,a.end=this.end,a},e.columnBubble.showTime(f)}var g=this,h=g.firstChild;if(!h.active){var i=g.data,j=new a.Column(i.id,i.name,i.start);j.areas=g.data.areas,DayPilot.Areas.showAreas(h,j)}},this.$5r=function(a){void 0!==DayPilotBubble&&e.columnBubble&&e.columnBubble.hideOnMouseOut(),DayPilot.Areas.hideAreas(this.firstChild,a)},this.eventDeletePostBack=function(a,b){this.$4r("EventDelete",b,a)},this.eventDeleteCallBack=function(a,b){this.$4t("EventDelete",a,b)},this.$5s=function(a){var b;if(b=a&&a.isEvent?a:a.parentNode.parentNode.event,e.$55()){var c={};if(c.e=b,c.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventDelete&&(e.onEventDelete(c),c.preventDefault.value))return;switch(e.eventDeleteHandling){case"PostBack":e.eventDeletePostBack(b);break;case"CallBack":e.eventDeleteCallBack(b);break;case"Update":e.events.remove(b)}"function"==typeof e.onEventDeleted&&e.onEventDeleted(c)}else switch(e.eventDeleteHandling){case"PostBack":e.eventDeletePostBack(b);break;case"CallBack":e.eventDeleteCallBack(b);break;case"JavaScript":e.onEventDelete(b)}},this.eventResizePostBack=function(a,b,c,d){if(!b)throw"newStart is null";if(!c)throw"newEnd is null";var e={};e.e=a,e.newStart=b,e.newEnd=c,this.$4r("EventResize",d,e)},this.eventResizeCallBack=function(a,b,c,d){if(!b)throw"newStart is null";if(!c)throw"newEnd is null";var e={};e.e=a,e.newStart=b,e.newEnd=c,this.$4t("EventResize",e,d)},this.$5t=function(a,b,c,d){if("PostBack"===a)e.postBack2(b,c,d);else if("CallBack"===a)e.$4t(b,c,d,"CallBack");else if("Immediate"===a)e.$4t(b,c,d,"Notify");else if("Queue"===a)e.queue.add(new DayPilot.Action(this,b,c,d));else{if("Notify"!==a)throw"Invalid event invocation type";"Notify"===h.notifyType()?e.$4t(b,c,d,"Notify"):e.queue.add(new DayPilot.Action(e,b,c,d))}},this.$5e=function(a){if("BusinessHoursNoScroll"===this.heightSpec)return this.businessBeginsHour;if(this.hideFreeCells&&!a){var b=this.$5u*this.cellDuration/this.cellHeight,c=Math.floor(b/60);return c=Math.max(0,c),Math.min(this.dayBeginsHour+c,this.businessBeginsHour)}return this.dayBeginsHour},this.visibleStart=function(){return this.$57[0].start},this.visibleEnd=function(){var a=this.$57;return a[a.length-1].start.addDays(1)},this.$55=function(){return 2===e.api},this.$5v=function(a,b,c,d){if("Disabled"!==this.eventResizeHandling){var f=0,g=new Date,h=new Date,i=a.start(),k=(a.end(),e.cellDuration),l=e.$57[a.part.dayIndex].start;if("top"===d){var l=i.getDatePart(),m=Math.floor((c-f)/e.cellHeight),n=m*k,o=60*n*1e3,p=60*e.$5e()*60*1e3;g=l.addTime(o+p),h=a.end()}else if("bottom"===d){var m=Math.floor((c+b-f)/e.cellHeight),n=m*k,o=60*n*1e3,p=60*e.$5e()*60*1e3;g=i,h=l.addTime(o+p)}if(e.$55()){var q={};if(q.e=a,q.newStart=g,q.newEnd=h,q.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventResize&&(e.onEventResize(q),q.preventDefault.value))return;switch(e.eventResizeHandling){case"PostBack":e.eventResizePostBack(a,g,h);break;case"CallBack":e.eventResizeCallBack(a,g,h);break;case"Notify":e.eventResizeNotify(a,g,h);break;case"Update":a.start(g),a.end(h),e.events.update(a)}"function"==typeof e.onEventResized&&e.onEventResized(q)}else switch(e.eventResizeHandling){case"PostBack":e.eventResizePostBack(a,g,h);break;case"CallBack":e.eventResizeCallBack(a,g,h);break;case"JavaScript":e.onEventResize(a,g,h);break;case"Notify":e.eventResizeNotify(a,g,h)}}};this.eventResizeNotify=function(a,b,c,d){var f=new DayPilot.Event(a.copy(),this);a.start(b),a.end(c),a.commit(),e.update(),this.$5w("Notify",f,b,c,d)},this.$5w=function(a,b,c,d,e){var f={};f.e=b,f.newStart=c,f.newEnd=d,this.$5t(a,"EventResize",f,e)},this.eventMovePostBack=function(a,b,c,d,e){if(!b)throw"newStart is null";if(!c)throw"newEnd is null";var f={};f.e=a,f.newStart=b,f.newEnd=c,f.newResource=d,this.$4r("EventMove",e,f)},this.eventMoveCallBack=function(a,b,c,d,e){if(!b)throw"newStart is null";if(!c)throw"newEnd is null";var f={};f.e=a,f.newStart=b,f.newEnd=c,f.newResource=d,this.$4t("EventMove",f,e)},this.$5x=function(a,b,c,d,f){if("Disabled"!==e.eventMoveHandling){var g=0,h=Math.floor((c-g)/e.cellHeight),i=e.cellDuration,j=h*i*60*1e3,k=a.start(),l=a.end(),m=new Date;k instanceof DayPilot.Date&&(k=k.toDate()),m.setTime(Date.UTC(k.getUTCFullYear(),k.getUTCMonth(),k.getUTCDate()));var n="Never"!==e.useEventBoxes?k.getTime()-(m.getTime()+3600*k.getUTCHours()*1e3+Math.floor(k.getUTCMinutes()/i)*i*60*1e3):0,o=l.getTime()-k.getTime(),p=3600*e.$5e()*1e3,q=this.$57[b],r=q.start.getTime(),s=new Date;s.setTime(r+j+n+p);var t=new DayPilot.Date(s),u=t.addTime(o),v=!!f,w=q.id;if(e.$55()){var x={};if(x.e=a,x.newStart=t,x.newEnd=u,x.newResource=w,x.external=v,x.ctrl=!1,d&&(x.ctrl=d.ctrlKey),x.shift=!1,d&&(x.shift=d.shiftKey),x.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventMove&&(e.onEventMove(x),x.preventDefault.value))return;switch(e.eventMoveHandling){case"PostBack":e.eventMovePostBack(a,t,u,w);break;case"CallBack":e.eventMoveCallBack(a,t,u,w);break;case"Notify":e.eventMoveNotify(a,t,u,w);break;case"Update":a.start(t),a.end(u),a.resource(w),v?(a.commit(),e.events.add(a)):e.events.update(a),e.$5y()}"function"==typeof e.onEventMoved&&e.onEventMoved(x)}else switch(e.eventMoveHandling){case"PostBack":e.eventMovePostBack(a,t,u,w);break;case"CallBack":e.eventMoveCallBack(a,t,u,w);break;case"JavaScript":e.onEventMove(a,t,u,w,v,!!d&&d.ctrlKey,!!d&&d.shiftKey);break;case"Notify":e.eventMoveNotify(a,t,u,w,null)}}},this.eventMoveNotify=function(a,b,c,d,f){var g=new DayPilot.Event(a.copy(),this);a.start(b),a.end(c),a.resource(d),a.commit(),e.update(),this.$5z("Notify",g,b,c,d,f)},this.$5z=function(a,b,c,d,e,f){var g={};g.e=b,g.newStart=c,g.newEnd=d,g.newResource=e,this.$5t(a,"EventMove",g,f)},this.$5y=function(){if(e.todo&&e.todo.del){var a=e.todo.del;a.parentNode.removeChild(a),e.todo.del=null}},this.$5A=function(a,b){var c=e.$5B(b),d={};d.args=a,d.guid=c,e.$4t("Bubble",d)},this.$5B=function(a){var b=DayPilot.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[b]=a,b},this.eventMenuClickPostBack=function(a,b,c){var d={};d.e=a,d.command=b,this.$4r("EventMenuClick",c,d)},this.eventMenuClickCallBack=function(a,b,c){var d={};d.e=a,d.command=b,this.$4t("EventMenuClick",d,c)},this.$5C=function(a,b,c){switch(c){case"PostBack":e.eventMenuClickPostBack(b,a);break;case"CallBack":e.eventMenuClickCallBack(b,a)}},this.timeRangeMenuClickPostBack=function(a,b,c){var d={};d.selection=a,d.command=b,this.$4r("TimeRangeMenuClick",c,d)},this.timeRangeMenuClickCallBack=function(a,b,c){var d={};d.selection=a,d.command=b,this.$4t("TimeRangeMenuClick",d,c)},this.$5D=function(a,b,c){switch(c){case"PostBack":e.timeRangeMenuClickPostBack(b,a);break;case"CallBack":e.timeRangeMenuClickCallBack(b,a)}},this.timeRangeSelectedPostBack=function(a,b,c,d){var e={};e.start=a,e.end=b,e.resource=c,this.$4r("TimeRangeSelected",d,e)},this.timeRangeSelectedCallBack=function(a,b,c,d){var e={};e.start=a,e.end=b,e.resource=c,this.$4t("TimeRangeSelected",e,d)},this.$5E=function(a,b,c){a=new DayPilot.Date(a),b=new DayPilot.Date(b);var d=c;if(e.$55()){var f={};if(f.start=a,f.end=b,f.resource=d,f.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onTimeRangeSelect&&(e.onTimeRangeSelect(f),f.preventDefault.value))return;switch(e.timeRangeSelectedHandling){case"PostBack":e.timeRangeSelectedPostBack(a,b,d);break;case"CallBack":e.timeRangeSelectedCallBack(a,b,d)}"function"==typeof e.onTimeRangeSelected&&e.onTimeRangeSelected(f)}else switch(e.timeRangeSelectedHandling){case"PostBack":e.timeRangeSelectedPostBack(a,b,c);break;case"CallBack":e.timeRangeSelectedCallBack(a,b,c);break;case"JavaScript":e.onTimeRangeSelected(a,b,c)}},this.timeRangeDoubleClickPostBack=function(a,b,c,d){var e={};e.start=a,e.end=b,e.resource=c,this.$4r("TimeRangeDoubleClick",d,e)},this.timeRangeDoubleClickCallBack=function(a,b,c,d){var e={};e.start=a,e.end=b,e.resource=c,this.$4t("TimeRangeDoubleClick",e,d)},this.$5F=function(a,b,c){if(e.$55()){var d=c,f={};if(f.start=a,f.end=b,f.resource=d,f.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onTimeRangeDoubleClick&&(e.onTimeRangeDoubleClick(f),f.preventDefault.value))return;switch(e.timeRangeDoubleClickHandling){case"PostBack":e.timeRangeDoubleClickPostBack(a,b,d);break;case"CallBack":e.timeRangeDoubleClickCallBack(a,b,d)}"function"==typeof e.onTimeRangeDoubleClicked&&e.onTimeRangeDoubleClicked(f)}else switch(e.timeRangeDoubleClickHandling){case"PostBack":e.timeRangeDoubleClickPostBack(a,b,c);break;case"CallBack":e.timeRangeDoubleClickCallBack(a,b,c);break;case"JavaScript":e.onTimeRangeDoubleClick(a,b,c)}},this.eventEditPostBack=function(a,b,c){var d={};d.e=a,d.newText=b,this.$4r("EventEdit",c,d)},this.eventEditCallBack=function(a,b,c){var d={};d.e=a,d.newText=b,this.$4t("EventEdit",d,c)},this.$5G=function(a,b){if(e.$55()){var c={};if(c.e=a,c.newText=b,c.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventEdit&&(e.onEventEdit(c),c.preventDefault.value))return;switch(e.eventEditHandling){case"PostBack":e.eventEditPostBack(a,b);break;case"CallBack":e.eventEditCallBack(a,b);break;case"Update":a.text(b),e.events.update(a)}if("function"==typeof e.onEventEdited&&(e.onEventEdited(c),c.preventDefault.value))return}else switch(e.eventEditHandling){case"PostBack":e.eventEditPostBack(a,b);break;case"CallBack":e.eventEditCallBack(a,b);break;case"JavaScript":e.onEventEdit(a,b)}},this.eventSelectPostBack=function(a,b,c){var d={};d.e=a,d.change=b,this.$4r("EventSelect",c,d)},this.eventSelectCallBack=function(a,b,c){var d={};d.e=a,d.change=b,this.$4t("EventSelect",d,c)},this.$5H=function(a,b,c,d){var f=e.multiselect,h=f.isSelected(b);if(c||d||!h||1!==f.$5I.length)if(e.$55()){f.previous=f.events();var j={};if(j.e=b,j.selected=f.isSelected(b),j.ctrl=c,j.meta=d,j.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventSelect&&(e.onEventSelect(j),j.preventDefault.value))return;switch(e.eventSelectHandling){case"PostBack":e.eventSelectPostBack(b,k);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.__theFormPostData="",window.__theFormPostCollection=[],WebForm_InitCallback()),e.eventSelectCallBack(b,k);break;case"Update":f.$5J(a,c)}"function"==typeof e.onEventSelected&&(j.change=f.isSelected(b)?"selected":"deselected",j.selected=f.isSelected(b),e.onEventSelected(j))}else{f.previous=f.events(),f.$5J(a,c);var k=f.isSelected(b)?"selected":"deselected";switch(e.eventSelectHandling){case"PostBack":e.eventSelectPostBack(b,k);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.__theFormPostData="",window.__theFormPostCollection=[],WebForm_InitCallback()),e.eventSelectCallBack(b,k);break;case"JavaScript":e.onEventSelect(b,k)}}},this.commandCallBack=function(a,b){this.$4z();var c={};c.command=a,this.$4t("Command",c,b)},this.$5K=function(b){if(!g.active&&!g.using&&(clearTimeout(a.selectedTimeout),!a.selecting)){if(a.editing)return void a.editing.blur();if(e.selectedCells&&"Disabled"!==e.timeRangeDoubleClickHandling)for(var c=0;c<e.selectedCells.length;c++)if(this===e.selectedCells[c])return;if("Disabled"!==e.timeRangeSelectedHandling){DayPilot.Util.mouseButton(b).left&&(a.firstMousePos=DayPilot.mc(b||window.event),e.clearSelection(),a.topSelectedCell=this,a.bottomSelectedCell=this,a.column=a.getColumn(this),e.selectedCells.push(this),a.firstSelected=this)}}},this.$5L=function(){if(this.getSelection()&&e.selectedCells)for(var b=0;b<e.selectedCells.length;b++){var c=e.selectedCells[b];if(c&&!c.selected){var d=document.createElement("div");d.style.height=e.cellHeight-1+"px",d.style.backgroundColor=e.selectedColor,c.firstChild.style.display="none",c.insertBefore(d,c.firstChild),c.selected=d}}},this.$5M=function(a){void 0!==DayPilotBubble&&e.cellBubble&&e.cellBubble.hideOnMouseOut()},this.$5N=function(b){if(void 0!==a&&!g.active&&!g.using){if(void 0!==DayPilotBubble&&e.cellBubble){var c=a.getColumn(this),d=e.$57[c].id,f={};f.calendar=e,f.start=this.start,f.end=this.end,f.resource=d,f.toJSON=function(){var a={};return a.start=this.start,a.end=this.end,a.resource=this.resource,a},e.cellBubble.showCell(f)}if(a.firstMousePos){var h=a.firstMousePos,i=DayPilot.mc(b||window.event);h.x===i.x&&h.y===i.y||(a.selecting=!0,e.clearSelection(),e.$5L())}if(a.selecting){var j=DayPilot.mc(b||window.event);a.getColumn(this)===a.column&&(e.clearSelection(),j.y<a.firstMousePos.y?(e.selectedCells=a.getCellsBelow(this),a.topSelectedCell=e.selectedCells[0],a.bottomSelectedCell=a.firstSelected):(e.selectedCells=a.getCellsAbove(this),a.topSelectedCell=a.firstSelected,a.bottomSelectedCell=e.selectedCells[0]),e.$5L())}}},this.getSelection=function(){if(!a.topSelectedCell)return null;if(!a.bottomSelectedCell)return null;var b=a.topSelectedCell.start,c=a.bottomSelectedCell.end,d=a.topSelectedCell.resource;return new DayPilot.Selection(b,c,d,e)},this.$5O=function(b){if(a.firstMousePos){var c=function(){a.selecting=!0,e.$5L(),a.firstMousePos=null,a.selecting=!1;var b=e.getSelection();e.$5E(b.start,b.end,b.resource)};a.selecting&&null!==a.topSelectedCell?c():a.selectedTimeout=setTimeout(c,100)}else a.selecting=!1},this.$5P=function(a){if("Fixed"===e.columnWidthSpec||e.$5Q){if(!e.nav.bottomLeft)return;e.nav.bottomLeft.scrollTop=e.nav.bottomRight.scrollTop,e.nav.upperRight&&(e.nav.upperRight.scrollLeft=e.nav.bottomRight.scrollLeft)}var c=e.$5R();e.scrollPos=c.scrollTop,e.$5S=c.clientHeight,e.nav.scrollpos.value=e.scrollPos,e.$53()},this.$53=function(){if(this.scrollLabelsVisible&&this.$5T){if(this.nav&&this.nav.main&&this.nav.main.rows&&this.nav.main.rows.length>0&&this.nav.main.rows[0].cells.length>0){for(var c=(this.$57,this.showHours?this.hourWidth:0),d=this.nav.main.rows[0].cells[0].clientWidth,f=10,g=1,h=0;h<this.nav.scrollUp.length;h++){var i=this.nav.scrollUp[h],j=this.nav.scrollDown[h],k=Math.floor(c+h*d+d/2-f/2+g);k<0&&(k=0),i&&i.style&&(i.style.left=k+"px"),j&&j.style&&(j.style.left=k+"px")}for(var l=this.$5U(),h=0;h<this.nav.scrollUp.length;h++){var m=this.nav.scrollUp[h],n=this.nav.scrollDown[h],o=this.$5T[h].minEnd-l,p=this.$5T[h].maxStart-l;m&&n&&(o<=e.scrollPos?(m.style.top=this.$5f()+"px",m.style.display=""):m.style.display="none",p>=e.scrollPos+e.$5S?(n.style.top=this.$5f()+this.$5S-10+"px",n.style.display=""):n.style.display="none")}}}},this.$5V=function(a){for(var b=a.parentNode;b&&"TD"!==b.tagName;)b=b.parentNode;var c=0,d=a.offsetTop,e=a.parentNode.offsetWidth,f=a.offsetHeight;a.event.allday()&&(c=a.offsetLeft,e=a.offsetWidth);var g=document.createElement("textarea");g.style.boxSizing="border-box",g.style.position="absolute",g.style.width=e+"px",g.style.height=f+"px";var h=DayPilot.gs(a,"fontFamily");h||(h=DayPilot.gs(a,"font-family")),g.style.fontFamily=h;var i=DayPilot.gs(a,"fontSize");return i||(i=DayPilot.gs(a,"font-size")),g.style.fontSize=i,g.style.left=c+"px",g.style.top=d+"px",g.style.border="1px solid black",g.style.padding="0px",g.style.marginTop="0px",g.style.backgroundColor="white",g.value=DayPilot.tr(a.event.text()),g.event=a.event,b.firstChild.appendChild(g),g},this.$5m=function(a,b,c,d){e.$5H(a,b,c,d)},this.multiselect={},this.multiselect.$4M=[],this.multiselect.$5I=[],this.multiselect.$5W=[],this.multiselect.$5X=[],this.multiselect.$5Y=function(){var a=e.multiselect;return DayPilot.JSON.stringify(a.events())},this.multiselect.events=function(){var a=e.multiselect,b=[];b.ignoreToJSON=!0;for(var c=0;c<a.$5I.length;c++)b.push(a.$5I[c]);return b},this.multiselect.$5Z=function(){e.nav.select.value=e.multiselect.$5Y()},this.multiselect.$5J=function(a,b){var c=e.multiselect;if(c.isSelected(a.event))if(e.allowMultiSelect)if(b)c.remove(a.event,!0);else{var d=c.$5I.length;c.clear(!0),d>1&&c.add(a.event,!0)}else c.clear(!0);else e.allowMultiSelect&&b?c.add(a.event,!0):(c.clear(!0),c.add(a.event,!0));c.redraw(),c.$5Z()},this.multiselect.$60=function(a){var b=e.multiselect;return b.$61(a,b.$4M)},this.multiselect.$62=function(){for(var a=e.multiselect,b=[],c=0;c<a.$5I.length;c++){var d=a.$5I[c];b.push(d.value())}alert(b.join("\n"))},this.multiselect.add=function(a,b){var c=e.multiselect;-1===c.$63(a)&&c.$5I.push(a),c.$5Z(),b||c.redraw()},this.multiselect.remove=function(a,b){var c=e.multiselect,d=c.$63(a);-1!==d&&c.$5I.splice(d,1),c.$5Z(),b||c.redraw()},this.multiselect.clear=function(a){var b=e.multiselect;b.$5I=[],b.$5Z(),a||b.redraw()},this.multiselect.redraw=function(){for(var a=e.multiselect,b=0;b<e.elements.events.length;b++){var c=e.elements.events[b];a.isSelected(c.event)?a.$64(c):a.$65(c)}},this.multiselect.$64=function(a){var b=e.multiselect,c=e.cssOnly?e.$58("_selected"):e.$58("selected"),d=b.$66(a);DayPilot.Util.addClass(d,c),e.useEventSelectionBars&&b.$67(a),b.$5W.push(a)},this.multiselect.$66=function(a){if(e.cssOnly)return a;for(var b=0;b<a.childNodes.length;b++){var c=a.childNodes[b];if("1"===c.getAttribute("c"))return c}return null},this.multiselect.$68=function(){for(var a=e.multiselect,b=0;b<a.$5W.length;b++){var c=a.$5W[b];a.$65(c,!0)}a.$5W=[]},this.multiselect.$65=function(a,b){var c=e.multiselect,d=e.cssOnly?e.$58("_selected"):e.$58("selected"),f=c.$66(a);if(DayPilot.Util.removeClass(f,d),e.useEventSelectionBars&&c.$69(a),!b){var g=DayPilot.indexOf(c.$5W,a);-1!==g&&c.$5W.splice(g,1)}},this.multiselect.isSelected=function(a){return e.multiselect.$61(a,e.multiselect.$5I)},this.multiselect.$63=function(a){return DayPilot.indexOf(e.multiselect.$5I,a)},this.multiselect.$61=function(a,b){if(!b)return!1;for(var c=0;c<b.length;c++){var d=b[c];if(a===d)return!0;if("function"==typeof d.value){if(null!==d.value()&&null!==a.value()&&d.value()===a.value())return!0;if(null===d.value()&&null===a.value()&&d.recurrentMasterId()===a.recurrentMasterId()&&a.start().toStringSortable()===d.start())return!0}else{if(null!==d.value&&null!==a.value()&&d.value===a.value())return!0;if(null===d.value&&null===a.value()&&d.recurrentMasterId===a.recurrentMasterId()&&a.start().toStringSortable()===d.start)return!0}}return!1},this.multiselect.$67=function(a){var b=5;if(!a.top){var c=document.createElement("div");c.setAttribute("unselectable","on"),c.style.position="absolute",c.style.left=a.offsetLeft+"px",c.style.width=a.offsetWidth+"px",c.style.top=a.offsetTop-b+"px",c.style.height=b+"px",c.style.backgroundColor=e.eventSelectColor,c.style.zIndex=100,a.parentNode.appendChild(c),a.top=c}if(!a.bottom){var d=document.createElement("div");d.setAttribute("unselectable","on"),d.style.position="absolute",d.style.left=a.offsetLeft+"px",d.style.width=a.offsetWidth+"px",d.style.top=a.offsetTop+a.offsetHeight+"px",d.style.height=b+"px",d.style.backgroundColor=e.eventSelectColor,d.style.zIndex=100,a.parentNode.appendChild(d),a.bottom=d}},this.multiselect.$69=function(a){a.top&&(a.parentNode.removeChild(a.top),a.top=null),a.bottom&&(a.parentNode.removeChild(a.bottom),a.bottom=null)},this.$5l=function(b){if(a.editing)return void a.editing.blur();var c=this.$5V(b);a.editing=c,DayPilot.re(c,DayPilot.touch.start,function(a){a.stopPropagation()}),c.onblur=function(){var g=(b.event.value(),b.event.tag(),b.event.text()),h=c.value;a.editing=null,c.parentNode.removeChild(c),g!==h&&(b.style.display="none",e.$5G(b.event,h))},c.onkeypress=function(b){var d=window.event?event.keyCode:b.keyCode;return 13===d?(this.onblur(),!1):(27===d&&(c.parentNode.removeChild(c),a.editing=!1),!0)},c.select(),c.focus()},this.$6a=function(){return"Resources"!==e.viewType&&(!e.columns||!e.$4u())},this.$4N=function(){e.$6a()?(this.$57=this.$6b(),this.$6c(this.$57)):(this.columns||(this.columns=[]),this.$6c(this.columns),this.$57=this.$6d(this.headerLevels,!0))},this.$6e=function(){var a=this.startDate.getDatePart(),b=this.days;switch(this.viewType){case"Day":b=1;break;case"Week":b=7,a=a.firstDayOfWeek(h.weekStarts());break;case"WorkWeek":b=5,a=a.firstDayOfWeek(1)}var c=a.addDays(b),d={};return d.start=a,d.end=c,d.days=b,d},this.$6b=function(){for(var a=[],b=this.$6e(),c=b.start,d=b.days,f=0;f<d;f++){var g={};g.start=c.addDays(f);var i=h.locale().datePattern;e.headerDateFormat&&(i=e.headerDateFormat),g.name=g.start.toString(i),g.html=g.name,a.push(g)}return a},this.$6f=function(a){a.Start&&(a.id=a.Value,a.start=a.Start,a.name=a.Name,a.html=a.InnerHTML,a.toolTip=a.ToolTip,a.backColor=a.BackColor,a.areas=a.Areas,a.children=a.Children,delete a.Value,delete a.Start,delete a.Name,delete a.InnerHTML,delete a.ToolTip,delete a.BackColor,delete a.Areas,delete a.Children),a.start=a.start||e.startDate,a.start=new DayPilot.Date(a.start),a.html=a.html||a.name,a.getChildren=function(a,b){var c=[];if(a<=1)return c.push(this),c;if(!this.children||0===this.children.length)return b?c.push(this):c.push("empty"),c;for(var d=0;d<this.children.length;d++)for(var e=this.children[d],f=e.getChildren(a-1,b),g=0;g<f.length;g++)c.push(f[g]);return c},a.getChildrenCount=function(a){var b=0;if(!this.children||this.children.length<=0||a<=1)return 1;for(var c=0;c<this.children.length;c++)b+=this.children[c].getChildrenCount(a-1);return b},a.putIntoBlock=function(a){for(var b=0;b<this.blocks.length;b++){var c=this.blocks[b];if(c.overlapsWith(a.part.top,a.part.height))return c.events.push(a),c.min=Math.min(c.min,a.part.top),c.max=Math.max(c.max,a.part.top+a.part.height),b}var c=[];return c.lines=[],c.events=[],c.overlapsWith=function(a,b){return!(a+b-1<this.min||a>this.max-1)},c.putIntoLine=function(a){for(var c=0;c<this.lines.length;c++){var d=this.lines[c];if(d.isFree(a.part.top,a.part.height))return d.push(a),c}var d=[];return d.isFree=function(a,b){for(var c=a+b-1,d=this.length,e=0;e<d;e++){var f=this[e];if(!(c<f.part.top||a>f.part.top+f.part.height-1))return!1}return!0},d.push(a),this.lines.push(d),this.lines.length-1},c.events.push(a),c.min=a.part.top,c.max=a.part.top+a.part.height,this.blocks.push(c),this.blocks.length-1},a.putIntoLine=function(a){for(var c=0;c<this.lines.length;c++){var d=this.lines[c];if(d.isFree(a.part.top,a.part.height))return d.push(a),c}var d=[];return d.isFree=function(a,b){for(var c=a+b-1,d=this.length,e=0;e<d;e++){var f=this[e];if(!(c<f.part.top||a>f.part.top+f.part.height-1))return!1}return!0},d.push(a),this.lines.push(d),this.lines.length-1},a.children&&this.$6c(a.children)},this.$6c=function(a){DayPilot.list(a).each(function(a){e.$6f(a)})},this.$6d=function(a,b){for(var c=this.$6a()?this.$57:this.columns,d=[],e=0;e<c.length;e++)for(var f=c[e].getChildren(a,b),g=0;g<f.length;g++)d.push(f[g]);return d},this.$52=function(){if(this.showAllDayEvents){var a=this.nav.header;if(a){a.style.display="none";for(var b=this.$57.length,c=0;c<this.$6g.lines.length;c++)for(var d=this.$6g.lines[c],f=0;f<d.length;f++){var g=d[f],i=document.createElement("div");i.event=g,i.setAttribute("unselectable","on"),i.style.position="absolute",e.rtl?i.style.right=100*g.part.colStart/b+"%":i.style.left=100*g.part.colStart/b+"%",i.style.width=100*g.part.colWidth/b+"%",i.style.height=h.allDayEventHeight()+"px",this.cssOnly?(i.className=this.$58("_alldayevent"),i.style.top=this.headerLevels*h.headerHeight()+c*h.allDayEventHeight()+"px"):i.style.top=3+this.headerLevels*h.headerHeight()+c*(h.allDayEventHeight()+2)+"px",i.style.textAlign="left",i.style.lineHeight="1.2",g.client.clickEnabled()&&(i.onclick=this.$5j),g.client.doubleClickEnabled()&&(i.ondblclick=this.$5n),g.client.clickEnabled()||g.client.doubleClickEnabled()?i.style.cursor="pointer":i.style.cursor="default",DayPilot.re(i,"contextmenu",this.$5o),i.onmousemove=function(a){var b=this;if(!b.active){var c=[];g.client.deleteEnabled()&&c.push({action:"JavaScript",v:"Hover",w:17,h:17,top:3,right:3,css:e.$58("_event_delete"),js:function(a){e.$5s(a)}});var d=b.event.cache?b.event.cache.areas:b.event.data.areas;d&&d.length>0&&(c=c.concat(d)),DayPilot.Areas.showAreas(b,b.event,null,c),e.cssOnly&&DayPilot.Util.addClass(b,e.$58("_alldayevent_hover"))}void 0!==DayPilotBubble&&e.bubble&&"Disabled"!==e.eventHoverHandling&&e.bubble.showEvent(this.event)},i.onmouseout=function(a){var b=this;e.cssOnly&&DayPilot.Util.removeClass(b,e.$58("_alldayevent_hover")),DayPilot.Areas.hideAreas(this,a),e.bubble&&e.bubble.hideOnMouseOut()},this.showToolTip&&!this.bubble&&i.setAttribute("title",g.client.toolTip());var j=g.start().getTime()===g.part.start.getTime(),k=g.end().getTime()===g.part.end.getTime(),l=g.data.backColor;if(this.cssOnly){var m=document.createElement("div");m.setAttribute("unselectable","on"),m.className=this.$58("_alldayevent_inner"),l&&(m.style.background=l),e.rtl?(j||DayPilot.Util.addClass(i,this.$58("_alldayevent_continueright")),k||DayPilot.Util.addClass(i,this.$58("_alldayevent_continueleft"))):(j||DayPilot.Util.addClass(i,this.$58("_alldayevent_continueleft")),k||DayPilot.Util.addClass(i,this.$58("_alldayevent_continueright"))),g.client.innerHTML()?m.innerHTML=g.client.innerHTML():m.innerHTML=g.text(),i.appendChild(m)}else{var m=document.createElement("div");m.setAttribute("unselectable","on"),m.style.marginLeft="2px",m.style.marginRight="3px",m.style.paddingLeft="2px",m.style.height=h.allDayEventHeight()-2+"px",m.style.border="1px solid "+this.allDayEventBorderColor,m.style.overflow="hidden",m.style.position="relative",m.style.backgroundColor=l,m.className=this.$58("alldayevent"),this.roundedCorners&&(m.style.MozBorderRadius="5px",m.style.webkitBorderRadius="5px",m.style.borderRadius="5px");var n=[],o=!0,p=this.showAllDayEventStartEnd,q=this.showAllDayEventStartEnd,r="Center",s=0;if(p&&("Left"===r?(n.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray;text-align:right;"),n.push("width:"),n.push(s-4),n.push("px;"),n.push("><span style='background-color:")):n.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray'><span style='background-color:"),n.push("transparent"),n.push("' unselectable='on'>"),j?g.start().getDatePart().getTime()!==g.start().getTime()&&n.push(DayPilot.DateUtil.hours(g.start(),"Clock12Hours"===this.$6h.timeFormat())):n.push("~"),n.push("</span></div></div>")),q&&(n.push("<div unselectable='on' style='position:absolute;text-align:right;height:1px;font-size:1px;width:100%'><div unselectable='on' style='margin-right:4px;font-size:8pt;color:gray'><span style='background-color:"),n.push("transparent"),n.push("' unselectable='on'>"),k?g.end().getDatePart().getTime()!==g.end().getTime()&&n.push(DayPilot.DateUtil.hours(g.end(),"Clock12Hours"===this.$6h.timeFormat())):n.push("~"),n.push("</span></div></div>")),"Left"===r){var t=p?s:0;n.push("<div style='margin-top:0px;height:"),n.push(h.allDayEventHeight()-2),n.push("px;"),n.push(";overflow:hidden;text-align:left;padding-left:"),n.push(t),n.push("px;font-size:"),n.push(this.allDayEventFontSize),n.push(";color:"),n.push(this.allDayEventFontColor),n.push(";font-family:"),n.push(this.eventFontFamily),n.push("' unselectable='on'>"),g.client.innerHTML()?n.push(g.client.innerHTML()):n.push(g.text()),n.push("</div>")}else"Center"===r&&(o?(n.push("<div style='position:absolute; text-align:center; width: 98%; height:1px;'>"),n.push("<span style='background-color:"),n.push("transparent"),n.push(";font-size:"),n.push(this.allDayEventFontSize),n.push(";color:"),n.push(this.allDayEventFontColor),n.push(";font-family:"),n.push(this.allDayEventFontFamily),n.push("' unselectable='on'>"),g.client.innerHTML()?n.push(g.client.innerHTML()):n.push(g.text()),n.push("</span>"),n.push("</div>")):(n.push("<div style='margin-top:0px;height:"),n.push(h.allDayEventHeight()-2),n.push("px;"),n.push(";overflow:hidden;text-align:center;font-size:"),n.push(this.allDayEventFontSize),n.push(";color:"),n.push(this.allDayEventFontColor),n.push(";font-family:"),n.push(this.allDayEventFontFamily),n.push("' unselectable='on'>"),g.client.innerHTML()?n.push(g.client.innerHTML()):n.push(g.text()),n.push("</div>")));m.innerHTML=n.join(""),i.appendChild(m)}if(e.$55()){if("function"==typeof e.onAfterEventRender){var u={};u.e=i.event,u.div=i,e.onAfterEventRender(u)}}else e.afterEventRender&&e.afterEventRender(i.event,i);this.nav.allday.appendChild(i),this.elements.events.push(i)}a.style.display=""}}},this.$4A=function(a){if(e.multiselect.$68(),this.elements.events)for(var b=0;b<this.elements.events.length;b++){var c=this.elements.events[b],d=c.event;if(!d||!a||d.allday()){if(d&&(d.div=null,d.root=null),c.onclick=null,c.onclickSave=null,c.ondblclick=null,c.oncontextmenu=null,c.onmouseover=null,c.onmouseout=null,c.onmousemove=null,c.onmousedown=null,c.firstChild&&c.firstChild.firstChild&&c.firstChild.firstChild.tagName&&"IMG"===c.firstChild.firstChild.tagName.toUpperCase()){var f=c.firstChild.firstChild;f.onmousedown=null,f.onmousemove=null,f.onclick=null}c.helper=null,c.event=null,DayPilot.de(c)}}this.elements.events=[]},this.$6i=function(a){var b=this.nav.events,c=this.roundedCorners,d=this.roundedCorners&&(this.$4p.ff||this.$4p.opera105||this.$4p.webkit522||!this.$4p.ielt9),g=(this.roundedCorners,a.cache||a.data),h=g.borderColor||this.eventBorderColor,i=document.createElement("div");i.setAttribute("unselectable","on"),i.style.MozUserSelect="none",i.style.KhtmlUserSelect="none",i.style.WebkitUserSelect="none",i.style.position="absolute",this.cssOnly?i.className=this.$58("_event"):(i.style.fontFamily=this.eventFontFamily,i.style.fontSize=this.eventFontSize,i.style.color=g.fontColor||this.eventFontColor,c||(i.style.backgroundColor=h)),i.style.left=a.part.left+"%",i.style.top=a.part.top-this.$5U()+"px",i.style.width=a.part.width+"%",i.style.height=Math.max(a.part.height,2)+"px",i.style.overflow="hidden",i.isFirst=a.part.start.getTime()===a.start().getTime(),i.isLast=a.part.end.getTime()===a.end().getTime(),a.client.clickEnabled()&&(i.onclick=this.$5j),a.client.doubleClickEnabled()&&(i.ondblclick=this.$5n),DayPilot.re(i,"contextmenu",this.$5o),i.onmousemove=this.$6j,i.onmouseout=this.$6k,i.onmousedown=this.$6l,DayPilot.re(i,DayPilot.touch.start,this.$6m.onEventTouchStart),DayPilot.re(i,DayPilot.touch.move,this.$6m.onEventTouchMove),DayPilot.re(i,DayPilot.touch.end,this.$6m.onEventTouchEnd);g.cssClass&&DayPilot.Util.addClass(i,g.cssClass),this.showToolTip&&!this.bubble&&i.setAttribute("title",a.client.toolTip());var k=document.createElement("div");if(k.setAttribute("unselectable","on"),k.className=e.$58("_event_inner"),k.innerHTML=a.client.innerHTML(),g.fontColor&&(k.style.color=g.fontColor),g.backColor&&(k.style.background=g.backColor,(DayPilot.browser.ie9||DayPilot.browser.ielt9)&&(k.style.filter="")),g.borderColor&&(k.style.borderColor=g.borderColor),g.backgroundImage&&(k.style.backgroundImage="url("+g.backgroundImage+")",g.backgroundRepeat&&(k.style.backgroundRepeat=g.backgroundRepeat)),i.appendChild(k),a.client.barVisible()){var l=a.part.height-2,m=100*a.part.barTop/l,n=Math.ceil(100*a.part.barHeight/l);"PercentComplete"===this.durationBarMode&&(m=0,n=g.complete);var o=document.createElement("div");o.setAttribute("unselectable","on"),o.className=this.$58("_event_bar"),o.style.position="absolute",g.barBackColor&&(o.style.backgroundColor=g.barBackColor);var p=document.createElement("div");p.setAttribute("unselectable","on"),p.className=this.$58("_event_bar_inner"),p.style.top=m+"%",p.style.height=0<n&&n<=1?"1px":n+"%",g.barColor&&(p.style.backgroundColor=g.barColor),o.appendChild(p),i.appendChild(o)}if(g.areas)for(var q=0;q<g.areas.length;q++){var r=g.areas[q],s=r.v||"Visible";if("Visible"===s){var t=DayPilot.Areas.createArea(i,a,r);i.appendChild(t)}}if(b.rows[0].cells[a.part.dayIndex]){if(b.rows[0].cells[a.part.dayIndex].events.appendChild(i),e.$6n(i),i.event=a,e.multiselect.$60(a)&&e.multiselect.add(i.event,!0),e.$55()){if("function"==typeof e.onAfterEventRender){var v={};v.e=i.event,v.div=i,e.onAfterEventRender(v)}}else e.afterEventRender&&e.afterEventRender(i.event,i)}e.elements.events.push(i)},this.$6n=function(a){for(var b=a&&a.childNodes?a.childNodes.length:0,c=0;c<b;c++)try{var d=a.childNodes[c];1===d.nodeType&&(d.setAttribute("unselectable","on"),this.$6n(d))}catch(a){}},this.$51=function(){for(var a=new Date,b=0;b<this.$57.length;b++){var c=this.$57[b];if(c.blocks)for(var d=0;d<c.blocks.length;d++)for(var e=c.blocks[d],f=0;f<e.lines.length;f++)for(var g=e.lines[f],h=0;h<g.length;h++){var i=g[h];if(i.part.width=100/e.lines.length,i.part.left=i.part.width*f,"Cascade"===this.eventArrangement){var j=f===e.lines.length-1;j||(i.part.width=1.5*i.part.width)}"Full"===this.eventArrangement&&(i.part.left=i.part.left/2,i.part.width=100-i.part.left),i.allday()||this.$6i(i)}}this.multiselect.redraw();var k=new Date;k.getTime(),a.getTime()},this.$6o=function(){this.multiselect.$5I=[];for(var a=0;a<this.$57.length;a++)for(var b=this.$57[a],c=0;c<b.lines.length;c++)for(var d=b.lines[c],e=0;e<d.length;e++){var f=d[e];f.part.width=100/b.lines.length,f.part.left=f.Width*c,f.allday()||this.$6i(f)}},this.$58=function(a){var b=this.theme||this.cssClassPrefix;return b?b+a:""},this.$50=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.$6p=function(){var a=this.$5f()+this.$6q();return e.debug.message("Getting totalHeight, headerHeight: "+this.$5f()+" scrollable: "+this.$6q()),a<0?0:a},this.$6r=function(){if(this.nav.top.dp=this,this.nav.top.innerHTML="",this.nav.top.style.MozUserSelect="none",this.nav.top.style.KhtmlUserSelect="none",this.nav.top.style.WebkitUserSelect="none",this.nav.top.style.WebkitTapHighlightColor="rgba(0,0,0,0)",this.nav.top.style.WebkitTouchCallout="none",this.nav.top.style.position="relative",this.width&&(this.nav.top.style.width=this.width),this.rtl&&(this.nav.top.style.direction="rtl"),this.cssOnly||(this.nav.top.style.lineHeight="1.2",this.nav.top.style.textAlign="left"),"Parent100Pct"===this.heightSpec?this.nav.top.style.height="100%":this.nav.top.style.height=this.$6p()+"px",this.hideUntilInit&&(this.nav.top.style.visibility="hidden"),this.visible||(this.nav.top.style.display="none"),this.nav.scroll=document.createElement("div"),this.nav.scroll.style.height=this.$6q()+"px",this.cssOnly&&DayPilot.Util.addClass(this.nav.top,this.$58("_main")),this.nav.scroll.style.position="relative",this.cssOnly||(this.nav.scroll.style.border="1px solid "+this.borderColor,this.nav.scroll.style.backgroundColor=this.hourNameBackColor),this.showHeader){var a=this.$6s();this.nav.top.appendChild(a)}this.nav.scroll.style.zoom=1,this.nav.scroll.setAttribute("data-id","nav.scroll"),this.nav.scroll.style.position="absolute",this.nav.scroll.style.left="0px",this.nav.scroll.style.right="0px",this.nav.scroll.style.top=this.$5f()+"px";var b=this.$6t();this.nav.scrollable=b.firstChild,this.nav.scroll.appendChild(b),this.nav.top.appendChild(this.nav.scroll),this.nav.vsph=document.createElement("div"),this.nav.vsph.style.display="none",this.nav.top.appendChild(this.nav.vsph),this.nav.scrollpos=document.createElement("input"),this.nav.scrollpos.type="hidden",this.nav.scrollpos.id=e.id+"_scrollpos",this.nav.scrollpos.name=this.nav.scrollpos.id,this.nav.top.appendChild(this.nav.scrollpos),this.nav.select=document.createElement("input"),this.nav.select.type="hidden",this.nav.select.id=e.id+"_select",this.nav.select.name=this.nav.select.id,this.nav.select.value=null,this.nav.top.appendChild(this.nav.select),this.nav.scrollLayer=document.createElement("div"),this.nav.scrollLayer.style.position="absolute",this.nav.scrollLayer.style.top="0px",this.nav.scrollLayer.style.left="0px",this.nav.top.appendChild(this.nav.scrollLayer),this.nav.scrollUp=[],this.nav.scrollDown=[],this.nav.loading=document.createElement("div"),this.nav.loading.style.position="absolute",this.nav.loading.style.top="0px",this.nav.loading.style.left=this.hourWidth+5+"px",this.nav.loading.style.backgroundColor=this.loadingLabelBackColor,this.nav.loading.style.fontSize=this.loadingLabelFontSize,this.nav.loading.style.fontFamily=this.loadingLabelFontFamily,this.nav.loading.style.color=this.loadingLabelFontColor,this.nav.loading.style.padding="2px",this.nav.loading.innerHTML=this.loadingLabelText,this.nav.loading.style.display="none",this.nav.top.appendChild(this.nav.loading)},this.$6u=function(){for(var a="Fixed"===this.columnWidthSpec,b=this.nav.header&&this.nav.header.rows[this.nav.header.rows.length-1],c=this.nav.events.rows[0],d=0;d<e.$57.length;d++){var f=b&&b.cells[d],g=c.cells[d],h=f&&f.firstChild,i=e.$57[d];if(a){var j=i.width?i.width:e.columnWidth;h&&(h.style.width=j+"px"),g&&(g.style.width=j+"px")}else h&&(h.style.width=null),g&&(g.style.width=null)}},this.$5g=function(){return this.$5Q?e.nav.bottomRight:e.nav.scroll},this.$6v=function(){var a="Fixed"===this.columnWidthSpec;if(!a){var b=e.$5g();"Fixed"===this.heightSpec?b.style.overflowY="scroll":"BusinessHours"===this.heightSpec&&this.$59()<=this.businessEndsHour-this.businessBeginsHour?b.style.overflow="hidden":"Full"!==this.heightSpec&&"BusinessHoursNoScroll"!==this.heightSpec?b.style.overflow="auto":b.style.overflow="hidden"}if(a){var c=0,d=this.$57.length*this.columnWidth;d>e.$5R().clientWidth&&(c=DayPilot.sw(e.nav.bottomRight)),e.nav.headerParent&&(e.nav.headerParent.style.width=d+c+"px"),e.nav.main.style.width=d+"px",e.nav.events.style.width=d+"px",e.nav.crosshair.style.width=d+"px"}else e.nav.headerParent&&(e.nav.headerParent.style.width="100%"),e.nav.main.style.width="100%",e.nav.events.style.width="100%",e.nav.crosshair.style.width="100%";this.$6u()},this.$4W=function(){this.$4l?this.$6w():DayPilot.pu(this.nav.hourTable),this.nav.hoursPlaceholder&&(this.nav.hoursPlaceholder.innerHTML="",this.nav.hourTable=this.$6x(),this.nav.hoursPlaceholder.appendChild(this.nav.hourTable))},this.$6w=function(){if(this.nav.hourTable)for(var a=0;a<this.nav.hourTable.rows.length;a++){var b=this.nav.hourTable.rows[a],c=b.cells[0].firstChild;c.data=null,c.onmousemove=null,c.onmouseout=null}},this.$6t=function(){var a=document.createElement("div");a.style.zoom=1,a.style.position="relative",a.onmousemove=this.$6y,DayPilot.re(a,DayPilot.touch.start,this.$6m.onMainTouchStart),DayPilot.re(a,DayPilot.touch.move,this.$6m.onMainTouchMove),DayPilot.re(a,DayPilot.touch.end,this.$6m.onMainTouchEnd),DayPilot.re(a,"contextmenu",function(a){var a=a||window.event;a.preventDefault?a.preventDefault():a.returnValue=!1}),navigator.msPointerEnabled&&(a.style.msTouchAction="none",a.style.touchAction="none"),a.daypilotMainD=!0,a.calendar=this;var b=null,c=null,d=null;if("Fixed"===this.columnWidthSpec||this.$5Q){if(this.showHours){var f=document.createElement("div");f.style.width=this.hourWidth+"px",f.style.height=this.$6q()+"px",f.style.overflow="hidden",f.style.position="relative",a.appendChild(f),b=f;var g=30,h=this.$5a()*this.cellHeight/(6e4*this.cellDuration)+g;d=document.createElement("div"),d.style.height=h+"px",f.appendChild(d)}var i=document.createElement("div");i.style.height=this.$6q()+"px",this.showHours&&(i.style.marginLeft=this.hourWidth+"px"),i.style.position="relative",i.style.overflow="auto",a.appendChild(i),c=i}else{var j=document.createElement("table");j.cellSpacing="0",j.cellPadding="0",j.border="0",j.style.border="0px none",j.style.width="100%",j.style.position="relative";var l,k=j.insertRow(-1);this.showHours&&(l=k.insertCell(-1),l.style.verticalAlign="top",l.style.padding="0px",l.style.border="0px none",d=l),l=k.insertCell(-1),l.width="100%",l.style.padding="0px",l.style.border="0px none",l.style.verticalAlign="top",this.cssOnly||(l.style.borderLeft="1px solid "+this.borderColor),c=l,a.appendChild(j)}if(d&&(this.nav.hourTable=this.$6x(),d.appendChild(this.nav.hourTable)),this.cssOnly||this.$4m){var m=document.createElement("div");m.style.height="0px",m.style.position="relative",m.appendChild(this.$6z());var n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.width="100%",n.style.height="0px",m.appendChild(n),this.nav.crosshair=n,m.appendChild(this.$6A()),c.appendChild(m)}else c.appendChild(this.$6z());return this.nav.zoom=a,this.nav.bottomLeft=b,this.nav.bottomRight=c,this.nav.hoursPlaceholder=d,a},this.$6z=function(){var a=document.createElement("table");return a.cellPadding="0",a.cellSpacing="0",a.border="0","Fixed"===this.columnWidthSpec||(a.style.width="100%"),a.style.border="0px none",this.cssOnly,a.style.tableLayout="fixed",this.nav.main=a,this.nav.events=a,a},this.$6B=function(){if("Fixed"===this.columnWidthSpec){for(var b=0,c=0;c<e.$57.length;c++){var d=e.$57[c];d.width?b+=d.width:b+=e.columnWidth}return b+"px"}return"100%"},this.$6A=function(){var a=document.createElement("table");a.style.position="absolute",a.style.top="0px",a.cellPadding="0",a.cellSpacing="0",a.border="0",a.style.width=e.$6B(),a.style.border="0px none",a.style.tableLayout="fixed",this.nav.events=a;for(var b=!0,c=this.$57,d=c.length,f=b?a.insertRow(-1):a.rows[0],g=0;g<d;g++){var h=b?f.insertCell(-1):f.cells[g];b&&(h.style.padding="0px",h.style.border="0px none",h.style.height="0px",h.style.overflow="visible",e.rtl||(h.style.textAlign="left"),e.$6C(h))}return a},this.$6x=function(){var a=document.createElement("table");a.cellSpacing="0",a.cellPadding="0",a.border="0",a.style.border="0px none",a.style.width=this.hourWidth+"px",a.oncontextmenu=function(){return!1},a.onmousemove=function(){e.$4H()};for(var b=this.$5a()/(60*this.timeHeaderCellDuration*1e3),c=0;c<b;c++)this.$6D(a,c);return a},this.$6E=function(){return(this.$5e()-this.$5e(!0))*(60/this.cellDuration)},this.$6F=function(){return this.$5e()-this.$5e(!0)},this.$5U=function(){return this.$6E()*this.cellHeight},this.$6D=function(a,b){var c=60*this.cellHeight/this.cellDuration/(60/this.timeHeaderCellDuration),d=a.insertRow(-1);d.style.height=c+"px";var f=d.insertCell(-1);f.valign="bottom",f.setAttribute("unselectable","on"),this.cssOnly||(f.className=this.$58("rowheader"),f.style.backgroundColor=this.hourNameBackColor,f.style.cursor="default"),f.style.padding="0px",f.style.border="0px none";var g=document.createElement("div");this.cssOnly&&(g.className=this.$58("_rowheader")),g.style.position="relative",g.style.width=this.hourWidth+"px",g.style.height=c+"px",g.style.overflow="hidden",g.setAttribute("unselectable","on");var h=document.createElement("div");this.cssOnly&&(h.className=this.$58("_rowheader_inner")),h.setAttribute("unselectable","on"),this.cssOnly||(h.style.borderBottom="1px solid "+this.hourNameBorderColor,h.style.textAlign="right",h.style.height=c-1+"px");var i=null,j=null;if(this.hours){var k=b+this.$6F();j=this.hours[k],i=j.html}var l=this.timeHeaderCellDuration,m=this.startDate.addMinutes(l*b+60*this.$5e()),n=m.getHours();if(!i){var o=document.createElement("div");o.setAttribute("unselectable","on"),this.cssOnly||(o.style.padding="2px",o.style.fontFamily=this.hourFontFamily,o.style.fontSize=this.hourFontSize,o.style.color=this.hourFontColor);var p=n<12;"Clock12Hours"===this.$6h.timeFormat()&&0===(n%=12)&&(n=12),60!==this.timeHeaderCellDuration&&(n+=":"+m.toString("mm")),o.innerHTML=n;var q=document.createElement("span");q.setAttribute("unselectable","on"),this.cssOnly?q.className=this.$58("_rowheader_minutes"):(q.style.fontSize="10px",q.style.verticalAlign="super");var r;r="Clock12Hours"===this.$6h.timeFormat()?p?"AM":"PM":"00",this.cssOnly?q.innerHTML=r:q.innerHTML="&nbsp;"+r,o.appendChild(q),i=o.outerHTML}if("function"==typeof e.onBeforeTimeHeaderRender){var s={};s.header={},s.header.hours=n,s.header.minutes=m.getMinutes(),s.header.start=m.toString("HH:mm"),s.header.html=i,s.header.areas=j?j.areas:null,e.onBeforeTimeHeaderRender(s),null!==s.header.html&&(i=s.header.html),j=s.header}j&&(g.data=j,g.onmousemove=e.$6G,g.onmouseout=e.$6H),h.innerHTML=i,g.appendChild(h),f.appendChild(g)},this.$6G=function(a){e.$4H();var b=this;b.active||DayPilot.Areas.showAreas(b,b.data)},this.$6H=function(a){DayPilot.Areas.hideAreas(this,a)},this.$6q=function(){switch(this.heightSpec){case"Fixed":case"Parent100Pct":return this.height;case"Full":return this.$5a()*this.cellHeight/(6e4*this.cellDuration);case"BusinessHours":case"BusinessHoursNoScroll":return this.$5b()*this.cellHeight*60/this.cellDuration;default:throw"DayPilot.Calendar: Unexpected 'heightSpec' value."}},this.$5f=function(){if(!this.showHeader)return 0;var a=this.headerLevels*h.headerHeight();return this.showAllDayEvents&&h.allDayHeaderHeight()?a+h.allDayHeaderHeight():a},this.$4S=function(){if(this.headerHeightAutoFit){for(var a=0,b=0;b<this.nav.header.rows.length;b++)for(var c=this.nav.header.rows[b],d=0;d<c.cells.length;d++){var e=c.cells[d],f=e.firstChild,g=f.firstChild,h=f.style.height;f.style.height="auto",g.style.position="static";var i=f.offsetHeight;f.style.height=h,g.style.position="",a=Math.max(a,i)}a>this.headerHeight&&(this.$4k.headerHeight=a,this.$4Q(),this.$4R())}},this.$5Q=!0,this.$6I=function(){var a=this.$5Q?e.nav.bottomRight:e.nav.scroll;return this.cssOnly?DayPilot.sw(a)>0:DayPilot.sw(a)>2},this.$6s=function(){var a=document.createElement("div");this.cssOnly||(a.style.borderLeft="1px solid "+this.borderColor,a.style.borderRight="1px solid "+this.borderColor);var b="Fixed"===this.columnWidthSpec;b||(a.style.overflow="auto"),a.style.position="absolute",a.style.left="0px",a.style.right="0px";var c=document.createElement("div");c.style.position="relative",c.style.zoom="1";var d=null,b="Fixed"===this.columnWidthSpec;if(b||this.$5Q){var e=document.createElement("div");if(e.style.width=this.hourWidth+"px",this.showHours){var f=this.$6J();this.nav.corner=f,e.appendChild(f),c.appendChild(e),this.nav.upperLeft=e}var g=document.createElement("div");this.showHours&&(g.style.marginLeft=this.hourWidth+"px"),g.style.position="relative",g.style.overflow="hidden",g.style.height=this.$5f()+"px",c.appendChild(g),this.nav.upperRight=g,d=document.createElement("div"),d.style.position="relative",g.appendChild(d)}else{var h=document.createElement("table");h.cellPadding="0",h.cellSpacing="0",h.border="0",h.style.width="100%",h.style.borderCollapse="separate",h.style.border="0px none";var i=h.insertRow(-1);if(this.nav.fullHeader=h,this.showHours){var j=i.insertCell(-1);j.style.padding="0px",j.style.border="0px none";var f=this.$6J();j.appendChild(f),this.nav.corner=f}j=i.insertCell(-1),j.style.width="100%",this.cssOnly||(j.style.backgroundColor=this.hourNameBackColor),j.valign="top",j.style.position="relative",j.style.padding="0px",j.style.border="0px none",d=document.createElement("div"),d.style.position="relative",d.style.height=this.$5f()+"px",d.style.overflow="hidden",j.appendChild(d),this.nav.mid=d,c.appendChild(h)}this.nav.headerParent=d,this.$6K();var k=this.$6I(),b="Fixed"===this.columnWidthSpec;return k&&!b&&this.$6L(),a.appendChild(c),a},this.$6K=function(){this.nav.unifiedCornerRight=null,this.nav.header=document.createElement("table"),this.nav.header.cellPadding="0",this.nav.header.cellSpacing="0";var a="Fixed"===this.columnWidthSpec;a||(this.nav.header.width="100%"),this.nav.header.style.tableLayout="fixed",this.cssOnly||(this.nav.header.style.borderBottom="0px none #000000",this.nav.header.style.borderLeft="1px solid "+this.borderColor,this.nav.header.style.borderTop="1px solid "+this.borderColor),this.nav.header.oncontextmenu=function(){return!1};var b=this.$6I();if(this.cssOnly||b&&(this.nav.header.style.borderRight="1px solid "+this.borderColor),this.nav.headerParent.appendChild(this.nav.header),this.nav.allday&&DayPilot.de(this.nav.allday),this.showAllDayEvents){var c=document.createElement("div");c.style.position="absolute",c.style.top="0px",c.style.height="0px";var a="Fixed"===this.columnWidthSpec;a?c.style.width=this.$57.length*this.columnWidth+"px":(c.style.left="0px",c.style.right="0px"),this.nav.allday=c,this.nav.headerParent.appendChild(c)}},this.$6L=function(){if(this.nav.fullHeader){var a=this.nav.fullHeader.rows[0],b=a.insertCell(-1);this.cssOnly||(b.className=this.$58("cornerright"),b.style.backgroundColor=this.hourNameBackColor,b.style.borderBottom="0px none",b.style.borderLeft="1px solid "+this.borderColor,b.style.borderRight="0px none"),b.style.padding="0px",b.style.verticalAlign="top",b.setAttribute("unselectable","on");var c=document.createElement("div");c.setAttribute("unselectable","on"),this.cssOnly&&(c.className=this.$58("_cornerright")),c.style.overflow="hidden",c.style.position="relative",c.style.width="16px",c.style.height=this.$5f()+"px";var d=document.createElement("div");this.cssOnly?d.className=this.$58("_cornerright_inner"):d.style.borderTop="1px solid "+this.borderColor,c.appendChild(d),b.appendChild(c),this.nav.cornerRight=c}},this.$6J=function(){var a=document.createElement("div");a.style.position="relative",this.cssOnly?a.className=this.$58("_corner"):(a.style.backgroundColor=this.cornerBackColor,a.style.fontFamily=this.headerFontFamily,a.style.fontSize=this.headerFontSize,a.style.color=this.headerFontColor,a.className=this.$58("corner")),a.style.width=this.hourWidth+"px",a.style.height=this.$5f()+"px",a.style.overflow="hidden",a.oncontextmenu=function(){return!1};var b=document.createElement("div");this.cssOnly?b.className=this.$58("_corner_inner"):b.style.borderTop="1px solid "+this.borderColor,b.setAttribute("unselectable","on");var c=this.cornerHTML||this.cornerHtml;if(b.innerHTML=c||"",a.appendChild(b),!this.numberFormat)return a;var d=document.createElement("div");return d.style.position="absolute",d.style.padding="2px",d.style.top="0px",d.style.left="1px",d.style.backgroundColor="#FF6600",d.style.color="white",d.innerHTML="DEMO",d.setAttribute("unselectable","on"),a.appendChild(d),a},this.$4B=function(){var a=this.nav.main;a.root=null,a.onmouseup=null;for(var b=0;b<a.rows.length;b++)for(var c=a.rows[b],d=0;d<c.cells.length;d++){var e=c.cells[d];e.root=null,e.onmousedown=null,e.onmousemove=null,e.onmouseout=null,e.onmouseup=null,e.onclick=null,e.ondblclick=null,e.oncontextmenu=null}this.$4l||DayPilot.pu(a)},this.$4T=function(){for(var a=0;this.nav.scrollUp&&a<this.nav.scrollUp.length;a++)this.nav.scrollLayer.removeChild(this.nav.scrollUp[a]);for(var a=0;this.nav.scrollDown&&a<this.nav.scrollDown.length;a++)this.nav.scrollLayer.removeChild(this.nav.scrollDown[a]);this.nav.scrollUp=[],this.nav.scrollDown=[]},this.$6C=function(a){var b=document.createElement("div");b.style.marginRight=e.columnMarginRight+"px",b.style.position="relative",b.style.height="1px",this.cssOnly||(b.style.fontSize="1px",b.style.lineHeight="1.2"),b.style.marginTop="-1px",a.events=b;var c=document.createElement("div");c.style.position="relative",b.style.height="1px",b.style.marginTop="-1px",a.separators=c,a.appendChild(c),a.appendChild(b)},this.$4V=function(){var b=this.nav.main,c=60*this.cellDuration*1e3,d=this.$5i(),f=this.$6F()*(60/this.cellDuration),g=e.$57,h=!0,i=0;if(b&&(i=e.$5R().scrollTop,this.$4B(),e.$4p.ielt9&&h)){DayPilot.de(this.nav.scrollable.parentNode);var j=this.$6t();this.nav.scrollable=j.firstChild,this.nav.scroll.appendChild(j),b=this.nav.main}for(this.nav.scrollable.daypilotMainD=!0,this.nav.scrollable.calendar=this;b&&b.rows&&b.rows.length>0&&h;)this.$4l||DayPilot.pu(b.rows[0]),b.deleteRow(0);if(this.$6M=!0,this.scrollLabelsVisible)for(var g=this.$57,k=this.showHours?this.hourWidth:0,l=(this.nav.scroll.clientWidth-k)/g.length,m=0;m<g.length;m++){var n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left=k+2+m*l+l/2+"px",n.style.display="none";var o=document.createElement("div");o.style.height="10px",o.style.width="10px",this.cssOnly?o.className=this.$58("_scroll_up"):(o.style.backgroundRepeat="no-repeat",this.scrollUpUrl&&(o.style.backgroundImage="url('"+this.scrollUpUrl+"')"),o.className=this.$58("scroll_up")),n.appendChild(o),this.nav.scrollLayer.appendChild(n),this.nav.scrollUp.push(n);var p=document.createElement("div");p.style.position="absolute",p.style.top="0px",p.style.left=k+2+m*l+l/2+"px",p.style.display="none";var o=document.createElement("div");o.style.height="10px",o.style.width="10px",this.cssOnly?o.className=this.$58("_scroll_down"):(o.style.backgroundRepeat="no-repeat",this.scrollDownUrl&&(o.style.backgroundImage="url('"+this.scrollDownUrl+"')"),o.className=this.$58("scroll_down")),p.appendChild(o),this.nav.scrollLayer.appendChild(p),this.nav.scrollDown.push(p)}var q=g.length;if(this.cssOnly||this.$4m){for(var r=this.nav.events;r&&r.rows&&r.rows.length>0&&h;)this.$4l||DayPilot.pu(r.rows[0]),r.deleteRow(0);for(var s=h?r.insertRow(-1):r.rows[0],t=0;t<q;t++){var u=h?s.insertCell(-1):s.cells[t];if(h){u.style.padding="0px",u.style.border="0px none",u.style.height="1px",u.style.overflow="visible";var v="Fixed"===this.columnWidthSpec;v&&(g[t].width?u.style.width=g[t].width+"px":u.style.width=this.columnWidth+"px"),e.rtl||(u.style.textAlign="left"),e.$6C(u)}}}for(var m=0;m<d;m++){var s=h?b.insertRow(-1):b.rows[m],w=m+f;h&&(s.style.MozUserSelect="none",s.style.KhtmlUserSelect="none",s.style.WebkitUserSelect="none");for(var t=0;t<q;t++){var x=this.$57[t],u=h?s.insertCell(-1):s.cells[t];if(u.start=x.start.addTime(w*c).addHours(this.$5e()),u.end=u.start.addTime(c),u.resource=x.id,"function"==typeof this.onBeforeCellRender){this.cellProperties||(this.cellProperties={});var y={};y.resource=u.resource,y.start=u.start,y.end=u.end;var z=t+"_"+w;y.cssClass=null,y.html=null,y.backImage=null,y.backRepeat=null,y.backColor=null,y.business=this.$6N(u.start,u.end),this.cellProperties[z]&&DayPilot.Util.copyProps(this.cellProperties[z],y,["cssClass","html","backImage","backRepeat","backColor","business"]);var A={};A.cell=y,this.onBeforeCellRender(A),this.cellProperties[z]=y}var B=e.$6O(t,w);if(h)if(u.root=this,u.style.padding="0px",u.style.border="0px none",u.style.verticalAlign="top",u.style.height=e.cellHeight+"px",u.style.overflow="hidden",u.setAttribute("unselectable","on"),this.cssOnly){var C=document.createElement("div");C.className=e.$58("_cell"),C.style.position="relative",C.style.height=e.cellHeight+"px",C.style.overflow="hidden",C.setAttribute("unselectable","on");var F=document.createElement("div");F.className=e.$58("_cell_inner"),C.appendChild(F),u.appendChild(C)}else{var C=document.createElement("div");C.style.height=e.cellHeight-1+"px",C.style.width="100%",C.style.overflow="hidden",C.setAttribute("unselectable","on"),u.appendChild(C);var D=document.createElement("div");D.setAttribute("unselectable","on"),D.style.fontSize="1px",D.style.height="0px",u.appendChild(D),(!e.rtl&&t!==q-1||e.rtl)&&(u.style.borderRight="1px solid "+e.cellBorderColor);var E=u.end.getMinutes()+u.end.getSeconds()+u.end.getMilliseconds()>0;E?(""!==e.hourHalfBorderColor&&(D.style.borderBottom="1px solid "+e.hourHalfBorderColor),D.className=e.$58("hourhalfcellborder")):(""!==e.hourBorderColor&&(D.style.borderBottom="1px solid "+e.hourBorderColor),D.className=e.$58("hourcellborder"))}else C=u.firstChild,C.className=e.$58("_cell");u.onmousedown=this.$5K,u.onmousemove=this.$5N,u.onmouseout=this.$5M,DayPilot.re(u,DayPilot.touch.end,this.$6m.onCellTouchEnd),u.onmouseup=function(){return!1},u.onclick=function(){return!1},u.ondblclick=function(){if(a.firstMousePos=null,e.$5L(),clearTimeout(a.selectedTimeout),"Disabled"!==e.timeRangeDoubleClickHandling){var b=e.getSelection();e.$5F(b.start,b.end,b.resource)}},u.oncontextmenu=function(){if(this.selected||(e.clearSelection(),a.column=a.getColumn(this),e.selectedCells.push(this),a.firstSelected=this,a.topSelectedCell=this,a.bottomSelectedCell=this,e.$5L()),"Disabled"===e.timeRangeRightClickHandling)return!1;var b=e.getSelection(),c={};return c.start=b.start,c.end=b.end,c.resource=b.resource,c.preventDefault=function(){this.preventDefault.value=!0},("function"!=typeof e.onTimeRangeRightClick||(e.onTimeRangeRightClick(c),!c.preventDefault.value))&&("ContextMenu"===e.timeRangeRightClickHandling&&e.contextMenuSelection&&e.contextMenuSelection.show(e.getSelection()),"function"==typeof e.onTimeRangeRightClicked&&e.onTimeRangeRightClicked(c),!1)};var G=e.$6P(t,w);C=u.firstChild;var v="Fixed"===this.columnWidthSpec;v&&(x.width?C.style.width=x.width+"px":C.style.width=this.columnWidth+"px"),G&&(this.cssOnly?C.firstChild.style.background=G:C.style.background=G);(B?B.business:this.$6N(u.start,u.end))&&this.cssOnly&&DayPilot.Util.addClass(C,e.$58("_cell_business"));var I=this.cssOnly?C.firstChild:C;I&&(I.innerHTML=""),C.style.backgroundImage="",C.style.backgroundRepeat="",B&&(B.html&&(I.innerHTML=B.html),B.cssClass&&(this.cssOnly?DayPilot.Util.addClass(C,B.cssClass):DayPilot.Util.addClass(u,e.$58(B.cssClass))),B.backImage&&(C.style.backgroundImage="url('"+B.backImage+"')"),B.backRepeat&&(C.style.backgroundRepeat=B.backRepeat)),this.cssOnly||DayPilot.Util.addClass(u,e.$58("cellbackground"))}}b.onmouseup=this.$5O,b.root=this,e.nav.scrollable.style.display="",e.$5R().scrollTop=i},this.$6N=function(a,b){return this.businessBeginsHour<this.businessEndsHour?!(a.getHours()<this.businessBeginsHour||a.getHours()>=this.businessEndsHour||6===a.getDayOfWeek()||0===a.getDayOfWeek()):a.getHours()>=this.businessBeginsHour||a.getHours()<this.businessEndsHour},this.$6y=function(b){b=b||window.event,b.insideMainD=!0,window.event&&(window.event.srcElement.inside=!0),a.activeCalendar=this;var c=e.nav.main;e.coords=DayPilot.mo3(c,b);var d=DayPilot.mc(b),f=e.crosshairType&&"Disabled"!==e.crosshairType,g=e.coords.x<e.hourWidth;if(DayPilot.Global.moving||DayPilot.Global.resizing||a.selecting||g?e.$4H():f&&e.$6Q(),DayPilot.Global.resizing)e.$6R(d);else if(DayPilot.Global.moving){if(!DayPilot.Global.moving.helper)return void(a.movingShadow=null);if(!a.movingShadow){var h=3;if(!(DayPilot.distance(d,a.originalMouse)>h))return;a.movingShadow=e.$56(DayPilot.Global.moving,!e.$4p.ie,e.shadow),a.movingShadow.style.width=a.movingShadow.parentNode.offsetWidth+1+"px"}if(!e.coords)return;var i=e.cellHeight,j=0,k=a.moveOffsetY;k||(k=i/2),"Top"===this.moveBy&&(k=0);var l=Math.floor((e.coords.y-k-j+i/2)/i)*i+j;l<j&&(l=j);var m=e.nav.main,n=m.clientHeight,o=parseInt(a.movingShadow.style.height);l+o>n&&(l=n-o),a.movingShadow.style.top=l+"px";var p=m.clientWidth/m.rows[0].cells.length,q=Math.floor(e.coords.x/p);q<0&&(q=0),e.rtl&&(q=e.$57.length-q-1);var r=e.nav.events;q<r.rows[0].cells.length&&q>=0&&a.movingShadow.column!==q&&(a.movingShadow.column=q,a.moveShadow(r.rows[0].cells[q]))}if(a.drag){if(a.gShadow&&document.body.removeChild(a.gShadow),a.gShadow=null,!a.movingShadow&&e.coords){var s=e.$56(a.drag,!1,a.drag.shadowType);if(s){a.movingShadow=s;var t=DayPilot.Date.today(),b={value:a.drag.id,start:t,end:t.addSeconds(a.drag.duration),text:a.drag.text},u=new DayPilot.Event(b,e);u.external=!0,DayPilot.Global.moving={},DayPilot.Global.moving.event=u,DayPilot.Global.moving.helper={}}}b.cancelBubble=!0}},this.$6R=function(b){if(!DayPilot.Global.resizing.event)return DayPilot.Global.resizing=null,DayPilot.de(a.resizingShadow),void(a.resizingShadow=null);a.resizingShadow||(a.resizingShadow=e.$56(DayPilot.Global.resizing,!1,e.shadow));var c=DayPilot.Global.resizing.event.calendar.cellHeight,d=0,f=b.y-a.originalMouse.y;if(console.log(DayPilot.Global.resizing.dpBorder),"bottom"===DayPilot.Global.resizing.dpBorder){var g=Math.floor((a.originalHeight+a.originalTop+f+c/2)/c)*c-a.originalTop+d;g<c&&(g=c);var h=DayPilot.Global.resizing.event.calendar.nav.main.clientHeight;a.originalTop+g>h&&(g=h-a.originalTop),a.resizingShadow.style.height=g+"px"}else if("top"===DayPilot.Global.resizing.dpBorder){var i=Math.floor((a.originalTop+f-d+c/2)/c)*c+d;i<d&&(i=d),i>a.originalTop+a.originalHeight-c&&(i=a.originalTop+a.originalHeight-c);var g=a.originalHeight-(i-a.originalTop);g<c?g=c:a.resizingShadow.style.top=i+"px",a.resizingShadow.style.height=g+"px"}},this.$6S={};var f=this.$6S;f.getWidth=function(){return e.nav.top.offsetWidth},f.getHeight=function(){return e.nav.top.offsetHeight-DayPilot.sh(e.nav.scroll)-1},f.download=function(a){var b=f.canvas(),a=a||"image.png";if(window.navigator.msSaveBlob){var c=b.msToBlob();window.navigator.msSaveBlob(c,a)}else{var d=document.createElement("a");d.download=a,d.href=b.toDataURL(),d.click()}},f.getCanvas=function(){return f.canvas()},f.getRectangles=function(){var a=e.showHours?e.hourWidth:0,b=e.$5f(),c={};return c.main={x:0,y:0,w:f.getWidth(),h:f.getHeight()},c.corner={x:0,y:0,w:a,h:b},c.grid={x:a,y:b,w:f.getWidth()-a,h:f.getHeight()-b},c},f.fakeDurationBar=function(){var a=document.createElement("div");a.style.display="none",a.className=e.$58("_event");var b=document.createElement("div");b.className=e.$58("_event_bar");var c=document.createElement("div");return c.className=e.$58("_event_bar_inner"),document.body.appendChild(a),b.appendChild(c),a.appendChild(b),a},f.fakeCell=function(){var a=document.createElement("div");a.style.display="none",a.className=e.$58("_cell");var b=document.createElement("div");return b.className=e.$58("_cell_inner"),document.body.appendChild(a),a.appendChild(b),a},f.extractUrl=function(a){return/url\((.*)\)/.exec(a)[1]},f.getImages=function(){var a={},b=f.fakeExpand();return a.expand=f.extractUrl(new DayPilot.StyleReader(b).get("background-image")),b.className=e.$58("_tree_image_collapse"),a.collapse=f.extractUrl(new DayPilot.StyleReader(b).get("background-image")),b.className=e.$58("_tree_image_no_children"),a.nochildren=f.extractUrl(new DayPilot.StyleReader(b).get("background-image")),DayPilot.de(b),a},f.canvas=function(){var a=f.getRectangles(),b=new DayPilot.Canvas(a.main.w,a.main.h);console.log(a);var c=new DayPilot.StyleReader(e.nav.top).get("border-color"),d=new DayPilot.StyleReader(e.nav.header.rows[0].cells[0].firstChild.firstChild).get("border-bottom-color");return b.rect(a.main,c),b.line(a.grid.x,0,a.grid.x,a.main.h,d),b.line(0,a.grid.y,a.main.w,a.grid.y,d),b.getCanvasElement()},this.temp={},this.temp.getPosition=function(){var a=e.$6T.getCellCoords();if(!a)return null;var b=e.$57[a.x],c={};return c.resource=b.id,c.start=new DayPilot.Date(b.start).addHours(e.$5e(!0)).addMinutes(a.y*e.cellDuration),c.end=c.start.addMinutes(e.cellDuration),c},this.temp.img=e.$6S,this.$6T={},this.$6T.getCellCoords=function(){var a={};if(a.x=0,a.y=0,!e.coords)return null;for(var b=e.nav.main,c=e.coords.x,d=0,f=this.col(b,d);f&&c>f.left;)d+=1,f=this.col(b,d);a.x=d-1;var g=0,h=Math.floor((e.coords.y-g)/e.cellHeight);return a.y=h,a.x<0?null:a},this.$6T.col=function(a,b){var c={};if(c.left=0,c.width=0,!a)return null;if(!a.rows)return null;if(0===a.rows.length)return null;if(0==a.rows[0].cells.length)return null;var d=a.rows[0].cells[b];if(!d)return null;var e=DayPilot.abs(a),f=DayPilot.abs(d);return c.left=f.x-e.x,c.width=d.offsetWidth,c},this.$6Q=function(){this.$4H(),this.elements.crosshair||(this.elements.crosshair=[]);var a=this.$6T.getCellCoords();if(a){var b=a.x,c=Math.floor(a.y/(60/e.cellDuration)*(60/e.timeHeaderCellDuration));if(!(c<0)){if(this.nav.hourTable){if(c>=this.nav.hourTable.rows.length)return;var d=document.createElement("div");d.style.position="absolute",d.style.left="0px",d.style.right="0px",d.style.top="0px",d.style.bottom="0px",d.style.opacity=.5,d.style.backgroundColor=this.crosshairColor,d.style.opacity=this.crosshairOpacity/100,d.style.filter="alpha(opacity="+this.crosshairOpacity+")",this.nav.hourTable.rows[c].cells[0].firstChild.appendChild(d),this.elements.crosshair.push(d)}if(this.nav.header){var f=document.createElement("div");f.style.position="absolute",f.style.left="0px",f.style.right="0px",f.style.top="0px",f.style.bottom="0px",f.style.opacity=.5,f.style.backgroundColor=this.crosshairColor,f.style.opacity=this.crosshairOpacity/100,f.style.filter="alpha(opacity="+this.crosshairOpacity+")";var g=this.nav.header.rows[this.headerLevels-1];g.cells[b]&&(g.cells[b].firstChild.appendChild(f),this.elements.crosshair.push(f))}if("Header"!==this.crosshairType){var h=this.nav.crosshair,i=0,j=Math.floor((e.coords.y-i)/e.cellHeight)*e.cellHeight+i,k=e.cellHeight,l=document.createElement("div");l.style.position="absolute",l.style.left="0px",l.style.right="0px",l.style.top=j+"px",l.style.height=k+"px",l.style.backgroundColor=this.crosshairColor,l.style.opacity=this.crosshairOpacity/100,l.style.filter="alpha(opacity="+this.crosshairOpacity+")",l.onmousedown=this.$6U,h.appendChild(l),this.elements.crosshair.push(l);var m=this.$6T.col(this.nav.main,b);if(k=this.nav.main.clientHeight,m){var n=document.createElement("div");n.style.position="absolute",n.style.left=m.left+"px",n.style.width=m.width+"px",n.style.top="0px",n.style.height=k+"px",n.style.backgroundColor=this.crosshairColor,n.style.opacity=this.crosshairOpacity/100,n.style.filter="alpha(opacity="+this.crosshairOpacity+")",n.onmousedown=this.$6U,h.appendChild(n),this.elements.crosshair.push(n)}}}}},this.$6U=function(a){e.$4H();var b=e.$6T.getCellCoords(),c=0,d=e.nav.main.rows[b.y+c].cells[b.x];e.$5K.apply(d,[a])},this.$4H=function(){if(this.elements.crosshair&&0!==this.elements.crosshair.length){for(var a=0;a<this.elements.crosshair.length;a++){var b=this.elements.crosshair[a];b&&b.parentNode&&b.parentNode.removeChild(b)}this.elements.crosshair=[]}},this.$4O=function(){if(this.cellConfig){var a=this.cellConfig;if(a.vertical)for(var b=0;b<a.x;b++)for(var c=this.cellProperties[b+"_0"],d=1;d<a.y;d++)this.cellProperties[b+"_"+d]=c;if(a.horizontal)for(var d=0;d<a.y;d++)for(var c=this.cellProperties["0_"+d],b=1;b<a.x;b++)this.cellProperties[b+"_"+d]=c;if(a.default)for(var c=a.default,d=0;d<a.y;d++)for(var b=0;b<a.x;b++)this.cellProperties[b+"_"+d]||(this.cellProperties[b+"_"+d]=c)}},this.$6O=function(a,b){return this.cellProperties?this.cellProperties[a+"_"+b]:null},this.$6V=function(a,b){var c=a+"_"+b;return!(!this.cellProperties||!this.cellProperties[c])&&this.cellProperties[c].business},this.$6P=function(a,b){var c=a+"_"+b;return this.cellProperties&&this.cellProperties[c]?this.cellProperties[c].backColor:null},this.$4C=function(){var a=this.nav.header;if(a&&a.rows)for(var b=0;b<a.rows.length;b++)for(var c=a.rows[b],d=0;d<c.cells.length;d++){var e=c.cells[d];e.onclick=null,e.onmousemove=null,e.onmouseout=null}this.$4l||DayPilot.pu(a)},this.$6W=function(a,b){for(var c=b?this.nav.header.insertRow(-1):this.nav.header.rows[a-1],d=this.$6d(a),f=d.length,g=a===e.headerLevels,i=0;i<f;i++){var j=d[i];if(e.$55()&&"function"==typeof e.onBeforeHeaderRender){var k={};k.header={},DayPilot.Util.copyProps(j,k.header,["id","start","name","html","backColor","toolTip","areas","children"]),this.onBeforeHeaderRender(k),DayPilot.Util.copyProps(k.header,j,["html","backColor","toolTip","areas"])}var l=!!j.getChildren,m=b?c.insertCell(-1):c.cells[i];if(m.data=j,g);else{var n=1;l&&(n=j.getChildrenCount(e.headerLevels-a+1)),m.colSpan=n}l&&(m.onclick=this.$5p,m.onmousemove=this.$5q,m.onmouseout=this.$5r,j.toolTip&&(m.title=j.toolTip)),m.style.overflow="hidden",m.style.padding="0px",m.style.border="0px none",m.style.height=h.headerHeight()+"px",this.cssOnly||(m.style.borderLeft="0px none",i!==f-1&&(m.style.borderRight="1px solid "+this.borderColor));var o=b?document.createElement("div"):m.firstChild;if(b){if(o.setAttribute("unselectable","on"),o.style.MozUserSelect="none",o.style.KhtmlUserSelect="none",o.style.WebkitUserSelect="none",o.style.position="relative",o.style.height=h.headerHeight()+"px",this.cssOnly){o.className=e.$58("_colheader");var q=document.createElement("div");q.className=e.$58("_colheader_inner"),j.backColor&&(q.style.background=j.backColor),o.appendChild(q)}else{o.className=e.$58("colheader"),o.style.cursor="default",o.style.fontFamily=this.headerFontFamily,o.style.fontSize=this.headerFontSize,o.style.color=this.headerFontColor,o.style.backgroundColor=j.backColor,o.style.textAlign="center";var p=document.createElement("div");p.style.position="absolute",p.style.left="0px",p.style.right="0px",p.style.top="0px",p.style.bottom="0px",p.style.padding="2px",p.setAttribute("unselectable","on"),1!==a&&(p.style.borderTop="1px solid "+this.borderColor),"Disabled"!==this.headerClickHandling&&(p.style.cursor="pointer"),o.appendChild(p)}m.appendChild(o)}else o.style.height=h.headerHeight()+"px";this.$6X(o,j),l&&(o.firstChild.innerHTML=j.html)}},this.$6X=function(b,c){for(var d=[],e=0;e<b.childNodes.length;e++){var f=b.childNodes[e];f.isActiveArea&&d.push(f)}for(var e=0;e<d.length;e++){var f=d[e];DayPilot.de(f)}if(c.areas)for(var g=c.areas,e=0;e<g.length;e++){var h=g[e];if("Visible"===h.v){var i=new a.Column(c.id,c.name,c.start),j=DayPilot.Areas.createArea(b,i,h);b.appendChild(j)}}},this.$4R=function(){if(this.showHeader){var a=this.nav.header,b=!0,c=this.$6d(e.headerLevels,!0),d=c.length;for(this.$6Y&&e.$4p.ielt9&&b&&(DayPilot.de(this.nav.header),this.$6K());this.$6Y&&a&&a.rows&&a.rows.length>0&&b;)this.$4l||DayPilot.pu(a.rows[0]),a.deleteRow(0);this.$6Y=!0;var f=e.cornerHTML||e.cornerHtml;if(!b){var g=e.nav.corner;g&&(this.cssOnly||(e.cornerBackColor?g.style.backgroundColor=e.cornerBackColor:g.style.backgroundColor=e.hourBackColor),this.$4l||DayPilot.pu(g.firstChild),g.firstChild.innerHTML=f||"")}for(var i=0;i<e.headerLevels;i++)this.$6W(i+1,b);if(this.showAllDayEvents)for(var j=b?this.nav.header.insertRow(-1):this.nav.header.rows[e.headerLevels],i=0;i<d;i++){var k=c[i],l=b?j.insertCell(-1):j.cells[i];l.data=k,l.style.padding="0px",l.style.border="0px none",l.style.overflow="hidden",this.cssOnly||(l.style.lineHeight="1.2");var m=b?document.createElement("div"):l.firstChild;if(b){if(m.setAttribute("unselectable","on"),m.style.MozUserSelect="none",m.style.KhtmlUserSelect="none",m.style.WebkitUserSelect="none",m.style.overflow="hidden",m.style.position="relative",m.style.height=h.allDayHeaderHeight()+"px",this.cssOnly){m.className=this.$58("_alldayheader");var o=document.createElement("div");o.className=this.$58("_alldayheader_inner"),m.appendChild(o)}else{m.className=this.$58("alldayheader"),m.style.textAlign="center",m.style.backgroundColor=k.backColor,m.style.cursor="default";var n=document.createElement("div");n.style.position="absolute",n.style.left="0px",n.style.right="0px",n.style.top="0px",n.style.bottom="0px",n.setAttribute("unselectable","on"),n.style.borderTop="1px solid "+this.borderColor,m.appendChild(n),e.rtl?n.style.borderLeft=i===d-1?"1px solid "+k.backColor:"1px solid "+this.borderColor:i!==d-1&&(n.style.borderRight="1px solid "+this.borderColor)}l.appendChild(m)}m.style.height=h.allDayHeaderHeight()+"px"}}},this.$4v=function(){this.loadingLabelVisible&&this.nav.loading&&(this.nav.loading.innerHTML=this.loadingLabelText,this.nav.loading.style.top=this.$5f()+5+"px",this.nav.loading.style.display="")},this.$4K=function(){this.callbackTimeout&&window.clearTimeout(this.callbackTimeout),this.nav.loading&&(this.nav.loading.style.display="none")},this.$6Z=function(){var a=this.$5R(),b=this.initScrollPos;if(!b){b=this.businessBeginsHour*(60/e.cellDuration)*e.cellHeight}a.root=this,a.onscroll=this.$5P,0===a.scrollTop?a.scrollTop=b-this.$5U():this.$5P()},this.$70=function(){var a=e.nav.top;return a.offsetWidth>0&&a.offsetHeight>0},this.$71=function(){var a=e.$70;a()||(e.$72=setInterval(function(){a()&&(e.$6Z(),e.$4Y(),clearInterval(e.$72))},100))},this.scrollToY=function(a){this.$5R().scrollTop=a},this.scrollToHour=function(a){var b=this.$5R(),c=a*(60/e.cellDuration)*e.cellHeight;b.scrollTop=c-this.$5U()},this.$5R=function(){return"Fixed"===this.columnWidthSpec||this.$5Q?this.nav.bottomRight:this.nav.scroll},this.onCallbackError=function(a,b){alert("Error!\r\nResult: "+a+"\r\nContext:"+b)},this.$4Y=function(){if(e.showHeader){var a=this.$6I(),b=!!this.nav.cornerRight;if(this.$5Q){this.nav.unifiedCornerRight&&DayPilot.de(this.nav.unifiedCornerRight);var c=this.$6B();if("100%"!=c&&parseInt(c)<this.$5R().clientWidth)return;var d=DayPilot.sw(this.nav.bottomRight);this.nav.unifiedCornerRight=this.nav.header.rows[0].insertCell(-1);var f=this.nav.unifiedCornerRight;f.rowSpan=this.nav.header.rows.length,f.style.width=d+"px";var g=document.createElement("div");g.setAttribute("unselectable","on"),this.cssOnly&&(g.className=this.$58("_cornerright")),g.style.overflow="hidden",g.style.height=this.$5f()+"px",g.style.position="relative";var h=document.createElement("div");this.cssOnly&&(h.className=this.$58("_cornerright_inner")),g.appendChild(h),f.appendChild(g);return void(!("Fixed"===this.columnWidthSpec)&&this.nav.allday&&(this.nav.allday.style.right=d+"px"))}if(a!==b)if(a)this.$6L();else{if(this.nav.fullHeader&&3===this.nav.fullHeader.rows[0].cells.length){var f=this.nav.fullHeader.rows[0].cells[2];f.parentNode&&f.parentNode.removeChild(f)}this.nav.cornerRight=null}var j=this.nav.cornerRight;if(j){var d=DayPilot.sw(e.$5g());return this.cssOnly?j&&(j.style.width=d+"px"):d>=3&&(j.style.width=d-3+"px"),d}}},this.$54=function(a){if(a&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.$4o>=this.autoRefreshMaxCount)){this.$4z();var b=this.autoRefreshInterval;if(!b||b<10)throw"The minimum autoRefreshInterval is 10 seconds";this.autoRefreshTimeout=window.setTimeout(function(){e.$73()},1e3*this.autoRefreshInterval)}},this.$4z=function(){this.autoRefreshTimeout&&window.clearTimeout(this.autoRefreshTimeout)},this.$73=function(){if(!(DayPilot.Global.resizing||DayPilot.Global.moving||a.drag||a.selecting)){var b=!1;if("function"==typeof this.onAutoRefresh){var c={};c.i=this.$4o,c.preventDefault=function(){this.preventDefault.value=!0},e.onAutoRefresh(c),c.preventDefault.value&&(b=!0)}!b&&this.$4u()&&this.commandCallBack(this.autoRefreshCommand),this.$4o++}this.$4o<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){e.$73()},1e3*this.autoRefreshInterval))},this.$4D=function(){e.$4X(),"Parent100Pct"===e.heightSpec&&e.setHeight(parseInt(e.nav.top.clientHeight,10)),e.$53()},this.$74=function(){a.globalHandlers||(a.globalHandlers=!0,DayPilot.re(document,"mousemove",a.gMouseMove),DayPilot.re(document,"mouseup",a.gMouseUp),DayPilot.re(document,DayPilot.touch.move,a.gTouchMove),DayPilot.re(document,DayPilot.touch.end,a.gTouchEnd)),DayPilot.re(window,"resize",this.$4D)},this.$6l=function(b){if(!g.active&&!g.using){b=b||window.event;var c=DayPilot.Util.mouseButton(b);if(void 0!==DayPilotBubble&&DayPilotBubble.hideActive(),"n-resize"!==this.style.cursor&&"s-resize"!==this.style.cursor||!c.left){if(("move"===this.style.cursor||"Full"===e.moveBy&&this.event.client.moveEnabled())&&c.left){DayPilot.Global.moving=this;var d=DayPilot.Global.moving.helper={};d.oldColumn=e.$57[this.event.part.dayIndex].id,a.originalMouse=DayPilot.mc(b),a.originalTop=this.offsetTop;var f=DayPilot.mo3(this,b);a.moveOffsetY=f?f.y:0,e.nav.top.style.cursor=this.style.cursor}}else DayPilot.Global.resizing=this,a.originalMouse=DayPilot.mc(b),a.originalHeight=this.offsetHeight,a.originalTop=this.offsetTop,e.nav.top.style.cursor=this.style.cursor;return!1}},this.$75=function(a){var b=this.$4k.events,c=this.events.list[a],d={};for(var f in c)d[f]=c[f];if(e.showEventStartEnd){var g=c.start.getDatePart().getTime()===c.end.getDatePart().getTime(),i=g?h.locale().timePattern:h.locale().dateTimePattern,j=c.start.toString(i),k=c.end.toString(i);d.html=d.text+" ("+j+" - "+k+")"}if("function"==typeof this.onBeforeEventRender){var l={};l.e=d,l.data=d,this.onBeforeEventRender(l)}b[a]=d},this.$6m={};var g=e.$6m;g.active=!1,g.start=null,g.timeout=null,g.startcell=null,this.$6m.getCellCoords=function(a){var b,c;a.touches?(b=a.touches[0].pageX,c=a.touches[0].pageY):(b=a.pageX,c=a.pageY);var d=DayPilot.abs(e.nav.main),f={x:b-d.x,y:c-d.y},g=e.nav.main.clientWidth/e.$57.length;return{pageX:b,pageY:c,x:Math.floor(f.x/g),y:Math.floor(f.y/e.cellHeight),toString:function(){return"x: "+this.x+" y:"+this.y}}},this.$6m.startSelecting=function(b){var c=e.nav.main.rows[b.y].cells[b.x];g.startcell=b,e.clearSelection(),a.column=a.getColumn(c),e.selectedCells.push(c),a.firstSelected=c,a.topSelectedCell=c,a.bottomSelectedCell=c,e.$5L()},this.$6m.extendSelection=function(b){var c=e.nav.main.rows[b.y].cells[b.x];e.clearSelection(),b.y<g.startcell.y?(e.selectedCells=a.getCellsBelow(c),a.topSelectedCell=e.selectedCells[0],a.bottomSelectedCell=a.firstSelected):(e.selectedCells=a.getCellsAbove(c),a.topSelectedCell=a.firstSelected,a.bottomSelectedCell=e.selectedCells[0]),e.$5L()},this.$6m.onMainTouchStart=function(a){if(!DayPilot.Util.isMouseEvent(a)&&!(g.active||a.touches.length>1)){g.using=!0;var b=g.getCellCoords(a);g.startCoords=b;var c=e.tapAndHoldTimeout;g.timeout=window.setTimeout(function(){switch(a.preventDefault(),g.active=!0,e.timeRangeTapAndHoldHandling){case"Select":g.startSelecting(b);break;case"ContextMenu":g.startSelecting(b),g.active=!1,e.contextMenuSelection&&e.contextMenuSelection.show(e.getSelection())}},c)}},this.$6m.onCellTouchMove=function(a){},this.$6m.onCellTouchEnd=function(a){if(!g.active)return void window.clearTimeout(g.timeout);a.preventDefault(),g.startcell=null;var b=e.getSelection();b.toString=function(){return"start: "+this.start+"\nend: "+this.end},e.$5E(b.start,b.end,b.resource),window.setTimeout(function(){g.active=!1},500)},this.$6m.startMoving=function(b,c){DayPilot.Global.moving=b,(DayPilot.Global.moving.helper={}).oldColumn=e.$57[b.event.part.dayIndex].id,a.originalMouse=c,a.originalTop=this.offsetTop;var f=DayPilot.abs(b);a.moveOffsetY=c.y-f.y,a.movingShadow||(a.movingShadow=e.$56(DayPilot.Global.moving,!e.$4p.ie,e.shadow),a.movingShadow.style.width=a.movingShadow.parentNode.offsetWidth+1+"px")},this.$6m.startResizing=function(b,c,d){DayPilot.Global.resizing=b,b.dpBorder=c,a.originalMouse=d,a.originalHeight=b.offsetHeight,a.originalTop=b.offsetTop},this.$6m.updateResizing=function(a){e.$6R(a)},this.$6m.updateMoving=function(){var b=e.coords,c=e.cellHeight,d=0,f=a.moveOffsetY;f||(f=c/2);var g=Math.floor((b.y-f-d+c/2)/c)*c+d;g<d&&(g=d);var h=e.nav.main,i=h.clientHeight,j=parseInt(a.movingShadow.style.height);g+j>i&&(g=i-j),a.movingShadow.style.top=g+"px";var k=h.clientWidth/h.rows[0].cells.length,l=Math.floor(b.x/k);l<0&&(l=0);var m=e.nav.events;l<m.rows[0].cells.length&&l>=0&&a.movingShadow.column!==l&&(a.movingShadow.column=l,a.moveShadow(m.rows[0].cells[l]))},this.$6m.onEventTouchStart=function(a){if(!g.active&&!DayPilot.Util.isMouseEvent(a)){a.stopPropagation(),g.preventEventTap=!1,g.using=!0,g.startCoords=g.getCellCoords(a);var b=this,c=a.touches?a.touches[0].pageX:a.pageX,d=a.touches?a.touches[0].pageY:a.pageY,f={x:c,y:d,$d:this};e.coords=g.relativeCoords(a);var h=e.tapAndHoldTimeout;g.timeout=window.setTimeout(function(){switch(g.active=!0,e.eventTapAndHoldHandling){case"Move":g.startMoving(b,f);break;case"ContextMenu":var c=b.event,d=c.client.contextMenu();DayPilot.Menu&&DayPilot.Menu.touchPosition(a),d?d.show(c):e.contextMenu&&e.contextMenu.show(c)}},h)}},this.$6m.onMainTouchMove=function(b){if(!DayPilot.Util.isMouseEvent(b)){if(g.timeout){var c=g.getCellCoords(b);c&&g.startCoords&&(c.pageX===g.startCoords.pageX&&c.pageY===g.startCoords.pageY||window.clearTimeout(e.$6m.timeout))}if(DayPilot.Global.moving&&a.movingShadow)return b.preventDefault(),e.coords=g.relativeCoords(b),void g.updateMoving();if(DayPilot.Global.resizing){b.preventDefault();var d=b.touches?b.touches[0]:b,c={x:d.pageX,y:d.pageY};return void g.updateResizing(c)}if(g.startcell){if(b.preventDefault(),!g.active)return void window.clearTimeout(g.timeout);var c=g.getCellCoords(b);g.extendSelection(c)}g.preventEventTap=!0}},this.$6m.relativeCoords=function(a){var b=e.nav.main,c=a.touches?a.touches[0].pageX:a.pageX,d=a.touches?a.touches[0].pageY:a.pageY,f=DayPilot.abs(b);return{x:c-f.x,y:d-f.y,toString:function(){return"x: "+this.x+", y:"+this.y}}},this.$6m.onMainTouchEnd=function(b){if(!DayPilot.Util.isMouseEvent(b))if(DayPilot.Global.moving){g.active=!1,b.preventDefault(),b.stopPropagation();var c=a.movingShadow.offsetTop;a.deleteShadow(a.movingShadow);var d=DayPilot.Global.moving.event,f=a.movingShadow.column;DayPilot.Global.moving=null,a.movingShadow=null,d.calendar.$5x(d,f,c,b,a.drag)}else if(g.startcell){if(!g.active)return void window.clearTimeout(g.timeout);b.preventDefault(),g.startcell=null;var h=e.getSelection();h.toString=function(){return"start: "+this.start+"\nend: "+this.end},e.$5E(h.start,h.end,h.resource),window.setTimeout(function(){g.active=!1},500)}},this.$6m.onEventTouchMove=function(a){g.preventEventTap=!0},this.$6m.onEventTouchEnd=function(a){if(!DayPilot.Util.isMouseEvent(a)){if(!g.active){if(g.preventEventTap)return;return a.preventDefault(),window.clearTimeout(g.timeout),void e.$5k(this,!1)}if(g.active=!1,g.timeout)return void window.clearTimeout(g.timeout);a.preventDefault()}},this.$6j=function(b){var c=5,d=Math.max(e.durationBarWidth,10),g="Top"===e.moveBy;if(void 0!==a){var h=DayPilot.mo3(this,b);if(h){var i=this;if(!i.active){var j=[];i.event.client.deleteEnabled()&&j.push({action:"JavaScript",v:"Hover",w:17,h:17,top:2,right:2,css:e.$58("_event_delete"),js:function(a){e.$5s(a)}});var k=i.event.cache?i.event.cache.areas:i.event.data.areas;k&&k.length>0&&(j=j.concat(k)),DayPilot.Areas.showAreas(i,i.event,null,j),e.cssOnly&&DayPilot.Util.addClass(i,e.$58("_event_hover"))}if(!DayPilot.Global.resizing&&!DayPilot.Global.moving){var l=this.isFirst,m=this.isLast;if("Disabled"!==e.moveBy&&"None"!==e.moveBy&&(!g&&h.x<=d&&this.event.client.moveEnabled()?this.style.cursor=l?"move":"not-allowed":!g&&h.y<=c&&this.event.client.resizeEnabled()?l?(this.style.cursor="n-resize",this.dpBorder="top"):this.style.cursor="not-allowed":g&&h.y<=d&&this.event.client.moveEnabled()?this.style.cursor="move":this.offsetHeight-h.y<=c&&this.event.client.resizeEnabled()?m?(this.style.cursor="s-resize",this.dpBorder="bottom"):this.style.cursor="not-allowed":DayPilot.Global.resizing||DayPilot.Global.moving||(this.event.client.clickEnabled()?this.style.cursor="pointer":this.style.cursor="default"),void 0!==DayPilotBubble&&e.bubble&&"Disabled"!==e.eventHoverHandling&&("default"===this.style.cursor||"pointer"===this.style.cursor))){this.$76&&h.x===this.$76.x&&h.y===this.$76.y||(this.$76=h,e.bubble.showEvent(this.event))}}}}},this.$6k=function(a){e.cssOnly&&DayPilot.Util.removeClass(this,e.$58("_event_hover")),e.bubble&&e.bubble.hideOnMouseOut(),DayPilot.Areas.hideAreas(this,a)},this.$77=null,this.$4Z=function(){if(this.showCurrentTime){this.$78();var a=(new DayPilot.Date).addMinutes(e.showCurrentTimeOffset);if("Full"===e.showCurrentTimeMode)this.$79(a);else{if("Day"!==e.showCurrentTimeMode)throw"Invalid DayPilot.Calendar.showCurrentTimeMode value: "+e.showCurrentTimeMode;this.$7a(a)}if(this.nav.events&&!this.$77){this.$77=setTimeout(function(){e.$77=null,e.$4Z()},1e3*30)}}},this.$78=function(){DayPilot.de(e.elements.separators),e.elements.separators=[]},this.$7a=function(a){var b=a.getTime(),c=e.nav.events;if(c)for(var d=0;d<e.$57.length;d++){var f=e.$57[d],g=e.$5a(!0),h=new DayPilot.Date(f.start).addHours(this.$5e(!0)),i=h.getTime(),j=h.addTime(g),k=j.getTime();if(i<=b&&b<=k){var l=this.$7b(a,f.start).top-1,m=c.rows[0].cells[d],n=m.separators,o=document.createElement("div");o.style.position="absolute",o.style.top=l+"px",o.style.height="1px",o.style.left="0px",o.style.right="0px",o.className=e.$58("_now"),n.insertBefore(o,n.firstChild),e.elements.separators.push(o)}}},this.$79=function(a){var b=a.getTime();if(e.nav.events){var d=e.$57[0];if(d)for(var f=d.start.getDatePart().addTime(a.getTimePart()),g=this.$7b(f,d.start).top-1,h=0;h<e.$57.length;h++){var d=e.$57[h],i=e.$5a(!0),j=new DayPilot.Date(d.start).addHours(this.$5e(!0)),k=j.getTime(),l=j.addTime(i),m=l.getTime();if(k<=b&&b<=m){var n=document.createElement("div");return n.style.position="absolute",n.style.top=g+"px",n.style.height="1px",n.style.left="0px",n.style.right="0px",n.className=e.$58("_now"),e.nav.events.appendChild(n),void e.elements.separators.push(n)}}}},this.$4P=function(a){if(a?this.events.list=a:a=this.events.list,a){this.$6g={},this.$6g.events=[],this.$6g.lines=[];var b=a.length,c=this.$5a(!0);this.$4k.pixels={};var d=[];this.$5T=[],this.$5u=1e4,this.$5d=0,this.startDate=new DayPilot.Date(this.startDate);for(var f=0;f<b;f++){var g=a[f];g.start=new DayPilot.Date(g.start),g.end=new DayPilot.Date(g.end)}if("function"==typeof this.onBeforeEventRender||e.showEventStartEnd)for(var f=0;f<b;f++)this.$75(f);for(var i="Resources"===this.viewType,j=this.$6e(),k=j.start,l=j.end,f=0;f<this.$57.length;f++){var m={};m.minEnd=1e6,m.maxStart=-1,this.$5T.push(m);var n=this.$57[f];n.events=[],n.lines=[],n.blocks=[];var o=new DayPilot.Date(n.start).addHours(this.$5e(!0)),p=o.getTime(),q=o.addTime(c),r=q.getTime();i&&(k=o.getDatePart(),l=q.getDatePart());for(var s=0;s<b;s++)if(!d[s]){var g=a[s],t=g.start,u=g.end,v=t.getTime(),w=u.getTime();if(!(w<v))if(g.allday){var x=!1;if(x=v===w?!(w<k.getTime()||v>=l.getTime()):"Date"===e.allDayEnd?!(w<k.getTime()||v>=l.getTime()):!(w<=k.getTime()||v>=l.getTime()),i&&(x=x&&(g.resource===n.id||"*"===n.id)),x){var y=new DayPilot.Event(g,this);y.part.start=k.getTime()<v?t:k,y.part.end=l.getTime()>w?u:l,y.part.colStart=DayPilot.DateUtil.daysDiff(k,y.part.start),y.part.colWidth=DayPilot.DateUtil.daysSpan(y.part.start,y.part.end)+1,i&&(y.part.colStart=f,y.part.colWidth=1),this.$6g.events.push(y),("function"==typeof this.onBeforeEventRender||e.showEventStartEnd)&&(y.cache=this.$4k.events[s]),d[s]=!0,!i||y.part.start.getTime()===v&&y.part.end.getTime()===w||(d[s]=!1)}}else{var x=!1;if(x=i?n.id===g.resource&&!(w<=p||v>=r):!(w<=p||v>=r)||w===v&&v===p){var y=new DayPilot.Event(g,e);y.part.dayIndex=f,y.part.start=p<v?t:o,y.part.end=r>w?u:q;var z=this.$7b(y.part.start,n.start),A=this.$7b(y.part.end,n.start),B=z.top,C=A.top;if(B===C&&(z.cut||A.cut))continue;y.part.box=h.useBox(w-v);var D=0;if(y.part.box){var E=A.boxBottom;y.part.top=Math.floor(B/this.cellHeight)*this.cellHeight+D,y.part.height=Math.max(Math.ceil(E/this.cellHeight)*this.cellHeight-y.part.top,this.cellHeight-1),y.part.barTop=Math.max(B-y.part.top-1,0),y.part.barHeight=Math.max(C-B-2,1)}else y.part.top=B+D,y.part.height=Math.max(C-B,0),y.part.barTop=0,y.part.barHeight=Math.max(C-B-2,1);var t=y.part.top,u=y.part.top+y.part.height;t>m.maxStart&&(m.maxStart=t),u<m.minEnd&&(m.minEnd=u),t<this.$5u&&(this.$5u=t),u>this.$5d&&(this.$5d=u),n.events.push(y),("function"==typeof this.onBeforeEventRender||e.showEventStartEnd)&&(y.cache=this.$4k.events[s]),y.part.start.getTime()===v&&y.part.end.getTime()===w&&(d[s]=!0)}}}}for(var f=0;f<this.$57.length;f++){var n=this.$57[f];n.events.sort(this.$7c);for(var s=0;s<n.events.length;s++){var g=n.events[s];n.putIntoBlock(g)}for(var s=0;s<n.blocks.length;s++){var F=n.blocks[s];F.events.sort(this.$7d);for(var G=0;G<F.events.length;G++){var g=F.events[G];F.putIntoLine(g)}}}this.$6g.events.sort(this.$7d),this.$6g.putIntoLine=function(a){for(var c=0;c<this.lines.length;c++){var d=this.lines[c];if(d.isFree(a.part.colStart,a.part.colWidth))return d.push(a),c}var d=[];return d.isFree=function(a,b){for(var c=a+b-1,d=this.length,e=0;e<d;e++){var f=this[e];if(!(c<f.part.colStart||a>f.part.colStart+f.part.colWidth-1))return!1}return!0},d.push(a),this.lines.push(d),this.lines.length-1};for(var f=0;f<this.$6g.events.length;f++){var g=this.$6g.events[f];this.$6g.putIntoLine(g)}var H=Math.max(this.$6g.lines.length,1);this.$4k.allDayHeaderHeight=H*(h.allDayEventHeight()+2)+2}},this.$7c=function(a,b){if(!(a&&b&&a.start&&b.start))return 0;var c=a.start().ticks-b.start().ticks;return 0!==c?c:b.end().ticks-a.end().ticks},this.$7d=function(a,b){if(!a||!b)return 0;if(!(a.data&&b.data&&a.data.sort&&b.data.sort&&0!==a.data.sort.length&&0!==b.data.sort.length))return e.$7c(a,b);for(var c=0,d=0;0===c&&void 0!==a.data.sort[d]&&void 0!==b.data.sort[d];)c=a.data.sort[d]===b.data.sort[d]?0:e.$7e(a.data.sort[d],b.data.sort[d],e.sortDirections[d]),d++;return c},this.$7e=function(a,b,c){var d="desc"!==c,e=d?-1:1,f=-e;if(null===a&&null===b)return 0;if(null===b)return f;if(null===a)return e;var g=[];return g[0]=a,g[1]=b,g.sort(),a===g[0]?e:f},this.$7f=function(a){for(var b=0;b<e.elements.events.length;b++){var c=e.elements.events[b];if(c.event===a||c.event.data===a.data)return c}return null},this.events.find=function(a){if(!e.events.list||void 0===e.events.list.length)return null;for(var b=e.events.list.length,c=0;c<b;c++)if(e.events.list[c].id===a)return new DayPilot.Event(e.events.list[c],e);return null},this.events.findRecurrent=function(a,b){if(!e.events.list||void 0===e.events.list.length)return null;for(var c=e.events.list.length,d=0;d<c;d++)if(e.events.list[d].recurrentMasterId===a&&e.events.list[d].start.getTime()===b.getTime())return new DayPilot.Event(e.events.list[d],e);return null},this.events.update=function(a,b){var c={};c.oldEvent=new DayPilot.Event(a.copy(),e),c.newEvent=new DayPilot.Event(a.temp(),e);var d=new DayPilot.Action(e,"EventUpdate",c,b);return a.commit(),e.$4n&&e.update(),e.$7g.notify(),d},this.events.remove=function(a,b){var c={};c.e=new DayPilot.Event(a.data,e);var d=new DayPilot.Action(e,"EventRemove",c,b),f=DayPilot.indexOf(e.events.list,a.data);return e.events.list.splice(f,1),e.$4n&&e.update(),e.$7g.notify(),d},this.events.add=function(a,b){a.calendar=e,e.events.list||(e.events.list=[]),e.events.list.push(a.data);var c={};c.e=a;var d=new DayPilot.Action(e,"EventAdd",c,b);return e.$4n&&e.update(),e.$7g.notify(),d},this.events.load=function(a,b,c){var d=function(a){var b={};b.exception=a.exception,b.request=a.request,"function"==typeof c&&c(b)},f=function(a){var f,c=a.request;try{f=DayPilot.Util.parseJSON(c.responseText)}catch(a){var g={};return g.exception=a,void d(g)}if(DayPilot.isArray(f)){var h={};if(h.preventDefault=function(){this.preventDefault.value=!0},h.data=f,"function"==typeof b&&b(h),h.preventDefault.value)return;e.events.list=f,e.$4n&&e.update()}};DayPilot.ajax({method:"POST",data:{start:e.visibleStart().toString(),end:e.visibleEnd().toString()},url:a,success:f,error:d})},this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(a){if(a){if(!a.isAction)throw"DayPilot.Action object required for queue.add()";e.queue.list.push(a)}},this.queue.notify=function(a){var b={};b.actions=e.queue.list,e.$4t("Notify",b,a,"Notify"),e.queue.list=[]},this.queue.clear=function(){e.queue.list=[]},this.queue.pop=function(){return e.queue.list.pop()},this.$7h=function(a){if(this.$4n&&this.$57){var a=a||{},b=!a.eventsOnly;e.cssOnly||(e.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),this.$4u()||(e.cellProperties={}),b?(e.$4A(),this.$7i(),this.$4N(),this.$4P(),e.$4R(),e.$4S(),e.$4T(),e.$4U(),e.$4q(),e.$4V(),e.$5L(),e.$4W(),e.$4X(),e.$4Y(),e.$6v(),this.$51(),this.$52(),this.$4Z(),e.$53()):(e.$4A(),e.$4P(),e.$4Q(),e.$51(),e.$52(),e.$53()),this.visible?this.show():this.hide()}},this.update=function(){if(this.$7h(),"function"==typeof e.onAfterRender){var a={};a.isUpdate=!0,a.data=null,e.onAfterRender(a)}},this.show=function(){e.visible=!0,e.nav.top.style.display="",e.$4D(),e.$4Y(),e.$5P()},this.hide=function(){e.visible=!1,e.nav.top.style.display="none"},this.$7g={},this.$7g.scope=null,this.$7g.notify=function(){e.$7g.scope&&e.$7g.scope.$apply()},this.debug=new DayPilot.Debug(this),this.$7b=function(a,b){b||(b=this.startDate);var c=b.getTime(),d=a.getTime(),e=this.$4k.pixels[d+"_"+c];if(e)return e;c=b.addHours(this.$5e(!0)).getTime();var f=60*this.cellDuration*1e3,g=d-c,h=g%f,i=g-h,j=i+f;0===h&&(j=i);var k={};return k.cut=!1,k.top=this.$7j(g),k.boxTop=this.$7j(i),k.boxBottom=this.$7j(j),this.$4k.pixels[d+"_"+c]=k,k},this.$7j=function(a){return Math.floor(this.cellHeight*a/(6e4*this.cellDuration))},this.$7i=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart(),this.$7k=h.allDayEventHeight()+4},this.$4Q=function(){var a=this.$5f(),b=this.$6p();if(this.nav.corner&&(this.nav.corner.style.height=a+"px"),this.nav.cornerRight&&(this.nav.cornerRight.style.height=a+"px"),this.nav.mid&&(this.nav.mid.style.height=a+"px"),this.showAllDayEvents&&this.nav.header)for(var c=this.nav.header.rows[this.nav.header.rows.length-1],d=0;d<c.cells.length;d++){var e=c.cells[d];e.firstChild.style.height=h.allDayHeaderHeight()+"px"}this.nav.upperRight&&(this.nav.upperRight.style.height=a+"px"),this.nav.scroll.style.top=a+"px",this.nav.top.style.height=b+"px"},this.$4X=function(){var a=this.$6q();this.nav.scroll&&a>0&&(this.nav.scroll.style.height=a+"px",this.$5S=e.nav.scroll.clientHeight,this.nav.bottomLeft&&(this.nav.bottomLeft.style.height=a+"px"),this.nav.bottomRight&&(this.nav.bottomRight.style.height=a+"px")),"Parent100Pct"===this.heightSpec?this.nav.top.style.height="100%":this.nav.top.style.height=this.$6p()+"px"},this.setHeight=function(a){"Parent100Pct"!==this.heightSpec&&(this.heightSpec="Fixed"),this.cssOnly?this.height=a-this.$5f():this.height=a-(this.$5f()+3),this.$4X()},this.$7l=function(a){var b=document.createElement("div");b.style.position="absolute",b.style.top="-2000px",b.style.left="-2000px",b.className=this.$58(a),document.body.appendChild(b);var c=b.offsetHeight,d=b.offsetWidth;document.body.removeChild(b);var e={};return e.height=c,e.width=d,e},this.$6h={};var h=this.$6h;h.locale=function(){return DayPilot.Locale.find(e.locale)},h.weekStarts=function(){return"number"==typeof e.weekStarts?e.weekStarts:h.locale().weekStarts},h.timeFormat=function(){return"Auto"!==e.timeFormat?e.timeFormat:this.locale().timeFormat},h.useBox=function(a){return"Always"===e.useEventBoxes||"Never"!==e.useEventBoxes&&a<60*e.cellDuration*1e3},h.notifyType=function(){var a;if("Immediate"===e.notifyCommit)a="Notify";else{if("Queue"!==e.notifyCommit)throw"Invalid notifyCommit value: "+e.notifyCommit;a="Queue"}return a},h.allDayEventHeight=function(){if(e.$4k.allDayEventHeight)return e.$4k.allDayEventHeight;var a=e.$7l("_alldayevent_height").height;return a||(a=e.allDayEventHeight),e.$4k.allDayEventHeight=a,a},h.allDayHeaderHeight=function(){if(e.$4k.allDayHeaderHeight)return e.$4k.allDayHeaderHeight;var a=e.$7k;return e.$4k.allDayHeaderHeight=a,a},h.headerHeight=function(){if(e.$4k.headerHeight)return e.$4k.headerHeight;var a=e.$7l("_header_height").height;return a||(a=e.headerHeight),e.$4k.headerHeight=a,a},this.$7m=function(){return!!this.backendUrl&&(void 0===e.events.list||!e.events.list)},this.$7n=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Calendar() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Calendar: The placeholder element not found: '"+b+"'."}},this.$7o=function(){this.$7n(),this.$7i(),this.$4N(),this.$6r(),this.$4R(),this.$4S(),this.$4V(),this.$4Y(),this.$6Z(),this.$74(),this.$4E(),a.register(this),this.$4D(),this.$4Z(),this.$71(),this.$54(),this.$4t("Init")},this.init=function(){if(this.$7n(),!this.nav.top.dp){var b=this.$7m();if(e.cssOnly||(e.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),b)return this.$7o(),void(this.$4n=!0);this.$7i(),this.$4N(),this.$4O(),this.events.list||(this.events.list=[]),this.$4P(),this.$6r(),this.$4R(),this.$4S(),this.$4V(),this.$50(),this.$6v(),this.$4Y(),this.$6Z(),this.$74(),this.$4E(),a.register(this),this.$4Q(),this.$51(),this.$52(),this.$4D(),this.messageHTML&&this.message(this.messageHTML),this.$4Z(),this.$4L(null,!1),this.$71(),this.$54(),this.$4n=!0,this.$7p()}},this.$7q=null,this.$7r=function(a){var b={events:{preInit:function(){var a=this.data;a&&(DayPilot.isArray(a.list)?e.events.list=a.list:e.events.list=a)}},scrollToHour:{postInit:function(){void 0!==this.data&&e.scrollToHour(this.data)}}};this.$7q=b;for(var c in a)if(b[c]){var d=b[c];d.data=a[c],d.preInit&&d.preInit()}else e[c]=a[c]},this.$7p=function(){var a=this.$7q;for(var b in a){var c=a[b];c.postInit&&c.postInit()}},this.internal={},this.internal.initialized=function(){return e.$4n},this.internal.invokeEvent=this.$5t,this.internal.eventMenuClick=this.$5C,this.internal.timeRangeMenuClick=this.$5D,this.internal.bubbleCallBack=this.$5A,this.internal.findEventDiv=this.$7f,this.internal.eventDeleteDispatch=this.$5s,this.internal.touch=this.$6m,this.Init=this.init,this.$7r(c)};var a={};a.topSelectedCell=null,a.bottomSelectedCell=null,a.selecting=!1,a.column=null,a.firstSelected=null,a.firstMousePos=null,a.originalMouse=null,a.originalHeight=null,a.originalTop=null,a.globalHandlers=!1,a.editing=!1,a.originalText=null,a.register=function(b){a.registered||(a.registered=[]);for(var c=a.registered,d=0;d<c.length;d++)if(c[d]===b)return;c.push(b)},a.unregister=function(b){var c=a.registered;if(c){var d=DayPilot.indexOf(c,b);-1!==d&&c.splice(d,1),0===c.length&&(c=null)}c||(DayPilot.ue(document,"mousemove",a.gMouseMove),DayPilot.ue(document,"mouseup",a.gMouseUp),DayPilot.ue(document,"touchmove",a.gTouchMove),DayPilot.ue(document,"touchend",a.gTouchEnd),a.globalHandlers=!1)},a.getCellsAbove=function(b){for(var c=[],d=a.getColumn(b),e=b.parentNode,f=null;e&&f!==a.firstSelected;)for(f=e.getElementsByTagName("td")[d],c.push(f),e=e.previousSibling;e&&"TR"!==e.tagName;)e=e.previousSibling;return c},a.getCellsBelow=function(b){for(var c=[],d=a.getColumn(b),e=b.parentNode,f=null;e&&f!==a.firstSelected;)for(f=e.getElementsByTagName("td")[d],c.push(f),e=e.nextSibling;e&&"TR"!==e.tagName;)e=e.nextSibling;return c},a.getColumn=function(a){for(var b=0;a.previousSibling;)a=a.previousSibling,"TD"===a.tagName&&b++;return b},a.getShadowColumn=function(a){if(!a)return null;for(var b=a.parentNode;b&&"TD"!==b.tagName;)b=b.parentNode;return b},a.gTouchMove=function(b){if(!DayPilot.Util.isMouseEvent(b)&&a.drag){b.preventDefault();var c=b.touches?b.touches[0].pageX:b.pageX,d=b.touches?b.touches[0].pageY:b.pageY,e={};e.x=c,e.y=d;var f=function(){for(var a=b.touches?b.touches[0].clientX:b.clientX,c=b.touches?b.touches[0].clientY:b.clientY,d=document.elementFromPoint(a,c);d&&d.parentNode;)if(d=d.parentNode,d.daypilotMainD)return d.calendar;return!1}();if(f){if(a.gShadow&&document.body.removeChild(a.gShadow),a.gShadow=null,f.coords=f.$6m.relativeCoords(b),!a.movingShadow&&f.coords){var g=f.$56(a.drag,!1,a.drag.shadowType);if(g){a.movingShadow=g;var h=DayPilot.Date.today(),b={value:a.drag.id,start:h,end:h.addSeconds(a.drag.duration),text:a.drag.text},i=new DayPilot.Event(b,f);i.external=!0,DayPilot.Global.moving={},DayPilot.Global.moving.event=i,DayPilot.Global.moving.helper={}}}DayPilot.Global.moving&&f.$6m.updateMoving()}else{DayPilot.de(a.movingShadow),DayPilot.Global.moving=null,a.movingShadow=null,a.gShadow||(a.gShadow=a.createGShadow(a.drag.shadowType));var g=a.gShadow;g.style.left=e.x+"px",g.style.top=e.y+"px"}}},a.gTouchEnd=function(b){DayPilot.Util.isMouseEvent(b)||a.gMouseUp(b)},a.gMouseMove=function(b){if(void 0!==a&&!(b.insideMainD||b.srcElement&&b.srcElement.inside)){var c=DayPilot.mc(b);if(a.drag){document.body.style.cursor="move",a.gShadow||(a.gShadow=a.createGShadow(a.drag.shadowType));var d=a.gShadow;d.style.left=c.x+"px",d.style.top=c.y+"px",DayPilot.Global.moving=null,a.deleteShadow(a.movingShadow),a.movingShadow=null}for(var e=0;e<a.registered.length;e++)a.registered[e].$4G&&a.registered[e].$4G()}},a.gUnload=function(b){if(a.registered)for(var c=a.registered,d=0;d<c.length;d++){var e=c[d];a.unregister(e)}},a.gMouseUp=function(b){var b=b||window.event;if(DayPilot.Global.resizing){if(!a.resizingShadow)return DayPilot.Global.resizing.style.cursor="default",DayPilot.Global.resizing.event.calendar.nav.top.style.cursor="auto",void(DayPilot.Global.resizing=null);var c=DayPilot.Global.resizing.event,d=DayPilot.Global.resizing.dpBorder,e=a.resizingShadow.clientHeight,f=a.resizingShadow.offsetTop;if(a.deleteShadow(a.resizingShadow),a.resizingShadow=null,DayPilot.Global.resizing.style.cursor="default",c.calendar.nav.top.style.cursor="auto",DayPilot.Global.resizing.onclick=null,DayPilot.Global.resizing=null,c.calendar.overlap)return;c.calendar.$5v(c,e,f,d)}else if(DayPilot.Global.moving){if(!DayPilot.Global.moving.helper)return a.deleteShadow(a.movingShadow),DayPilot.Global.moving=null,void(a.movingShadow=null);if(!a.movingShadow)return DayPilot.Global.moving.event.calendar.nav.top.style.cursor="auto",void(DayPilot.Global.moving=null);var f=(DayPilot.Global.moving.helper.oldColumn,a.movingShadow.offsetTop);a.deleteShadow(a.movingShadow);var c=DayPilot.Global.moving.event,h=a.movingShadow.column,i=a.drag;if(DayPilot.Global.moving.event.calendar.nav.top.style.cursor="auto",DayPilot.Global.moving=null,a.movingShadow=null,i&&(c.calendar.todo||(c.calendar.todo={}),c.calendar.todo.del=i.element),c.calendar.overlap)return;var j=b||window.event;c.calendar.$5x(c,h,f,j,i)}a.drag&&(a.drag=null,document.body.style.cursor=""),a.gShadow&&(document.body.removeChild(a.gShadow),a.gShadow=null),a.moveOffsetY=null},a.dragStart=function(b,c,d,e,f){DayPilot.us(b);var g=a.drag={};return g.element=b,g.duration=c,g.text=e,g.id=d,g.shadowType=f||"Fill",!1},DayPilot.Calendar.makeDraggable=function(b){var c=b.element,d=b.keepElement?null:c,e=b.duration||1;navigator.msPointerEnabled&&(c.style.msTouchAction="none",c.style.touchAction="none"),DayPilot.us(c),DayPilot.re(c,"mousedown",function(c){a.dragStart(d,e,b.id,b.text);var f=c.target||c.srcElement;if(f.tagName){var g=f.tagName.toLowerCase();if("textarea"===g||"select"===g||"input"===g)return!1}return c.preventDefault&&c.preventDefault(),!1});var f=function(c){if(!DayPilot.Util.isMouseEvent(c)){window.setTimeout(function(){var f=a.drag={};f.element=d,f.id=b.id,f.text=b.text||"",f.duration=e,f.shadowType="Fill",a.gTouchMove(c),c.preventDefault()},0),c.preventDefault()}};DayPilot.re(c,DayPilot.touch.start,f)},a.deleteShadow=function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},a.createGShadow=function(a){var b=document.createElement("div");return b.setAttribute("unselectable","on"),b.style.position="absolute",b.style.width="100px",b.style.height="20px",b.style.border="2px dotted #666666",b.style.zIndex=101,b.style.pointerEvents="none","Fill"===a&&(b.style.backgroundColor="#aaaaaa",b.style.opacity=.5,b.style.filter="alpha(opacity=50)",b.style.border="2px solid #aaaaaa"),document.body.appendChild(b),b},a.moveShadow=function(b){var c=a.movingShadow;c.parentNode&&c.parentNode.removeChild(c),b.firstChild.appendChild(c),c.style.left="0px",c.style.width=a.movingShadow.parentNode.offsetWidth+"px"},a.Column=function(a,b,c){this.value=a,this.id=a,this.name=b,this.date=new DayPilot.Date(c)},DayPilot.CalendarVisible.dragStart=a.dragStart,DayPilot.CalendarVisible.Calendar=a.Calendar,"undefined"!=typeof jQuery&&function(a){a.fn.daypilotCalendar=function(a){var b=null,c=this.each(function(){if(!this.daypilot){var c=new DayPilot.Calendar(this.id,a);c.init(),this.daypilot=c,b||(b=c)}});return 1===this.length?b:c}}(jQuery),function(){var b=DayPilot.am();b&&b.directive("daypilotCalendar",function(){return{restrict:"E",template:"<div></div>",replace:!0,link:function(a,b,c){var d=new DayPilot.Calendar(b[0]);d.$7g.scope=a,d.init();var e=c.id;e&&(a[e]=d);var f=a.$watch;f.call(a,c.daypilotConfig,function(a){for(var b in a)d[b]=a[b];d.update()},!0),f.call(a,c.daypilotEvents,function(a){d.events.list=a,d.$7h({eventsOnly:!0})},!0)}}})}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(){void 0===DayPilot.DatePicker&&(DayPilot.DatePicker=function(a){this.v="1969";var b="navigator_"+(new Date).getTime(),c=this;this.onShow=null,this.prepare=function(){if(this.locale="en-us",this.target=null,this.resetTarget=!0,this.pattern=this.$m.locale().datePattern,this.theme=null,this.patterns=[],a)for(var b in a)this[b]=a[b];this.init()},this.init=function(){this.date=new DayPilot.Date(this.date);var a=this.$n();this.resetTarget&&!a&&this.$o(this.date),DayPilot.re(document,"mousedown",function(){c.close()})},this.close=function(){this.$p&&(this.navigator&&this.navigator.dispose(),this.div.innerHTML="",this.div&&this.div.parentNode===document.body&&document.body.removeChild(this.div))},this.$n=function(){var a=this.$q();if(!a)return this.date;var b=null;if(!(b="INPUT"===a.tagName?a.value:a.innerText))return null;for(var d=DayPilot.Date.parse(b,c.pattern),e=0;e<c.patterns.length;e++){if(d)return d;d=DayPilot.Date.parse(b,c.patterns[e])}return d},this.$o=function(a){var b=this.$q();if(b){var d=a.toString(c.pattern,c.locale);"INPUT"===b.tagName?b.value=d:b.innerHTML=d}},this.$m={},this.$m.locale=function(){return DayPilot.Locale.find(c.locale)},this.$q=function(){var a=this.target;return a&&a.nodeType&&1===a.nodeType?a:document.getElementById(a)},this.show=function(){var a=this.$q(),d=this.navigator,d=new DayPilot.Navigator(b);d.api=2,d.cssOnly=!0,d.theme=c.theme,d.weekStarts="Auto",d.locale=c.locale,d.onTimeRangeSelected=function(a){c.date=a.start;var b=a.start.addTime(d.$r),e=b.toString(c.pattern,c.locale),a={};a.start=b,a.date=b,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onTimeRangeSelect&&(c.onTimeRangeSelect(a),a.preventDefault.value)||(c.$o(e),c.close(),"function"==typeof c.onTimeRangeSelected&&c.onTimeRangeSelected(a))},this.navigator=d;var e=DayPilot.abs(a),f=a.offsetHeight,g=document.createElement("div");g.style.position="absolute",g.style.left=e.x+"px",g.style.top=e.y+f+"px";var h=document.createElement("div");h.id=b,g.appendChild(h),DayPilot.re(g,"mousedown",function(a){var a=a||window.event;a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation()}),document.body.appendChild(g),this.div=g;var i=c.$n()||(new DayPilot.Date).getDatePart();d.startDate=i,d.$r=i.getTimePart(),d.selectionStart=i.getDatePart(),d.init(),this.$p=!0,this.onShow&&this.onShow()},this.prepare()})}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(){if(void 0===DayPilot.Gantt){var a=function(){};DayPilot.Gantt=function(b,c){this.v="1969";var d=this;this.id=b,this.isGantt=!0;var e=new DayPilot.Scheduler(b);this.scheduler=e,e.viewType="Resources",e.onCallBackHeader=function(a){a.header.taskGroupMode=d.taskGroupMode,a.header.rowHeaderColumns=d.columns,a.header.clientState=d.clientState},e.onGetNodeState=function(a){var b=function(a){var b={};if(a.tags)for(var c in a.tags)b[c]=""+a.tags[c];return b},c=function(a){var c=a.task,d={};return d.start=c.start,d.end=c.end,d.id=c.id,d.complete=c.complete,d.text=c.text,d.type=c.type,d.expanded=a.expanded,d.loaded=a.loaded,d.tags=b(c),d.versions=c.versions,d.children=e.internal.getNodeChildren(a.children),d};a.result=c(a.row),a.preventDefault()},e.$0f=function(a){},e.onCallBackResult=function(a){var b=a.result;a.preventDefault();var c=function(){b.scrollToTaskId&&e.scrollToResource(b.scrollToTaskId)};if("None"===b.updateType)return void c();var f=function(a){for(var c=0;c<a.length;c++){var e=a[c];void 0!==b[e]&&(d[e]=b[e])}};d.links.list=b.links,d.tasks.list=b.tasks,d.startDate=new DayPilot.Date(b.startDate),f(["days","cellDuration","cellGroupBy","cellWidth","cellWidthSpec","cornerHtml","separators","rowMinHeight","rowMarginBottom","taskGroupMode","selectedRows"]),f(["cellProperties","cellConfig","timeHeader","timeHeaders","timeline","columns"]),h.translate(),h.$0g(),h.$0h(),e.update(),e.show(),c()},this.taskGroupMode="Auto",this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.autoScroll="Drag",this.bubbleTask=null,this.bubbleCell=null,this.bubbleRow=null,this.cellDuration=1440,this.cellGroupBy="Month",this.cellWidth=40,this.cellWidthSpec="Fixed",this.completeBarVisible=!0,this.completeBarHeight=3,this.contextMenuTask=null,this.contextMenuRow=null,this.contextMenuLink=null,this.cornerHtml="",this.crosshairColor="Gray",this.crosshairOpacity=20,this.crosshairType="Header",this.doubleClickTimeout=300,this.progressiveTaskRendering="Progressive",this.progressiveTaskRenderingMargin=500,this.progressiveTaskRenderingCacheSweeping=!1,this.progressiveTaskRenderingCacheSize=200,this.floatingTasks=!0,this.floatingTimeHeaders=!0,this.headerHeight=20,this.height=300,this.heightSpec="Max",this.hideUntilInit=!1,this.linkBottomMargin=10,this.linkPointSize=10,this.loadingLabelVisible=!0,this.loadingLabelText="Loading...",this.locale="en-us",this.messageBarPosition="Top",this.messageHideAfter=5e3,this.numberFormat="0.00",this.progressiveRowRendering=!0,this.progressiveRowRenderingPreload=25,this.rowHeaderScrolling=!1,this.rowHeaderSplitterWidth=3,this.rowHeaderHideIconEnabled=!0,this.rowHeaderWidth=80,this.rowHeaderWidthAutoFit=!0,this.rowMarginBottom=4,this.rowMinHeight=0,this.scrollDelayTasks=200,this.scrollDelayCells=20,this.scrollDelayFloats=0,this.scale="Day",this.selectedRows=[],this.snapToGrid=!0,this.syncTasks=!0,this.syncLinks=!0,this.tapAndHoldTimeout=300,this.taskHeight=24,this.taskResizeMargin=5,this.taskMovingStartEndEnabled=!1,this.taskMovingStartEndFormat="MMMM d, yyyy",this.taskResizingStartEndEnabled=!1,this.taskResizingStartEndFormat="MMMM d, yyyy",this.theme="gantt_default",this.treeAutoExpand=!0,this.treeIndent=20,this.treeImageMarginLeft=5,this.treeImageMarginTop=5,this.timeline=null,this.timeHeaders=[{groupBy:"Month",format:"MMMM yyyy"},{groupBy:"Day",format:"d"}],this.useEventBoxes="Never",this.visible=!0,this.taskVersionsEnabled=!1,this.taskVersionHeight=24,this.taskVersionMargin=2,this.taskMoveHandling="Update",this.taskClickHandling="Enabled",this.taskResizeHandling="Update",this.linkCreateHandling="Update",this.taskRightClickHandling="ContextMenu",this.taskDoubleClickHandling="Disabled",this.rowCreateHandling="Disabled",this.rowMoveHandling="Update",this.rowClickHandling="Disabled",this.rowDoubleClickHandling="Disabled",this.rowEditHandling="Update",this.rowSelectHandling="Update",this.clientState={},this.separators=[],this.members={},this.members.obsolete=[],this.members.ignore=["members","scheduler","internal","cellProperties"],this.members.noCssOnly=[],this.links={},this.links.list=[],this.links.add=function(a){if(a){var b=a.isLink?a.data:a;d.links.list.push(b),d.$0i&&(h.$0h(),e.update()),d.$0j.notify()}},this.links.remove=function(a){if(a){var b;b=a.isLink?a.data:a;var c=DayPilot.indexOf(d.links.list,b);-1!==c&&(d.links.list.splice(c,1),d.$0i&&(h.$0h(),e.update()),d.$0j.notify())}},this.links.find=function(a){if(!DayPilot.isArray(d.links.list))return null;for(var b=0;b<d.links.list.length;b++){var c=d.links.list[b];if(c.id===a)return new DayPilot.Link(c,d)}return null},this.links.findFromTo=function(a,b){if(!DayPilot.isArray(d.links.list))return null;for(var c=0;c<d.links.list.length;c++){var e=d.links.list[c];if(e.from===a&&e.to===b)return new DayPilot.Link(e,d)}return null},this.$0k={};var f=this.$0k;f.timeout=null,f.update=function(){d.$0i&&(window.clearTimeout(f.timeout),f.timeout=setTimeout(function(){h.$0g(),e.update()},0))},this.tasks={},this.tasks.list=[],this.tasks.add=function(a){if(a){if(a instanceof DayPilot.Event)throw"DayPilot.Task object required. You have supplied DayPilot.Event.";var b=a.isTask?a.data:a;d.tasks.list.push(b),f.update(),d.$0j.notify()}},this.tasks.find=function(a){var b=g.findInCache(a);return b?new DayPilot.Task(b,d):null},this.tasks.update=function(a){if(a){if(!a.isTask)throw"DayPilot.Task object expected";a.commit(),f.update(),d.$0j.notify()}},this.tasks.remove=function(a){if(a){if(!a.isTask)throw"DayPilot.Task object expected";var b=g.findParentArray(a.data);if(b){var c=DayPilot.indexOf(b,a.data);b.splice(c,1),f.update(),d.$0j.notify()}}},this.visibleStart=function(){return e.visibleStart()},this.visibleEnd=function(){return e.visibleEnd()},this.onAfterRender=null,this.onBeforeRowHeaderRender=null,this.onBeforeTaskRender=null,this.onBeforeTimeHeaderRender=null,this.onBeforeCellRender=null,this.onTaskClick=null,this.onTaskClicked=null,this.onTaskDoubleClick=null,this.onTaskDoubleClicked=null,this.onTaskRightClick=null,this.onTaskRightClicked=null,this.onRowCreate=null,this.onRowCreated=null,this.onRowMove=null,this.onRowMoved=null,this.onRowMoving=null,this.onRowClick=null,this.onRowClicked=null,this.onRowDoubleClick=null,this.onRowDoubleClicked=null,this.onRowEdit=null,this.onRowEdited=null,this.onRowSelect=null,this.onRowSelected=null,this.onTaskMove=null,this.onTaskMoved=null,this.onTaskMoving=null,this.onTaskResize=null,this.onTaskResized=null,this.onTaskResizing=null,this.onLinkCreate=null,this.onLinkCreated=null,this.$0l=function(){return!!this.backendUrl||!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.$0m=function(){if("string"==typeof d.startDate&&(d.startDate=new DayPilot.Date(d.startDate)),!d.startDate||!d.days){for(var a=DayPilot.Date.today(),b=a.addDays(1),c=null,f=null,g=0;g<d.tasks.list.length;g++){var h=d.tasks.list[g];a=new DayPilot.Date(h.start),b=new DayPilot.Date(h.end),(null===c||a.getTime()<c)&&(c=a.getTime()),(null===f||b.getTime()>f)&&(f=b.getTime())}c&&f?(a=new DayPilot.Date(c).getDatePart(),b=new DayPilot.Date(f).getDatePart().addDays(1),e.startDate=d.startDate||a,e.days=d.days||DayPilot.DateUtil.daysDiff(a,b)):(e.startDate=a,e.days=1)}},this.commandCallBack=function(a,b){h.translate(),e.commandCallBack(a,b)},this.message=function(a,b,c,d){e.message(a,b,c,d)},this.setHeight=function(a){e.setHeight(a)},this.$0n=function(){return!!this.backendUrl&&(!DayPilot.isArray(d.tasks.list)||0==d.tasks.list.length)},this.init=function(){h.translate(),h.$0g(),h.$0h(),this.$0m(),e.init(),this.$0i=!0,this.$0o(),this.$0n()&&e.internal.callback("Init")},this.update=function(){h.translate(),h.$0g(),h.$0h(),d.$0m(),e.update()},this.scrollTo=function(a){e.scrollTo(a)},this.scrollToTask=function(a){e.scrollToResource(a)},this.$0p={};var g=this.$0p;g.cache={},g.clearCache=function(){g.cache={}},g.addToCache=function(a,b){var c=a.id;if(c){var d={};if(d.isTaskWrapper=!0,d.data=a,d.parent=b,g.cache[c])throw"Duplicate task id detected";g.cache[c]=d}},g.findInCache=function(a){return a?g.cache[a.toString()]:null},g.getProperty=function(a,b){return a.tags&&a.tags[b]?a.tags[b]:a[b]},g.findParentArray=function(a){return g.findInArray(d.tasks.list,a)},g.findInArray=function(a,b){if(-1!==DayPilot.indexOf(a,b))return a;for(var c=0;c<a.length;c++){var d=a[c];if(d.children&&d.children.length>0){var e=g.findInArray(d.children,b);if(e)return e}}return null},this.$0q={};var h=this.$0q;h.translate=function(){if(e.durationBarMode="PercentComplete",e.timeRangeSelectedHandling="Disabled",e.treeEnabled=!0,e.autoRefreshCommand=d.autoRefreshCommand,e.autoRefreshEnabled=d.autoRefreshEnabled,e.autoRefreshInterval=d.autoRefreshInterval,e.autoRefreshMaxCount=d.autoRefreshMaxCount,e.autoScroll=d.autoScroll,e.backendUrl=d.backendUrl,e.crosshairColor=d.crosshairColor,e.crosshairOpacity=d.crosshairOpacity,e.crosshairType=d.crosshairType,e.doubleClickTimeout=d.doubleClickTimeout,e.durationBarVisible=d.completeBarVisible,e.durationBarHeight=d.completeBarHeight,e.dynamicEventRendering=d.progressiveTaskRendering?"Progressive":"Disabled",e.dynamicEventRenderingMargin=d.progressiveTaskRenderingMargin,e.dynamicEventRenderingCacheSweeping=d.progressiveTaskRenderingCacheSweeping,e.dynamicEventRenderingCacheSize=d.progressiveTaskRenderingCacheSize,e.startDate=new DayPilot.Date(d.startDate),e.days=d.days,e.cellDuration=d.cellDuration,e.cellGroupBy=d.cellGroupBy,e.cellWidth=d.cellWidth,e.cellWidthSpec=d.cellWidthSpec,e.cornerHtml=d.cornerHtml,e.eventHeight=d.taskHeight,e.eventResizeMargin=d.taskResizeMargin,e.floatingEvents=d.floatingTasks,e.floatingTimeHeaders=d.floatingTimeHeaders,e.headerHeight=d.headerHeight,e.heightSpec=d.heightSpec,e.height=d.height,e.linkBottomMargin=d.linkBottomMargin,e.linkPointSize=d.linkPointSize,e.loadingLabelVisible=d.loadingLabelVisible,e.loadingLabelText=d.loadingLabelText,e.locale=d.locale,e.messageBarPosition=d.messageBarPosition,e.messageHideAfter=d.messageHideAfter,e.rowCreateHandling=d.rowCreateHandling,e.numberFormat=d.numberFormat,e.progressiveRowRendering=d.progressiveRowRendering,e.progressiveRowRenderingPreload=d.progressiveRowRenderingPreload,e.scale=d.scale,e.scrollDelayEvents=d.scrollDelayTasks,e.scrollDelayCells=d.scrollDelayCells,e.scrollDelayFloats=d.scrollDelayFloats,e.scrollX=d.scrollX,e.scrollY=d.scrollY,d.scrollToTaskId&&(e.scrollToResourceId=d.scrollToTaskId),e.separators=d.separators,e.tapAndHoldTimeout=d.tapAndHoldTimeout,e.eventMovingStartEndEnabled=d.taskMovingStartEndEnabled,e.eventMovingStartEndFormat=d.taskMovingStartEndFormat,e.eventResizingStartEndEnabled=d.taskResizingStartEndEnabled,e.eventResizingStartEndFormat=d.taskResizingStartEndFormat,e.hideUntilInit=d.hideUntilInit,e.treeIndent=d.treeIndent,e.treeAutoExpand=d.treeAutoExpand,e.treeImageMarginLeft=d.treeImageMarginLeft,e.treeImageMarginTop=d.treeImageMarginTop,e.timeHeaders=d.timeHeaders,e.rowHeaderHideIconEnabled=d.rowHeaderHideIconEnabled,e.rowHeaderScrolling=d.rowHeaderScrolling,e.rowHeaderSplitterWidth=d.rowHeaderSplitterWidth,e.rowHeaderWidth=d.rowHeaderWidth,e.rowHeaderWidthAutoFit=d.rowHeaderWidthAutoFit,e.rowMarginBottom=d.rowMarginBottom,e.rowMinHeight=d.rowMinHeight,e.selectedRows=d.selectedRows,e.theme=d.theme,e.useEventBoxes=d.useEventBoxes,e.snapToGrid=d.snapToGrid,e.uniqueID=d.uniqueID,e.bubble=d.bubbleTask,e.cellBubble=d.bubbleCell,e.resourceBubble=d.bubbleRow,e.contextMenu=d.contextMenuTask,e.contextMenuResource=d.contextMenuRow,e.contextMenuLink=d.contextMenuLink,e.syncResourceTree=d.syncTasks,e.syncLinks=d.syncLinks,e.timeline=d.timeline,e.visible=d.visible,e.eventMoveHandling=d.taskMoveHandling,e.eventClickHandling=d.taskClickHandling,e.eventResizeHandling=d.taskResizeHandling,e.linkCreateHandling=d.linkCreateHandling,e.eventRightClickHandling=d.taskRightClickHandling,e.eventDoubleClickHandling=d.taskDoubleClickHandling,e.rowMoveHandling=d.rowMoveHandling,e.rowClickHandling=d.rowClickHandling,e.rowDoubleClickHandling=d.rowDoubleClickHandling,e.rowEditHandling=d.rowEditHandling,e.rowSelectHandling=d.rowSelectHandling,e.eventVersionsEnabled=d.taskVersionsEnabled,e.eventVersionHeight=d.taskVersionHeight,e.eventVersionMargin=d.taskVersionMargin,DayPilot.isArray(d.columns)){e.rowHeaderColumns=[];for(var a=0;a<d.columns.length;a++){var b=d.columns[a],c={};DayPilot.Util.copyProps(b,c,["title","width"]),e.rowHeaderColumns.push(c)}}d.$0l()&&(e.timeHeader=d.timeHeader,e.cellProperties=d.cellProperties,e.cellConfig=d.cellConfig),e.onRowCreate=function(a){"function"==typeof d.onRowCreate&&d.onRowCreate(a)},e.onRowCreated=function(a){"function"==typeof d.onRowCreated&&d.onRowCreated(a)},e.onAfterRender=function(a){"function"==typeof d.onAfterRender&&d.onAfterRender(a)},e.onRowHeaderResized=function(a){d.rowHeaderWidth=e.rowHeaderWidth},e.onAjaxError=function(a){"function"==typeof d.onAjaxError&&d.onAjaxError(a)},e.onRowHeaderColumnResized=function(a){for(var b=a.column,c=DayPilot.indexOf(e.rowHeaderColumns,b),f=0;f<d.columns.length;f++){var g=e.rowHeaderColumns[f];d.columns[f].width=g.width}if("function"==typeof d.onColumnResized){var i={};i.column=d.columns[c],d.onColumnResized(i)}},e.onBeforeRowHeaderRender=function(a){a.task=new DayPilot.Task(a.row.$.row.task,d);var b=[];if(DayPilot.isArray(d.columns))for(var c=0;c<d.columns.length;c++){var e=d.columns[c],f=e.property,h={};h.value=g.getProperty(a.task.data,f),a.task.data.row&&a.task.data.row.columns&&a.task.data.row.columns[c]?h.html=a.task.data.row.columns[c].html:h.html=h.value,b.push(h)}if(a.row.columns=b,"function"==typeof d.onBeforeRowHeaderRender&&d.onBeforeRowHeaderRender(a),DayPilot.isArray(d.columns))for(var c=0;c<d.columns.length;c++){var i=b[c].html;0===c?a.row.html=i:a.row.columns[c-1].html=i}},e.onBeforeCellRender=function(a){a.task=d.tasks.find(a.cell.resource),delete a.cell.resource,"function"==typeof d.onBeforeCellRender&&d.onBeforeCellRender(a)},e.onBeforeTimeHeaderRender=function(a){"function"==typeof d.onBeforeTimeHeaderRender&&d.onBeforeTimeHeaderRender(a)},e.onEventClick=function(a){a.task=new DayPilot.Task(a.e,d),"function"==typeof d.onTaskClick&&d.onTaskClick(a)},e.onEventClicked=function(a){"function"==typeof d.onTaskClicked&&d.onTaskClicked(a)},e.onEventDelete=function(a){"function"==typeof d.onTaskDelete&&d.onTaskDelete(a)},e.onEventDeleted=function(a){"function"==typeof d.onTaskDeleted&&d.onTaskDeleted(a)},e.onEventDoubleClick=function(a){a.task=new DayPilot.Task(a.e,d),"function"==typeof d.onTaskDoubleClick&&d.onTaskDoubleClick(a)},e.onEventDoubleClicked=function(a){"function"==typeof d.onTaskDoubleClicked&&d.onTaskDoubleClicked(a)},e.onEventRightClick=function(a){a.task=new DayPilot.Task(a.e,d),"function"==typeof d.onTaskRightClick&&d.onTaskRightClick(a)},e.onEventRightClicked=function(a){"function"==typeof d.onTaskRightClicked&&d.onTaskRightClicked(a)},e.onRowMoving=function(a){a.$0r=a.source,a.$0s=a.target,a.source=new DayPilot.Task(a.$0r.$.row.task,d),a.target=new DayPilot.Task(a.$0s.$.row.task,d),"function"==typeof d.onRowMoving&&d.onRowMoving(a)},e.onRowMove=function(a){a.$0r=a.source,a.$0s=a.target,a.source=new DayPilot.Task(a.$0r.$.row.task,d),a.target=new DayPilot.Task(a.$0s.$.row.task,d),"function"==typeof d.onRowMove&&d.onRowMove(a),a.source=a.$0r,a.target=a.$0s},e.onRowMoved=function(a){if("Update"===d.rowMoveHandling||"Notify"===d.rowMoveHandling){var c=a.$0r.$.row.task,e=a.$0s.$.row.task,f=a.position;if("forbidden"===f)return;var h=g.findParentArray(c);if(!h)throw"Cannot find source node parent";var i=DayPilot.indexOf(h,c);h.splice(i,1);var j=g.findParentArray(e);if(!j)throw"Cannot find target node parent";var k=DayPilot.indexOf(j,e);switch(f){case"before":j.splice(k,0,c);break;case"after":j.splice(k+1,0,c);break;case"child":e.children||(e.children=[],e.expanded=!0),e.children.push(c)}d.$0j.notify(),d.update()}a.source=new DayPilot.Task(a.$0r.$.row.task,d),a.target=new DayPilot.Task(a.$0s.$.row.task,d),"function"==typeof d.onRowMoved&&d.onRowMoved(a)},e.onRowClick=function(a){a.task=new DayPilot.Task(a.resource.$.row.task,d),"function"==typeof d.onRowClick&&d.onRowClick(a)},e.onRowClicked=function(a){"function"==typeof d.onRowClicked&&d.onRowClicked(a)},e.onRowDoubleClick=function(a){a.task=new DayPilot.Task(a.resource.$.row.task,d),"function"==typeof d.onRowDoubleClick&&d.onRowDoubleClick(a)},e.onRowDoubleClicked=function(a){"function"==typeof d.onRowDoubleClicked&&d.onRowDoubleClicked(a)},e.onRowEdit=function(a){a.task=new DayPilot.Task(a.resource.$.row.task,d),"function"==typeof d.onRowEdit&&d.onRowEdit(a)},e.onRowEdited=function(a){"function"==typeof d.onRowEdited&&d.onRowEdited(a)},e.onRowSelect=function(a){a.task=new DayPilot.Task(a.row.$.row.task,d),"function"==typeof d.onRowSelect&&d.onRowSelect(a)},e.onRowSelected=function(a){"function"==typeof d.onRowSelected&&d.onRowSelected(a)},e.onEventMove=function(a){a._e=a.e,a.task=new DayPilot.Task(a.e,d),"function"==typeof d.onTaskMove&&d.onTaskMove(a)},e.onEventMoved=function(a){if("Auto"===d.taskGroupMode){var b=a._e,c=b.data.task;for(c.start=b.start(),c.end=b.end();b.data.parent;){var f=e.events.find(b.data.parent.id),g=h.childrenStartEnd(b.data.parent);f.start(g.start),f.end(g.end),e.events.update(f),b=f}}d.$0j.notify(),"function"==typeof d.onTaskMoved&&d.onTaskMoved(a)},e.onEventMoving=function(a){a.task=new DayPilot.Task(a.e,d),a._e=a.e,delete a.position,delete a.overlapping,delete a.resource,"function"==typeof d.onTaskMoving&&d.onTaskMoving(a)},e.onEventResize=function(a){a._e=a.e,a.task=new DayPilot.Task(a.e,d),"function"==typeof d.onTaskResize&&d.onTaskResize(a)},e.onEventResized=function(a){if("Auto"===d.taskGroupMode){var b=a._e,c=b.data.task;for(c.start=b.start(),c.end=b.end();b.data.parent;){var f=e.events.find(b.data.parent.id),g=h.childrenStartEnd(b.data.parent);f.start(g.start),f.end(g.end),e.events.update(f),b=f}}d.$0j.notify(),"function"==typeof d.onTaskResized&&d.onTaskResized(a)},e.onEventResizing=function(a){a.task=new DayPilot.Task(a.e,d),a._e=a.e,"function"==typeof d.onTaskResizing&&d.onTaskResizing(a)},e.onLinkCreate=function(a){a.source=d.tasks.find(a.from),a.target=d.tasks.find(a.to),"function"==typeof d.onLinkCreate&&d.onLinkCreate(a)},e.onLinkCreated=function(a){"function"==typeof d.onLinkCreated&&d.onLinkCreated(a)},e.onResourceExpand=function(a){var b=a.resource.$.row.task;b.row||(b.row={}),b.row.collapsed=!1},e.onResourceCollapse=function(a){var b=a.resource.$.row.task;b.row||(b.row={}),b.row.collapsed=!0}},h.$0t=function(a){for(var b=0;b<e.rowlist.length;b++){var c=e.rowlist[b];if(c.task===a)return e.internal.createRowObject(c)}return null},h.$0h=function(){e.links.list=d.links.list?d.links.list:[]},h.$0g=function(){e.resources=[],e.events.list=[],g.clearCache(),h.$0u(d.tasks.list,e.resources,null)},h.$0v=function(a){var b=a.type||"Task";a.children&&a.children.length&&(b="Group");var c={};for(var e in a)"children"!==e&&(c[e]=a[e]);var f={};if(f.data=c,f.type=b,c.box||(c.box={}),void 0===c.box.html)if("Task"===f.type){var g=c.complete||0;c.box.html=g+"%"}else c.box.html="";return void 0===c.box.htmlRight&&(c.box.htmlRight=c.text),"function"==typeof d.onBeforeTaskRender&&d.onBeforeTaskRender(f),f.type=b,f},h.$0u=function(b,c,f){if(DayPilot.isArray(b))for(var i=0;i<b.length;i++){var j=b[i];g.addToCache(j,f);var k=h.$0v(j),l=k.data,m=k.type,n={};if(DayPilot.Util.copyProps(l,n,["id","start","end","text","complete","tags","versions"]),DayPilot.Util.copyProps(l.box,n),n.parent=f,n.task=j,n.resource=l.id,"Group"==m){if(n.type="Group",n.html="",delete n.backColor,"Auto"===d.taskGroupMode){var o=h.childrenStartEnd(j);n.start=o.start,n.end=o.end,n.resizeDisabled=!0,n.moveDisabled=!0}}else"Milestone"===m?(j.end=j.start,l.end=l.start,n.end=l.start,n.barHidden=!0,n.resizeDisabled=!0,n.type="Milestone",n.width=d.taskHeight,delete n.backColor):"Task"===m&&a();n.moveVDisabled=!0,n.htmlRight=l.box.htmlRight,n.htmlLeft=l.box.htmlLeft,e.events.list.push(n);var p={};p.task=j,DayPilot.Util.copyProps(l.row,p),p.name=l.text,p.id=l.id,p.children=[],p.expanded=!l.row||!l.row.collapsed,j.children&&j.children.length&&h.$0u(j.children,p.children,j),c.push(p)}},h.childrenStartEnd=function(a){if(!a.children||!a.children.length){var b=a.start,c=a.end;return"Milestone"===a.type&&(c=b),{start:new DayPilot.Date(b),end:new DayPilot.Date(c)}}for(var b=null,c=null,d=0;d<a.children.length;d++){var e=h.childrenStartEnd(a.children[d]);(!b||e.start.getTime()<b.getTime())&&(b=e.start),(!c||e.end.getTime()>c.getTime())&&(c=e.end)}return{start:b,end:c}},this.rows={},this.rows.expand=function(a){e.rows.expand(a)},this.rows.expandAll=function(){e.rows.expandAll()},this.internal={},this.internal.initialized=function(){return d.$0i},this.internal.rowObjectForTaskData=h.$0t,this.$0j={},this.$0j.scope=null,this.$0j.notify=function(){d.$0j.scope&&d.$0j.scope.$apply()},this.$0w=null,this.$0x=function(a){var b={tasks:{preInit:function(){var a=this.data;a&&(DayPilot.isArray(a.list)?d.tasks.list=a.list:d.tasks.list=a)}},links:{preInit:function(){var a=this.data;a&&(DayPilot.isArray(a.list)?d.links.list=a.list:d.links.list=a)}},scrollTo:{postInit:function(){this.data&&d.scrollTo(this.data)}},scrollToTask:{postInit:function(){this.data&&d.scrollToTask(this.data)}}};this.$0w=b;for(var c in a)if(b[c]){var e=b[c];e.data=a[c],e.preInit&&e.preInit()}else d[c]=a[c]},this.$0o=function(){var a=this.$0w;for(var b in a){var c=a[b];c.postInit&&c.postInit()}},this.$0x(c)},"undefined"!=typeof jQuery&&function(a){a.fn.daypilotGantt=function(a){var b=null,c=this.each(function(){if(!this.daypilot){var c=new DayPilot.Gantt(this.id,a);c.init(),this.daypilot=c,b||(b=c)}});return 1===this.length?b:c}}(jQuery),function(){var b=DayPilot.am();b&&b.directive("daypilotGantt",function(){return{restrict:"E",template:"<div id='{{id}};'></div>",compile:function(b,c){return b.replaceWith(this.template.replace("{{id}};",c.id)),function(b,c,d){var e=new DayPilot.Gantt(c[0]);e.$0j.scope=b,e.init();var f=d.id;f&&(b[f]=e),b.$watch.call(b,d.daypilotConfig,function(a){e.$0x(a),e.update()},!0)}}}})}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(){void 0===DayPilot.Kanban&&(!function(){var a=DayPilot.sheet();a.add(".kanban_default_main","background-color: #fff; box-sizing: border-box; color: #333;"),a.add(".kanban_default_column","border: 6px solid #ccc; box-sizing: border-box;"),a.add(".kanban_default_column_header","color: #333; background-color: #bbb; padding: 5px;"),a.add(".kanban_default_column_body","background-color: #ddd;"),a.add(".kanban_default_column_swimlane_header","background-color: #ccc; padding: 2px;"),a.add(".kanban_default_card","box-sizing: border-box; cursor: default; margin: 3px; background-color: #fff;"),a.add(".kanban_default_card_header","xbackground-color: #eee; padding: 5px; font-size: 120%; font-weight: bold;"),a.add(".kanban_default_card_body","padding: 5px;"),a.add(".kanban_default_card_bar","cursor:move; background-color: #666;"),a.add(".kanban_default_card.kanban_default_card_source","opacity: 0.5;"),a.add(".kanban_default_shadow","background-color: #aaa; opacity: 0.5"),a.add(".kanban_default_column.kanban_default_column_over","border-color: #aaa;"),a.add(".kanban_default_column_over .kanban_default_column_header","background-color: #aaa;"),a.add(".kanban_default_column_swimlane_over.kanban_default_column_swimlane","background-color: #ccc"),a.commit()}(),DayPilot.Global.Kanban={},DayPilot.Global.Kanban.moving=null,DayPilot.Global.Kanban.$N=function(a){var b=DayPilot.Global.Kanban;if(b.moving&&b.moving.moved){var c=b.moving.div,d=c.source,e=d.control;e.$O();var f=DayPilot.mo3(e.nav.top,a),g=e.$P(f);if(!g)return;var h=e.$Q(f);if(!e.swimdata.isEmpty()&&!h)return;var i=null;h&&(i={id:h.source.id,data:h.source});var j=new DayPilot.Args;j.card=d,j.column=g,j.swimlane=i,e.$R(j)}},DayPilot.Kanban=function(a,b){this.v="1969";var c=this;this.barWidth=5,this.columnHeaderHeight=30,this.height=300,this.swimlaneHeaderHeight=20,this.theme="kanban_default",this.swimlanes=[],this.columns=[],this.cards={},this.cards.list=[],this.onCardClick=null,this.onCardClicked=null,this.onCardMove=null,this.onCardMoved=null,this.nav={},this.nav.columns=[],this.nav.top=null,this.coldata=DayPilot.list(),this.$S=function(){var a=c.nav.top;a.innerHTML="",a.dp=this,a.style.position="relative",a.style.height=c.height+"px",a.style.KhtmlUserSelect="none",a.style.MozUserSelect="none",a.style.webkitUserSelect="none",a.setAttribute("unselectable","on"),c.$T(a,"main"),DayPilot.re(this.nav.top,"mousemove",c.$U),DayPilot.re(window,"resize",c.$V)},this.$T=function(a,b){DayPilot.Util.addClass(a,c.$W("_"+b))},this.$X=function(a,b){DayPilot.Util.removeClass(a,c.$W("_"+b))},this.$W=function(a){var b=c.theme;return b?b+a:""},this.$Y=function(){c.$Z(),c.$00(),c.$01()},this.$Z=function(){c.swimdata=DayPilot.list(c.swimlanes).map(function(a,b){var c={};return c.id=a.id,c.index=b,c.data=a,c})},this.$00=function(){c.nav.columns=DayPilot.list(),c.nav.swimlanes=DayPilot.list(),c.coldata=DayPilot.list();var a=c.nav.top.clientWidth,b=a/this.columns.length;DayPilot.list(this.columns).each(function(a,d){var e=DayPilot.Util.div(c.nav.top,d*b,0,b);e.style.bottom="0px",c.$T(e,"column");var f=document.createElement("div");f.style.height=c.columnHeaderHeight+"px",f.innerHTML=a.name,c.$T(f,"column_header"),e.appendChild(f);var g=document.createElement("div");g.style.position="absolute",g.style.left="0px",g.style.right="0px",g.style.bottom="0px",g.style.top=c.columnHeaderHeight+"px",c.$T(g,"column_body"),e.appendChild(g),c.nav.columns.push(e);var h={};h.data=a,h.id=a.id,h.index=d,h.left=d*b,h.right=(d+1)*b,h.nav={},h.nav.div=e,h.nav.header=f,h.nav.body=g,h.swimpanels=DayPilot.list(),c.coldata.push(h),c.$02(h)})},this.$02=function(a){c.swimdata.isEmpty()||(a.nav.swimlanes=DayPilot.list(),c.swimdata.each(function(b,d){var e=100/c.swimdata.length,f=document.createElement("div");f.style.position="absolute",f.style.top=d*e+"%",f.style.height=e+"%",f.style.left="0px",f.style.right="0px",c.$T(f,"column_swimlane");var g=document.createElement("div");g.style.top="0px",g.style.left="0px",g.style.right="0px",g.style.height=c.swimlaneHeaderHeight+"px",c.$T(g,"column_swimlane_header"),g.innerHTML=b.data.name||"",f.appendChild(g);var h=document.createElement("div");h.style.position="absolute",h.style.top=c.swimlaneHeaderHeight+"px",h.style.left="0px",h.style.right="0px",h.style.bottom="0px",h.style.overflowY="auto",c.$T(h,"column_swimlane_body"),f.appendChild(h),a.nav.body.appendChild(f);var i={};i.id=b.data.id,i.data=b.data,i.nav={},i.nav.div=f,i.nav.header=g,i.nav.body=h,a.swimpanels.push(i),c.nav.swimlanes.push(f),f.source=i}))},this.$03=function(a,b){var d=c.$04(a);return d?d.swimpanels.find(function(a){return a.id===b}):null},this.$05=function(a){var b=a.data,d=c.$04(b.column);if(d){var e=d.nav.body;if(!c.swimdata.isEmpty()){var f=c.$03(b.column,b.swimlane);if(!f)return;e=f.nav.body}var g=b.barColor||d.data.barColor,h=document.createElement("div");h.style.position="relative",c.$T(h,"card");var i=document.createElement("div");i.style.position="absolute",i.style.top="0px",i.style.bottom="0px",i.style.left="0px",i.style.width=c.barWidth+"px",i.style.backgroundColor=g,c.$T(i,"card_bar"),h.appendChild(i);var j=document.createElement("div");j.innerHTML=b.name,j.style.marginLeft=c.barWidth+"px",c.$T(j,"card_header"),h.appendChild(j);var k=document.createElement("div");k.style.marginLeft=c.barWidth+"px",k.innerHTML=b.html||b.text||"",c.$T(k,"card_body"),h.appendChild(k),h.source=a,DayPilot.re(h,"click",c.$06),DayPilot.re(h,"mousedown",c.$07),e.appendChild(h),c.nav.cards.push(h)}},this.$O=function(){var a=DayPilot.Global.Kanban,b=a.moving.div;c.$X(b,"card_source"),c.coldata.each(function(a){c.$X(a.nav.div,"column_over")}),c.nav.swimlanes.each(function(a){c.$X(a,"column_swimlane_over")}),c.$08.clear(),a.moving=null},this.$06=function(a){c.$O();var b=this,d=new DayPilot.Args;d.card=b.source,c.$09(d)},this.$09=function(a){"function"==typeof c.onCardClick&&(c.onCardClick(a),a.preventDefault.value)||"function"==typeof c.onCardClicked&&c.onCardClicked(a)},this.$01=function(){c.nav.cards=[],DayPilot.list(c.cards.list).each(function(a){var b=new DayPilot.Card(a,c);c.$05(b)})},this.$07=function(a){var b=DayPilot.Global.Kanban,d=this;c.$T(d,"card_source");var e=DayPilot.mo3(d,a),f=DayPilot.mo3(c.nav.top,a);b.moving={div:d,offset:e,start:f},a.preventDefault()},this.$U=function(a){var b=DayPilot.Global.Kanban;b.moving&&(b.moving.moved=!0,c.$08.updatePosition(),a.preventDefault())},this.$P=function(a){return c.coldata.find(function(b){return b.left<=a.x&&a.x<=b.right})},this.$Q=function(a){var b=c.nav.swimlanes.find(function(b){var d=DayPilot.rel(b,c.nav.top);return d.x<=a.x&&a.x<=d.x+d.w&&d.y<=a.y&&a.y<=d.y+d.h});if(b)return b},this.$R=function(a){"function"==typeof c.onCardMove&&(c.onCardMove(a),a.preventDefault.value)||(c.$0a(a.card),a.card.data.column=a.column.id,a.swimlane&&(a.card.data.swimlane=a.swimlane.id),c.$05(a.card),"function"==typeof c.onCardMoved&&c.onCardMoved(a))},this.$0a=function(a){var b=c.cards.$0b(a);DayPilot.de(b),DayPilot.rfa(c.nav.cards,b)},this.cards.$0b=function(a){return DayPilot.list(c.nav.cards).find(function(b){return b.source.data===a.data})},this.$08={};var d=this.$08;this.$08.div=null,this.$08.updatePosition=function(a){d.div||d.create();var b=d.div,e=DayPilot.mo3(c.nav.top,a),f=DayPilot.Global.Kanban.moving,g=e.x-f.offset.x,h=e.y-f.offset.y;g-=Math.max(0,g+b.offsetWidth-c.nav.top.offsetWidth),b.style.left=g+"px",b.style.top=h+"px",c.coldata.each(function(a){c.$X(a.nav.div,"column_over")}),c.nav.swimlanes.each(function(a){c.$X(a,"column_swimlane_over")});var i=c.$P(e);i&&c.$T(i.nav.div,"column_over");var j=c.$Q(e);j&&c.$T(j,"column_swimlane_over")},this.$08.create=function(){var a=DayPilot.Global.Kanban.moving,b=a.div,e=document.createElement("div");e.style.width=b.offsetWidth+"px",e.style.height=b.offsetHeight+"px",e.style.position="absolute",c.$T(e,"shadow"),d.div=e,c.nav.top.appendChild(e)},this.$08.clear=function(){DayPilot.de(d.div),d.div=null},this.$04=function(a){return DayPilot.list(c.coldata).find(function(b){return b.id===a})},this.$V=function(a){c.$0c()},this.$0d=function(){DayPilot.Global.Kanban.globalHandlers||(DayPilot.Global.Kanban.globalHandlers=!0,DayPilot.re(document,"mouseup",DayPilot.Global.Kanban.$N))},this.$0c=function(){this.$S(),this.$Y()},this.update=function(){this.$0c()},this.init=function(){if(!a)throw"DayPilot.Kanban: placeholder id not specified in the constructor";var b=a.replace("#",""),c=document.getElementById(b);c.dp||(this.nav.top=c,this.$0c(),this.$0d())}},DayPilot.Card=function(a,b){this.data=a,this.control=b})}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),void 0===DayPilotMenu)var DayPilotMenu=DayPilot.MenuVisible={};if(function(){if(void 0===DayPilot.Menu){var a={};a.mouse=null,a.menu=null,a.clickRegistered=!1,a.hideTimeout=null,a.waitingSubmenu=null,DayPilot.Menu=function(b){var c=this;this.v="1969",this.zIndex=10,this.useShadow=!0,this.cssClassPrefix="menu_default",this.cssOnly=!0,this.menuTitle=null,this.showMenuTitle=!1,this.hideOnMouseOut=!1,this.$K=function(){},b&&DayPilot.isArray(b)&&(this.items=b),this.show=function(b,d){var d=d||{},e=null;if("string"==typeof b.id||"number"==typeof b.id?e=b.id:"function"==typeof b.id?e=b.id():"function"==typeof b.value&&(e=b.value()),void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),d.submenu||a.menuClean(),this.$K.submenu=null,null!==a.mouse){c.cssOnly||(c.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0."));var f=document.createElement("div");if(f.style.position="absolute",f.style.top="0px",f.style.left="0px",f.style.display="none",f.style.overflow="hidden",f.style.zIndex=this.zIndex+1,f.className=this.applyCssClass("main"),f.onclick=function(a){a.cancelBubble=!0,this.parentNode.removeChild(this)},this.hideOnMouseOut&&(f.onmousemove=function(b){clearTimeout(a.hideTimeout)},f.onmouseout=function(a){c.delayedHide()}),!this.items||0===this.items.length)throw"No menu items defined.";if(this.showMenuTitle){var g=document.createElement("div");g.innerHTML=this.menuTitle,g.className=this.applyCssClass("title"),f.appendChild(g)}for(var h=0;h<this.items.length;h++){var i=this.items[h],j=document.createElement("div");if(DayPilot.Util.addClass(j,this.applyCssClass("item")),i.items&&DayPilot.Util.addClass(j,this.applyCssClass("item_haschildren")),void 0!==i){if("-"===i.text){var k=document.createElement("div");j.appendChild(k)}else{var l=document.createElement("a");if(l.style.position="relative",l.style.display="block",i.disabled)DayPilot.Util.addClass(l,c.applyCssClass("item_disabled"));else if(i.href)l.href=i.href.replace(/\x7B0\x7D/gim,e),i.target&&l.setAttribute("target",i.target);else if(i.onclick){l.item=i,l.onclick=i.onclick;var m=function(b,c){return function(d){d.stopPropagation(),d.preventDefault(),b.onclick.call(c,d),a.menuClean(),window.setTimeout(function(){c.source.calendar.internal.touch.active=!1},500)}};l.ontouchstart=function(a){a.stopPropagation(),a.preventDefault(),l.source.calendar.internal.touch.active=!0},l.ontouchend=m(i,l)}else if(i.command){var n=function(a,b){return function(c){var d=b.source,e=a;e.action=e.action?e.action:"CallBack";var f=d.calendar||d.root;if(d instanceof DayPilot.Link)return void f.internal.linkMenuClick(e.command,d,e.action);if(d instanceof DayPilot.Selection)return void f.internal.timeRangeMenuClick(e.command,d,e.action);if(d instanceof DayPilot.Event)return void f.internal.eventMenuClick(e.command,d,e.action);if(d instanceof DayPilot.Selection)return void f.internal.timeRangeMenuClick(e.command,d,e.action);if(d instanceof DayPilot.Task)return void("resource"===d.menuType?f.internal.resourceHeaderMenuClick(e.command,b.menuSource,e.action):f.internal.eventMenuClick(e.command,b.menuSource,e.action));switch(d.menuType){case"resource":return void f.internal.resourceHeaderMenuClick(e.command,d,e.action);case"selection":return void f.internal.timeRangeMenuClick(e.command,d,e.action);default:return void f.internal.eventMenuClick(e.command,d,e.action)}c.preventDefault()}};l.onclick=n(i,l),l.ontouchend=n(i,l)}b&&b.isRow&&b.$.row.task?(l.source=new DayPilot.Task(b.$.row.task,b.calendar),l.source.menuType="resource"):b&&b.isEvent&&b.data.task?l.source=new DayPilot.Task(b,b.calendar):l.source=b,l.menuSource=b;var o=document.createElement("span");if(o.innerHTML=i.text,l.appendChild(o),i.image){var p=document.createElement("img");p.src=i.image,p.style.position="absolute",p.style.top="0px",p.style.left="0px",l.appendChild(p)}var q=function(b,d){return function(){var e=d.source,f=b,g=a.waitingSubmenu;if(g){if(g.parent===f)return;clearTimeout(g.timeout),a.waitingSubmenu=null}a.waitingSubmenu={},a.waitingSubmenu.parent=f,a.waitingSubmenu.timeout=setTimeout(function(){if(a.waitingSubmenu=null,(!c.$K.submenu||c.$K.submenu.item!==f)&&(c.$K.submenu&&c.$K.submenu.item!==f&&(DayPilot.Util.removeClass(c.$K.submenu.link.parentNode,c.applyCssClass("item_haschildren_active")),c.$K.submenu.menu.hide(),c.$K.submenu=null),f.items)){var g=c.cloneOptions();g.items=f.items,c.$K.submenu={},c.$K.submenu.menu=new DayPilot.Menu(g),c.$K.submenu.menu.show(e,{submenu:!0,parentLink:d,parentItem:b}),c.$K.submenu.item=f,c.$K.submenu.link=d,DayPilot.Util.addClass(d.parentNode,c.applyCssClass("item_haschildren_active"))}},300)}};l.onmouseover=q(i,l),j.appendChild(l)}f.appendChild(j)}}var r=function(b){window.setTimeout(function(){a.menuClean()},100)};f.onclick=r,f.ontouchend=r,f.onmousedown=function(a){a=a||window.event,a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation()},f.oncontextmenu=function(){return!1},document.body.appendChild(f),c.$K.visible=!0,c.$K.source=b,f.style.display="";var s=f.offsetHeight,t=f.offsetWidth;f.style.display="none";var u=document.documentElement.clientHeight,v=document.documentElement.clientWidth;if(function(){var c=a.mouse.x+1,d=a.mouse.y+1;if(a.mouse.clientY>u-s&&0!==u){var e=a.mouse.clientY-(u-s)+5;f.style.top=d-e+"px"}else f.style.top=d+"px";if(a.mouse.clientX>v-t&&0!==v){var g=a.mouse.clientX-(v-t)+5;f.style.left=c-g+"px"}else f.style.left=c+"px"}(),d.parentLink){var w=d.parentLink,x=parseInt(new DayPilot.StyleReader(f).get("border-top-width")),y=DayPilot.abs(d.parentLink.parentNode),z=y.x+w.offsetWidth,A=y.y-x;z+t>v&&(z=Math.max(0,y.x-t));var B=document.body.scrollTop+document.documentElement.scrollTop;A+s-B>u&&(A=Math.max(0,u-s+B)),f.style.left=z+"px",f.style.top=A+"px"}f.style.display="",this.addShadow(f),this.$K.div=f,d.submenu||(DayPilot.Menu.active=this)}},this.applyCssClass=function(a){var b=this.theme||this.cssClassPrefix,c=this.cssOnly?"_":"";return b?b+c+a:""},this.cloneOptions=function(){for(var a={},b=["cssOnly","cssClassPrefix","useShadow","zIndex"],c=0;c<b.length;c++){var d=b[c];a[d]=this[d]}return a},this.hide=function(){this.$K.submenu&&this.$K.submenu.menu.hide(),this.removeShadow(),this.$K.div&&this.$K.div.parentNode===document.body&&document.body.removeChild(this.$K.div),c.$K.visible=!1,c.$K.source=null},this.delayedHide=function(){a.hideTimeout=setTimeout(function(){c.hide()},200)},this.cancelHideTimeout=function(){clearTimeout(a.hideTimeout)},this.init=function(b){a.mouseMove(b)},this.addShadow=function(a){if(this.useShadow&&!this.cssOnly&&a){this.$K.shadows&&this.$K.shadows.length>0&&this.removeShadow(),this.$K.shadows=[];for(var b=0;b<5;b++){var c=document.createElement("div");c.style.position="absolute",c.style.width=a.offsetWidth+"px",c.style.height=a.offsetHeight+"px",c.style.top=a.offsetTop+b+"px",c.style.left=a.offsetLeft+b+"px",c.style.zIndex=this.zIndex,c.style.filter="alpha(opacity:10)",c.style.opacity=.1,c.style.backgroundColor="#000000",document.body.appendChild(c),this.$K.shadows.push(c)}}},this.removeShadow=function(){if(this.$K.shadows){for(var a=0;a<this.$K.shadows.length;a++)document.body.removeChild(this.$K.shadows[a]);this.$K.shadows=[]}};var d=DayPilot.isArray(b)?null:b;if(d)for(var e in d)this[e]=d[e];a.clickRegistered||(DayPilot.re(document,"mousemove",a.mouseMove),DayPilot.re(document,"touchmove",a.touchMove),DayPilot.re(document,"touchstart",a.touchStart),DayPilot.re(document,"touchend",a.touchEnd),DayPilot.re(document,"mousedown",a.menuClean),a.clickRegistered=!0)},a.menuClean=function(a){void 0!==DayPilot.Menu.active&&DayPilot.Menu.active&&(DayPilot.Menu.active.hide(),DayPilot.Menu.active=null)},a.mouseMove=function(b){void 0!==a&&(a.mouse=a.mousePosition(b))},a.touchMove=function(b){void 0!==a&&(a.mouse=a.touchPosition(b))},a.touchStart=function(b){void 0!==a&&(a.mouse=a.touchPosition(b))},a.touchEnd=function(b){a.menuClean()},a.touchPosition=function(a){if(!a||!a.touches)return null;var b=a.touches[0],c={};return c.x=b.pageX,c.y=b.pageY,c.clientX=b.clientX,c.clientY=b.clientY,c},a.mousePosition=function(a){var b=0,c=0;if(!a)var a=window.event;a.pageX||a.pageY?(b=a.pageX,c=a.pageY):(a.clientX||a.clientY)&&(b=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,c=a.clientY+document.body.scrollTop+document.documentElement.scrollTop);var d={};return d.x=b,d.y=c,d.clientY=a.clientY,d.clientX=a.clientX,d},DayPilot.Menu.touchPosition=function(b){b.touches&&(a.mouse=a.touchPosition(b))},DayPilot.MenuVisible.Menu=a.Menu,"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),void 0===DayPilot&&(DayPilot={}),function(){DayPilot.ModalStatic={},DayPilot.ModalStatic.list=[],DayPilot.ModalStatic.hide=function(){if(this.list.length>0){var a=this.list.pop();a&&a.hide()}},DayPilot.ModalStatic.remove=function(a){for(var b=DayPilot.ModalStatic.list,c=0;c<b.length;c++)if(b[c]===a)return void b.splice(c,1)},DayPilot.ModalStatic.close=function(a){DayPilot.ModalStatic.result(a),DayPilot.ModalStatic.hide()},DayPilot.ModalStatic.result=function(a){var b=DayPilot.ModalStatic.list;b.length>0&&(b[b.length-1].result=a)},DayPilot.ModalStatic.displayed=function(a){for(var b=DayPilot.ModalStatic.list,c=0;c<b.length;c++)if(b[c]===a)return!0;return!1},DayPilot.ModalStatic.stretch=function(){if(this.list.length>0){var a=this.list[this.list.length-1];a&&a.stretch()}};navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE");DayPilot.Modal=function(a){this.autoStretch=!0,this.autoStretchFirstLoadOnly=!1,this.border="10px solid #ccc",this.corners="Rounded",this.className=null,this.dragDrop=!0,this.height=200,this.loadingHtml=null,this.maxHeight=null,this.opacity=30,this.scrollWithPage=!0,this.top=20,this.useIframe=!0,this.width=500,this.zIndex=null,this.closed=null,this.onClosed=null;var b=this;this.id="_"+(new Date).getTime()+"n"+10*Math.random(),this.registered=!1,this.start=null,this.coords=null,this.showHtml=function(a){if(DayPilot.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";if(this.div||this.create(),this.update(),this.useIframe){var b=function(a,b){return function(){a.setInnerHTML(a.id+"iframe",b)}};window.setTimeout(b(this,a),0)}else a.nodeType?this.div.appendChild(a):this.div.innerHTML=a;this.update(),this.register()},this.rounded=function(){return this.corners&&"rounded"===this.corners.toLowerCase()},this.showUrl=function(a){if(DayPilot.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";this.useIframe=!0,this.div||this.create();var b=this.loadingHtml;b&&(this.iframe.src="about:blank",this.setInnerHTML(this.id+"iframe",b)),this.re(this.iframe,"load",this.onIframeLoad),this.iframe.src=a,this.update(),this.register()},this.update=function(){var a=window,c=document,d=a.pageYOffset?a.pageYOffset:c.documentElement&&c.documentElement.scrollTop?c.documentElement.scrollTop:c.body.scrollTop;this.hideDiv.style.filter="alpha(opacity="+this.opacity+")",this.hideDiv.style.opacity="0."+this.opacity,this.hideDiv.style.backgroundColor="black",this.zIndex&&(this.hideDiv.style.zIndex=this.zIndex),this.hideDiv.style.display="",window.setTimeout(function(){b.hideDiv.onclick=function(){b.hide()}},500),this.div.className=this.className,this.div.style.border=this.border,this.rounded()&&(this.div.style.MozBorderRadius="5px",this.div.style.webkitBorderRadius="5px",this.div.style.borderRadius="5px"),this.div.style.marginLeft="-"+Math.floor(this.width/2)+"px",this.div.style.position="absolute",this.div.style.top=d+this.top+"px",this.div.style.width=this.width+"px",this.zIndex&&(this.div.style.zIndex=this.zIndex),this.height&&(this.div.style.height=this.height+"px"),this.useIframe&&this.height&&(this.iframe.style.height=this.height+"px"),this.div.style.display="",DayPilot.ModalStatic.list.push(this)},this.onIframeLoad=function(){b.iframe.contentWindow.modal=b,b.autoStretch&&b.stretch()},this.stretch=function(){for(var a=function(){return b.windowRect().y},c=function(){return b.windowRect().x},d=c()-40,e=this.width;e<d&&this.hasHorizontalScrollbar();e+=10)this.div.style.width=e+"px",this.div.style.marginLeft="-"+Math.floor(e/2)+"px";for(var f=this.maxHeight||a()-2*this.top,g=this.height;g<f&&this.hasVerticalScrollbar();g+=10)this.iframe.style.height=g+"px",this.div.style.height=g+"px";this.autoStretchFirstLoadOnly&&this.ue(this.iframe,"load",this.onIframeLoad)},this.hasHorizontalScrollbar=function(){for(var a=this.iframe.contentWindow.document,b="BackCompat"===a.compatMode?a.body:a.documentElement,c=b.scrollWidth,d=a.body.children,e=0;e<d.length;e++){var f=d[e].offsetLeft+d[e].offsetWidth;c=Math.max(c,f)}return c>b.clientWidth},this.hasVerticalScrollbar=function(){for(var a=this.iframe.contentWindow.document,b="BackCompat"===a.compatMode?a.body:a.documentElement,c=b.scrollHeight,d=a.body.children,e=0;e<d.length;e++){var f=d[e].offsetTop+d[e].offsetHeight;c=Math.max(c,f)}return c>b.clientHeight},this.windowRect=function(){var a=document;if("CSS1Compat"===a.compatMode&&a.documentElement&&a.documentElement.clientWidth){var b=a.documentElement.clientWidth,c=a.documentElement.clientHeight;return{x:b,y:c}}var b=a.body.clientWidth,c=a.body.clientHeight;return{x:b,y:c}},this.register=function(){this.registered||(this.re(window,"resize",this.resize),this.re(window,"scroll",this.resize),this.dragDrop&&(this.re(document,"mousemove",this.drag),this.re(document,"mouseup",this.drop)),this.registered=!0)},this.drag=function(a){if(b.coords){var a=a||window.event,c=b.mc(a),d=c.x-b.coords.x,e=c.y-b.coords.y;b.div.style.marginLeft="0px",b.div.style.top=b.start.y+e+"px",b.div.style.left=b.start.x+d+"px"}},this.drop=function(a){b.coords&&(b.unmaskIframe(),b.coords=null)},this.maskIframe=function(){if(this.useIframe){var a=80,b=document.createElement("div");b.style.backgroundColor="#ffffff",b.style.filter="alpha(opacity="+a+")",b.style.opacity="0."+a,b.style.width="100%",b.style.height=this.height+"px",b.style.position="absolute",b.style.left="0px",b.style.top="0px",this.div.appendChild(b),this.mask=b}},this.unmaskIframe=function(){this.useIframe&&(this.div.removeChild(this.mask),this.mask=null)},this.resize=function(){if(b.hideDiv&&b.div&&"none"!==b.hideDiv.style.display&&"none"!==b.div.style.display){var a=window.pageYOffset?window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;b.scrollWithPage||(b.div.style.top=a+b.top+"px")}},this.re=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},this.ue=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)},this.mc=function(a){return a.pageX||a.pageY?{x:a.pageX,y:a.pageY}:{x:a.clientX+document.documentElement.scrollLeft,y:a.clientY+document.documentElement.scrollTop}},this.abs=function(a){for(var b={x:a.offsetLeft,y:a.offsetTop};a.offsetParent;)a=a.offsetParent,b.x+=a.offsetLeft,b.y+=a.offsetTop;return b},this.create=function(){var a=document.createElement("div");a.id=this.id+"hide",a.style.position="fixed",a.style.left="0px",a.style.top="0px",a.style.right="0px",a.style.bottom="0px",a.style.backgroundColor="black",a.style.opacity=.5,a.oncontextmenu=function(){return!1},document.body.appendChild(a);var b=document.createElement("div");b.id=this.id+"popup",b.style.position="fixed",b.style.left="50%",b.style.top="0px",b.style.backgroundColor="white",b.style.width="50px",b.style.height="50px",this.dragDrop&&(b.onmousedown=this.dragStart);var d=null;this.useIframe&&(d=document.createElement("iframe"),d.id=this.id+"iframe",d.name=this.id+"iframe",d.frameBorder="0",d.style.width="100%",d.style.height="50px",b.appendChild(d)),document.body.appendChild(b),this.div=b,this.iframe=d,this.hideDiv=a},this.dragStart=function(a){b.maskIframe(),b.coords=b.mc(a||window.event),b.start={x:b.div.offsetLeft,y:b.div.offsetTop}},this.setInnerHTML=function(a,b){var c=window.frames[a],d=c.contentWindow||c.document||c.contentDocument;d.document&&(d=d.document),null==d.body&&d.write("<body></body>"),b.nodeType?d.body.appendChild(b):d.body.innerHTML=b},this.close=function(a){this.result=a,this.hide()},this.hide=function(){if(this.div&&(this.div.style.display="none",this.hideDiv.style.display="none",this.useIframe||(this.div.innerHTML=null)),DayPilot.ModalStatic.remove(this),this.onClosed){var a={};a.result=this.result,this.onClosed(a)}else this.closed&&this.closed()},this.$J=function(){if(a)for(var b in a)this[b]=a[b]},this.$J()},DayPilot.Modal.close=function(a){if(!(parent&&parent.DayPilot&&parent.DayPilot.ModalStatic))throw"Unable to close DayPilot.Modal dialog.";parent.DayPilot.ModalStatic.close(a)},DayPilot.Modal.opener=function(){return parent&&parent.DayPilot&&parent.DayPilot.ModalStatic&&parent.DayPilot.ModalStatic.list[parent.DayPilot.ModalStatic.list.length-1]}}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),void 0===DayPilotMonth)var DayPilotMonth=DayPilot.MonthVisible={};if(function(){var a=function(){};if(void 0===DayPilot.Month){var b={};DayPilot.Month=function(c,d){this.v="1969",this.nav={};var e=this;this.id=c,this.isMonth=!0,this.api=2,this.$20=!1,this.hideUntilInit=!0,this.startDate=new DayPilot.Date,this.width="100%",this.cssClassPrefix="month_default",this.cellHeight=100,this.cellMarginBottom=0,this.allowMultiSelect=!0,this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.doubleClickTimeout=300,this.eventFontColor="#000000",this.eventFontFamily="Tahoma",this.eventFontSize="11px",this.headerBackColor="#ECE9D8",this.headerFontColor="#000000",this.headerFontFamily="Tahoma",this.headerFontSize="10pt",this.headerHeight=20,this.heightSpec="Auto",this.weekStarts=0,this.innerBorderColor="#cccccc",this.borderColor="black",this.eventHeight=25,this.cellHeaderHeight=16,this.numberFormat="0.00",this.clientState={},this.afterRender=function(){},this.backColor="#FFFFD5",this.nonBusinessBackColor="#FFF4BC",this.cellHeaderBackColor="",this.cellHeaderFontColor="#000000",this.cellHeaderFontFamily="Tahoma",this.cellHeaderFontSize="10pt",this.cssOnly=!0,this.eventBackColor="White",this.eventBorderColor="Black",this.eventCorners="Regular",this.eventFontColor="#000000",this.eventFontFamily="Tahoma",this.eventFontSize="11px",this.cellWidth=14.285,this.lineSpace=1,this.locale="en-us",this.messageHideAfter=5e3,this.notifyCommit="Immediate",this.visible=!0,this.eventMoveToPosition=!1,this.eventTextLayer="Top",this.eventStartTime=!1,this.eventEndTime=!1,this.eventStartEndWidth=60,this.eventTextAlignment=null,this.eventTextLeftIndent=20,this.showWeekend=!0,this.cellMode=!1,this.shadowType="Fill",this.tapAndHoldTimeout=300,this.timeFormat="Auto",this.eventTimeFontColor="gray",this.eventTimeFontFamily="Tahoma",this.eventTimeFontSize="8pt",this.viewType="Month",this.weeks=1,this.eventClickHandling="Enabled",this.eventDeleteHandling="Disabled",this.eventDoubleClickHandling="Enabled",this.eventMoveHandling="Update",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.eventSelectHandling="Update",this.headerClickHandling="Enabled",this.timeRangeSelectedHandling="Enabled",this.timeRangeDoubleClickHandling="Enabled",this.backendUrl=null,this.cellEvents=[],this.elements={},this.elements.events=[],this.$21={},this.$21.events={},this.events={},this.$22=0,this.members={},this.members.ignore=["internal","nav","debug","temp","elements","members","cellProperties"],this.$23=function(a,b){var a=DayPilot.Util.parseJSON(a);if(a.BubbleGuid){var c=a.BubbleGuid,d=this.bubbles[c];return delete this.bubbles[c],e.$24(),void(void 0!==a.Result.BubbleHTML&&d.updateView(a.Result.BubbleHTML,d))}if(a.CallBackRedirect)return void(document.location.href=a.CallBackRedirect);if(void 0!==a.ClientState&&(e.clientState=a.ClientState),"None"===a.UpdateType)return e.$25(a.CallBackData,!0),void(a.Message&&e.message(a.Message));if(a.VsUpdate){var f=document.createElement("input");f.type="hidden",f.name=e.id+"_vsupdate",f.id=f.name,f.value=a.VsUpdate,e.$26.innerHTML="",e.$26.appendChild(f)}e.events.list=a.Events,void 0!==a.TagFields&&(e.tagFields=a.TagFields),void 0!==a.SortDirections&&(e.sortDirections=a.SortDirections),"Full"===a.UpdateType&&(e.cellProperties=a.CellProperties,e.headerProperties=a.HeaderProperties,e.startDate=a.StartDate,void 0!==a.ShowWeekend&&(e.showWeekend=a.ShowWeekend),e.headerBackColor=a.HeaderBackColor?a.HeaderBackColor:e.headerBackColor,e.backColor=a.BackColor?a.BackColor:e.backColor,e.nonBusinessBackColor=a.NonBusinessBackColor?a.NonBusinessBackColor:e.nonBusinessBackColor,e.locale=a.Locale?a.Locale:e.locale,e.timeFormat=a.TimeFormat?a.TimeFormat:e.timeFormat,void 0!==a.WeekStarts&&(e.weekStarts=a.WeekStarts),e.hashes=a.Hashes),e.multiselect.clear(!0),e.multiselect.initList=a.SelectedEvents,e.$27(),e.$28(),e.$29(),"Full"===a.UpdateType&&(e.$2a(),e.$2b()),e.$2c(),e.$2d(),e.$2e(),e.$25(a.CallBackData,!0),e.$2f(),a.Message&&e.message(a.Message)},this.$25=function(a,b){var c=function(a,b){return function(){if(e.$2g()){if("function"==typeof e.onAfterRender){var c={};c.isCallBack=b,c.data=a,e.onAfterRender(c)}}else e.afterRender&&e.afterRender(a,b)}};window.setTimeout(c(a,b),0)},this.$2g=function(){return 2===e.api},this.$2h=function(a){var b=this.theme||this.cssClassPrefix;return b?b+a:""},this.$29=function(){if(this.events.list){if("function"==typeof this.onBeforeEventRender)for(var a=this.events.list.length,b=0;b<a;b++)this.$2i(b);this.cellMode?this.$2j():this.$2k()}},this.$24=function(){},this.$2k=function(){if(this.events.list){for(var a=0;a<this.events.list.length;a++){var b=this.events.list[a];if(b.start=new DayPilot.Date(b.start),b.end=new DayPilot.Date(b.end),!(b.start.getTime()>b.end.getTime()))for(var c=0;c<this.rows.length;c++){var d=this.rows[c];if(d.belongsHere(b)){var f=new DayPilot.Event(b,e);d.events.push(f),"function"==typeof this.onBeforeEventRender&&(f.cache=this.$21.events[a])}}}for(var g=0;g<this.rows.length;g++){var d=this.rows[g];d.events.sort(this.$2l);for(var h=0;h<this.rows[g].events.length;h++){var i=d.events[h],j=d.getStartColumn(i),k=d.getWidth(i);d.putIntoLine(i,j,k,g)}}}},this.$2j=function(){this.cellEvents=[];for(var a=0;a<this.$2m();a++){this.cellEvents[a]=[];for(var b=0;b<this.rows.length;b++){var c={},d=this.firstDate.addDays(7*b+a);c.start=d,c.end=d.addDays(1),c.events=[],this.cellEvents[a][b]=c}}for(var f=0;f<this.events.list.length;f++){var g=this.events.list[f];if(g.start=new DayPilot.Date(g.start),g.end=new DayPilot.Date(g.start),!(g.start.getTime()>g.end.getTime()))for(var a=0;a<this.$2m();a++)for(var b=0;b<this.rows.length;b++){var c=this.cellEvents[a][b];if(g.start.getTime()>=c.start.getTime()&&g.start.getTime()<c.end.getTime()){var h=new DayPilot.Event(g,e);c.events.push(h),"function"==typeof this.onBeforeEventRender&&(h.cache=this.$21.events[f])}}}for(var a=0;a<this.$2m();a++)for(var b=0;b<this.rows.length;b++){var c=this.cellEvents[a][b];c.events.sort(this.$2l)}},this.$27=function(){for(var a=0;a<this.elements.events.length;a++){var b=this.elements.events[a];b.event=null,b.click=null,b.parentNode.removeChild(b)}this.elements.events=[]},this.$2e=function(){this.$21.events={},this.cellMode?this.$2n():this.$2o(),this.multiselect.redraw()},this.$2n=function(){this.elements.events=[];for(var a=0;a<this.$2m();a++)for(var b=0;b<this.rows.length;b++)for(var c=this.cellEvents[a][b],e=(this.cells[a][b],0);e<c.events.length;e++){var f=c.events[e];f.part.colStart=a,f.part.colWidth=1,f.part.row=b,f.part.line=e,f.part.startsHere=!0,f.part.endsHere=!0,this.$2p(f)}},this.$2o=function(){this.elements.events=[];for(var a=0;a<this.rows.length;a++)for(var b=this.rows[a],c=0;c<b.lines.length;c++)for(var d=b.lines[c],e=0;e<d.length;e++)this.$2p(d[e])},this.$2q=function(a,b){if(!(a&&b&&a.start&&b.start))return 0;var c=a.start().ticks-b.start().ticks;return 0!==c?c:b.end().ticks-a.end().ticks},this.$2l=function(a,b){if(!a||!b)return 0;if(!(a.data&&b.data&&a.data.sort&&b.data.sort&&0!==a.data.sort.length&&0!==b.data.sort.length))return e.$2q(a,b);for(var c=0,d=0;0===c&&void 0!==a.data.sort[d]&&void 0!==b.data.sort[d];)c=a.data.sort[d]===b.data.sort[d]?0:e.$2r(a.data.sort[d],b.data.sort[d],e.sortDirections[d]),d++;return c},this.$2r=function(a,b,c){var d="desc"!==c,e=d?-1:1,f=-e;if(null===a&&null===b)return 0;if(null===b)return f;if(null===a)return e;var g=[];return g[0]=a,g[1]=b,g.sort(),a===g[0]?e:f},this.$2s=function(a,c,d,e,f,g){f||(f=0);var h=e;this.shadow={},this.shadow.list=[],this.shadow.start={x:a,y:c},this.shadow.width=e,this.eventMoveToPosition&&(h=1,this.shadow.position=d);var i=7*c+a-f;i<0&&(h+=i,a=0,c=0);for(var j=f;j>=7;)c--,j-=7;if(j>a){j>a+(7-this.$2m())?(c--,a=a+7-j):(h=h-j+a,a=0)}else a-=j;c<0&&(c=0,a=0);var l=null;for(b.resizingEvent?l="w-resize":b.movingEvent&&(l="move"),this.nav.top.style.cursor=l;h>0&&c<this.rows.length;){var m=Math.min(this.$2m()-a,h),n=this.rows[c],o=this.$2t(c),p=n.getHeight();this.eventMoveToPosition&&(o=this.$2u(c,d),p=2);var q=document.createElement("div");q.setAttribute("unselectable","on"),q.style.position="absolute",q.style.left=this.$2v()*a+"%",q.style.width=this.$2v()*m+"%",q.style.top=o+"px",q.style.height=p+"px",q.style.cursor=l;var r=document.createElement("div");r.setAttribute("unselectable","on"),q.appendChild(r),this.cssOnly&&(q.className=this.$2h("_shadow"),r.className=this.$2h("_shadow_inner")),this.cssOnly||(r.style.position="absolute",r.style.top="0px",r.style.right="0px",r.style.left="0px",r.style.bottom="0px","Fill"===this.shadowType?(r.style.backgroundColor="#aaaaaa",r.style.opacity=.5,r.style.filter="alpha(opacity=50)",g&&g.event&&(r.style.overflow="hidden",r.style.fontSize=this.eventFontSize,r.style.fontFamily=this.eventFontFamily,r.style.color=this.eventFontColor,r.innerHTML=g.event.client.innerHTML()?g.event.client.innerHTML():g.event.text())):r.style.border="2px dotted #666666");this.nav.events.appendChild(q),this.shadow.list.push(q),h-=m+7-this.$2m(),a=0,c++}},this.$2w=function(){if(this.shadow){this.nav.events;DayPilot.de(this.shadow.list),this.shadow=null,this.nav.top.style.cursor=""}},this.$2u=function(a,b){for(var c=0,d=0;d<a;d++)c+=this.rows[d].getHeight();return c+=this.cellHeaderHeight,c+=b*h.lineHeight()},this.$2x=function(a,b){return this.firstDate.addDays(7*b+a)},this.$2i=function(a){var b=this.$21.events,c=this.events.list[a],d={};for(var e in c)d[e]=c[e];if("function"==typeof this.onBeforeEventRender){var f={};f.e=d,f.data=d,this.onBeforeEventRender(f)}b[a]=d},this.$2p=function(a,b){var b=this.cellMode,c=a.part.row,d=a.part.line,g=a.part.colStart,i=a.part.colWidth,j=a.cache||a.data,k=b?0:this.$2v()*g,l=b?100:this.$2v()*i,m=b?d*h.lineHeight():this.$2u(c,d),n=document.createElement("div");n.setAttribute("unselectable","on"),n.style.height=h.eventHeight()+"px",this.cssOnly?(n.style.position="relative",n.style.overflow="hidden",n.className=this.$2h("_event")):n.style.fontFamily=this.eventFontFamily,j.cssClass&&DayPilot.Util.addClass(n,j.cssClass),n.event=a,b?(n.style.marginRight="2px",n.style.marginBottom="2px"):(n.style.width=l+"%",n.style.position="absolute",n.style.left=k+"%",n.style.top=m+"px"),this.showToolTip&&j.toolTip&&!this.bubble&&(n.title=j.toolTip),n.onclick=this.$2y,n.ondblclick=this.$2z,n.oncontextmenu=this.$2A,n.onmousedown=this.$2B,n.onmousemove=this.$2C,n.onmouseout=this.$2D,n.ontouchstart=f.onEventTouchStart,n.ontouchmove=f.onEventTouchMove,n.ontouchend=f.onEventTouchEnd,a.part.startsHere||DayPilot.Util.addClass(n,this.$2h("_event_continueleft")),a.part.endsHere||DayPilot.Util.addClass(n,this.$2h("_event_continueright"));var o=document.createElement("div");o.setAttribute("unselectable","on"),o.className=this.$2h("_event_inner"),a.client.innerHTML()?o.innerHTML=a.client.innerHTML():o.innerHTML=a.text(),j.backColor&&(o.style.background=j.backColor,(DayPilot.browser.ie9||DayPilot.browser.ielt9)&&(o.style.filter="")),n.appendChild(o),this.eventTextAlignment&&(o.style.textAlign=this.eventTextAlignment.toLowerCase());var p=this.$2E.locale(),q=e.eventStartEndWidth;if(this.eventStartTime){var r="Clock12Hours"===e.$2E.timeFormat()?a.start().toString("h tt",p):a.start().toString("H",p),s={left:5,top:3,width:q,bottom:2,v:"Visible",html:r,css:e.$2h("_event_timeleft")},t=DayPilot.Areas.createArea(n,a,s);n.appendChild(t),o.style.paddingLeft=q+"px"}if(this.eventEndTime){var r="Clock12Hours"===e.$2E.timeFormat()?a.end().toString("h tt",p):a.end().toString("H",p),s={right:5,top:3,width:q,bottom:2,v:"Visible",html:r,css:e.$2h("_event_timeright")},t=DayPilot.Areas.createArea(n,a,s);n.appendChild(t),o.style.paddingRight=q+"px"}if(j.areas)for(var u=j.areas,v=0;v<u.length;v++){var s=u[v];if("Visible"===s.v){var t=DayPilot.Areas.createArea(n,a,s);n.appendChild(t)}}this.elements.events.push(n),b?this.cells[g][c].body.appendChild(n):this.nav.events.appendChild(n),e.multiselect.$2F(n.event)&&e.multiselect.add(n.event,!0);var w=n;if(e.$2g()){if("function"==typeof e.onAfterEventRender){var x={};x.e=w.event,x.div=w,e.onAfterEventRender(x)}}else e.afterEventRender&&e.afterEventRender(w.event,w)},this.$2y=function(a){f.start||e.$2G(this,a)},this.$2z=function(a){e.$2H(this,a)},this.$2C=function(a){var c=this,d=c.event;if(void 0!==b&&!b.movingEvent&&!b.resizingEvent){var f=DayPilot.mo3(c,a);if(f){!function(){var a=c;if(!a.active){var b=[];"Disabled"!==e.eventDeleteHandling&&b.push({action:"JavaScript",v:"Hover",w:17,h:17,top:2,right:2,css:e.$2h("_event_delete"),js:function(a){e.$2I(a)}});var d=a.event.cache?a.event.cache.areas:a.event.data.areas;d&&d.length>0&&(b=b.concat(d)),DayPilot.Areas.showAreas(a,a.event,null,b)}}(),e.cssOnly&&e.$2J(c.event).each(function(a){DayPilot.Util.addClass(a,e.$2h("_event_hover"))});var g=6;if(!e.cellMode&&f.x<=g&&d.client.resizeEnabled()?d.part.startsHere?(c.style.cursor="w-resize",c.dpBorder="left"):c.style.cursor="not-allowed":!e.cellMode&&c.clientWidth-f.x<=g&&d.client.resizeEnabled()?d.part.endsHere?(c.style.cursor="e-resize",c.dpBorder="right"):c.style.cursor="not-allowed":c.style.cursor="default",void 0!==DayPilotBubble&&e.bubble&&"Disabled"!==e.eventHoverHandling)if(b.movingEvent||b.resizingEvent)DayPilotBubble.hideActive();else{var h=this.$2K&&f.x===this.$2K.x&&f.y===this.$2K.y;h||(this.$2K=f,e.bubble.showEvent(c.event))}}}},this.$2D=function(a){var b=this;void 0!==DayPilotBubble&&e.bubble&&e.bubble.hideOnMouseOut(),b.style.cursor="",e.cssOnly&&e.$2J(b.event).each(function(a){DayPilot.Util.removeClass(a,e.$2h("_event_hover"))}),DayPilot.Areas.hideAreas(b,a)},this.$2A=function(){var a=this;return e.$2L(a.event),!1},this.$2B=function(a){if(!f.start){var c=this,d=c.event,g=d.part.row,h=d.part.colStart,i=d.part.line,j=d.part.colWidth;a=a||window.event;var k=DayPilot.Util.mouseButton(a);if(a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation(),k.left)if(void 0!==DayPilotBubble&&e.bubble&&DayPilotBubble.hideActive(),b.movingEvent=null,"w-resize"===this.style.cursor||"e-resize"===this.style.cursor){var l={};l.start={},l.start.x=h,l.start.y=g,l.event=c.event,l.width=DayPilot.DateUtil.daysSpan(l.event.start(),l.event.end())+1,l.direction=this.style.cursor,b.resizingEvent=l}else if("move"===this.style.cursor||d.client.moveEnabled()){e.$2w();var m=DayPilot.mo3(e.nav.events,a);if(!m)return;var n=e.$2M(m.x,m.y);if(!n)return;var o=DayPilot.DateUtil.daysDiff(d.start(),e.rows[g].start),p=7*n.y+n.x-(7*g+h);o&&(p+=o);var q={};q.start={},q.start.x=h,q.start.y=g,q.start.line=i,q.offset=e.eventMoveToPosition?0:p,q.colWidth=j,q.event=c.event,q.coords=m,b.movingEvent=q}}},this.temp={},this.temp.getPosition=function(){if(!e.coords)return null;var a=e.$2M(e.coords.x,e.coords.y);if(!a)return null;var b=new DayPilot.Date(e.$2x(a.x,a.y)),a={};return a.start=b,a.end=b.addDays(1),a},this.$2N={};var f=e.$2N;f.active=!1,f.start=!1,f.timeouts=[],f.onEventTouchStart=function(a){if(!f.active&&!f.start){f.clearTimeouts(),f.start=!0,f.active=!1;var b=this,c=e.tapAndHoldTimeout;f.timeouts.push(window.setTimeout(function(){f.active=!0,f.start=!1;var c=f.relativeCoords(a);f.startMoving(b,c),a.preventDefault()},c)),a.stopPropagation()}},f.onEventTouchMove=function(a){f.clearTimeouts(),f.start=!1},f.onEventTouchEnd=function(a){f.clearTimeouts(),f.start&&e.$2O(this,a),window.setTimeout(function(){f.start=!1,f.active=!1},500)},f.onMainTouchStart=function(a){if(!f.active&&!f.start){f.clearTimeouts(),f.start=!0,f.active=!1;var b=e.tapAndHoldTimeout;f.timeouts.push(window.setTimeout(function(){f.active=!0,f.start=!1,a.preventDefault();var b=f.relativeCoords(a);f.startRange(b)},b))}},f.onMainTouchMove=function(a){if(f.clearTimeouts(),f.start=!1,f.active){a.preventDefault();var b=f.relativeCoords(a);if(f.moving)return void f.updateMoving(b);f.range&&f.updateRange(b)}},f.onMainTouchEnd=function(a){if(f.clearTimeouts(),f.active){if(f.moving){var c=(f.moving,f.moving.event),d=e.shadow.start,g=e.shadow.position,h=f.moving.offset;e.$2w(),f.moving=null,e.$2P(c,d.x,d.y,h,a,g)}if(f.range){var i=f.range,d=new DayPilot.Date(e.$2x(i.from.x,i.from.y)),j=d.addDays(i.width);f.range=null,e.$2Q(d,j)}}window.setTimeout(function(){f.start=!1,f.active=!1},500)},f.clearTimeouts=function(){for(var a=0;a<f.timeouts.length;a++)clearTimeout(f.timeouts[a]);f.timeouts=[]},f.relativeCoords=function(a){var b=e.nav.events,c=a.touches[0].pageX,d=a.touches[0].pageY,g=DayPilot.abs(b);return{x:c-g.x,y:d-g.y,toString:function(){return"x: "+this.x+", y:"+this.y}}},f.startMoving=function(a,b){e.$2w();var c=a.event,d=e.$2M(b.x,b.y);if(d){var g=DayPilot.DateUtil.daysDiff(c.start(),e.rows[c.part.row].start),h=7*d.y+d.x-(7*c.part.row+c.part.colStart);g&&(h+=g);var i={};i.start={},i.start.x=c.part.colStart,i.start.y=c.part.row,i.start.line=c.part.line,i.offset=e.eventMoveToPosition?0:h,i.colWidth=c.part.colWidth,i.event=c,i.coords=b,f.moving=i,f.updateMoving(b)}},f.updateMoving=function(a){var b=e.$2M(a.x,a.y);if(b){var c=e.$2R(b);e.$2w();var d=f.moving.event,g=f.moving.offset,h=e.cellMode?1:DayPilot.DateUtil.daysSpan(d.start(),d.end())+1;h<1&&(h=1),e.$2s(b.x,b.y,c,h,g,d)}},f.startRange=function(a){var b=e.$2M(a.x,a.y);if(b){e.$2w();var c={};c.start={},c.start.x=b.x,c.start.y=b.y,c.x=b.x,c.y=b.y,c.width=1,f.range=c,f.updateRange(a)}},f.updateRange=function(a){var b=e.$2M(a.x,a.y);if(b){e.$2w();var c=f.range.start,d=7*c.y+c.x,g=7*b.y+b.x,h=Math.abs(g-d)+1;h<1&&(h=1);var i=d<g?c:b;f.range.width=h,f.range.from={x:i.x,y:i.y},e.$2s(i.x,i.y,0,h,0,null)}},this.isWeekend=function(a){return 0===a.dayOfWeek()||6===a.dayOfWeek()},this.$2S=function(){var a=this.startDate.lastDayOfMonth();if(this.showWeekend)return a;for(;this.isWeekend(a);)a=a.addDays(-1);return a},this.$28=function(){if("string"==typeof this.startDate&&(this.startDate=new DayPilot.Date(this.startDate)),"Month"===this.viewType?this.startDate=this.startDate.firstDayOfMonth():this.startDate=this.startDate.getDatePart(),this.firstDate=this.startDate.firstDayOfWeek(h.weekStarts()),!this.showWeekend){for(var a=this.startDate.addMonths(-1).getMonth(),b=new DayPilot.Date(this.firstDate).addDays(6);this.isWeekend(b);)b=b.addDays(-1);b.getMonth()===a&&(this.firstDate=this.firstDate.addDays(7))}var d;this.startDate;if("Month"===this.viewType){var f=this.$2S(),g=DayPilot.DateUtil.daysDiff(this.firstDate,f)+1;d=Math.ceil(g/7)}else d=this.weeks;this.days=7*d,this.rows=[];for(var i=0;i<d;i++){var j={};j.start=this.firstDate.addDays(7*i),j.end=j.start.addDays(this.$2m()),j.events=[],j.lines=[],j.index=i,j.minHeight=this.cellHeight,j.calendar=this,j.belongsHere=function(a){return a.end.getTime()===a.start.getTime()&&a.start.getTime()===this.start.getTime()||!(a.end.getTime()<=this.start.getTime()||a.start.getTime()>=this.end.getTime())},j.getPartStart=function(a){return DayPilot.DateUtil.max(this.start,a.start())},j.getPartEnd=function(a){return DayPilot.DateUtil.min(this.end,a.end())},j.getStartColumn=function(a){var b=this.getPartStart(a);return DayPilot.DateUtil.daysDiff(this.start,b)},j.getWidth=function(a){return DayPilot.DateUtil.daysSpan(this.getPartStart(a),this.getPartEnd(a))+1},j.putIntoLine=function(a,b,c,d){for(var e=this,f=0;f<this.lines.length;f++){var g=this.lines[f];if(g.isFree(b,c))return g.addEvent(a,b,c,d,f),f}var g=[];return g.isFree=function(a,b){for(var c=!0,d=0;d<this.length;d++){var e=this[d];a+b-1<e.part.colStart||a>e.part.colStart+e.part.colWidth-1||(c=!1)}return c},g.addEvent=function(a,b,c,d,f){a.part.colStart=b,a.part.colWidth=c,a.part.row=d,a.part.line=f,a.part.startsHere=e.start.getTime()<=a.start().getTime(),a.part.endsHere=e.end.getTime()>=a.end().getTime(),this.push(a)},g.addEvent(a,b,c,d,this.lines.length),this.lines.push(g),this.lines.length-1},j.getStart=function(){for(var a=0,b=0;b<e.rows.length&&b<this.index;b++)a+=e.rows[b].getHeight()},j.getHeight=function(){return Math.max(this.lines.length*h.lineHeight()+e.cellHeaderHeight+e.cellMarginBottom,this.calendar.cellHeight)},this.rows.push(j)}this.$2T=this.firstDate.addDays(7*d)},this.$2U=function(){switch(this.heightSpec){case"Auto":for(var a=h.headerHeight(),b=0;b<this.rows.length;b++)a+=this.rows[b].getHeight();return a;case"Fixed":return this.height}},this.$2V=function(a,b){return 7*b.y+b.x-(7*a.y+a.x)+1},this.$2W={},this.$2W.scope=null,this.$2W.notify=function(){e.$2W.scope&&e.$2W.scope.$apply()},this.debug=new DayPilot.Debug(this),this.$2X=function(){var a=this.nav.top;this.nav.top.dp=this,a.setAttribute("unselectable","on"),a.style.MozUserSelect="none",a.style.KhtmlUserSelect="none",a.style.WebkitUserSelect="none",a.style.WebkitTapHighlightColor="rgba(0,0,0,0)",a.style.WebkitTouchCallout="none",a.style.position="relative",this.width&&(a.style.width=this.width),a.onselectstart=function(a){return!1},this.cssOnly?a.className=this.$2h("_main"):a.style.border="1px solid "+this.borderColor,this.hideUntilInit&&(a.style.visibility="hidden"),this.visible||(a.style.display="none"),a.onmousemove=this.$2Y,a.ontouchstart=f.onMainTouchStart,a.ontouchmove=f.onMainTouchMove,a.ontouchend=f.onMainTouchEnd,this.$26=document.createElement("div"),this.$26.style.display="none",this.nav.top.appendChild(this.$26);var b=document.createElement("div");b.style.position="relative",b.style.height=h.headerHeight()+"px",b.oncontextmenu=function(){return!1},this.nav.top.appendChild(b),this.nav.header=b;var c=document.createElement("div");c.style.zoom="1";var d=document.createElement("div");d.style.position="relative",c.appendChild(d),this.nav.top.appendChild(c),this.nav.scrollable=c,this.nav.events=d},this.$2Y=function(a){e.coords=DayPilot.mo3(e.nav.events,a);var c=e.coords;if(c){var d=e.$2M(c.x,c.y);if(d)if(b.resizingEvent){e.$2w();var h,i,f=b.resizingEvent;f.start;if("w-resize"===f.direction){i=d;var j=f.event.end();j.getDatePart().getTime()===j.getTime()&&(j=j.addDays(-1));var k=e.$2Z(j);h=e.$2V(d,k)}else i=e.$2Z(f.event.start()),h=e.$2V(i,d);h<1&&(h=1),e.$2s(i.x,i.y,0,h)}else if(b.movingEvent){if(e.debug.message("mousemove/moving start coords: "+b.movingEvent.coords.x+" "+b.movingEvent.coords.y),e.debug.message("mousemove/current coords: "+c.x+" "+c.y),c.x===b.movingEvent.coords.x&&c.y===b.movingEvent.coords.y)return;var l=e.$2R(d);e.$2w();var m=b.movingEvent.event,n=b.movingEvent.offset,h=e.cellMode?1:DayPilot.DateUtil.daysSpan(m.start(),m.end())+1;h<1&&(h=1),e.$2s(d.x,d.y,l,h,n,m)}else if(b.timeRangeSelecting){b.cancelCellClick=!0,e.$2w();var i=b.timeRangeSelecting,o=7*i.y+i.x,p=7*d.y+d.x,h=Math.abs(p-o)+1;h<1&&(h=1);var q=o<p?i:d;b.timeRangeSelecting.from={x:q.x,y:q.y},b.timeRangeSelecting.width=h,b.timeRangeSelecting.moved=!0,e.$2s(q.x,q.y,0,h,0,null)}}},this.$2R=function(a){for(var b=a.relativeY,c=e.rows[a.y],d=e.cellHeaderHeight,f=h.lineHeight(),g=c.lines.length,i=0;i<c.lines.length;i++){if(c.lines[i].isFree(a.x,1)){g=i;break}}var k=Math.floor((b-d+f/2)/f),k=Math.min(g,k),k=Math.max(0,k);return k},this.message=function(a,b,c,d){if(null!==a){var k,b=b||this.messageHideAfter||2e3,c=c||"#ffffff",d=d||"#000000",f=.8,g=h.headerHeight();if(this.nav.message)k=e.nav.message;else{k=document.createElement("div"),k.setAttribute("unselectable","on"),k.style.position="absolute",k.style.right="0px",k.style.left="0px",k.style.top=g+"px",k.style.opacity=f,k.style.filter="alpha(opacity="+100*f+")",k.style.display="none",k.onmousemove=function(){k.messageTimeout&&!k.status&&clearTimeout(k.messageTimeout)},k.onmouseout=function(){"none"!==e.nav.message.style.display&&(k.messageTimeout=setTimeout(e.$30,500))},this.cssOnly||(k.style.textAlign="left");var l=document.createElement("div");l.setAttribute("unselectable","on"),l.onclick=function(){e.nav.message.style.display="none"},this.cssOnly?l.className=this.$2h("_message"):l.style.padding="5px",k.appendChild(l);var m=document.createElement("div");m.setAttribute("unselectable","on"),m.style.position="absolute",this.cssOnly?m.className=this.$2h("_message_close"):(m.style.top="5px",m.style.right=DayPilot.sw(e.nav.scroll)+5+"px",m.style.color=c,m.style.lineHeight="100%",m.style.cursor="pointer",m.style.fontWeight="bold",m.innerHTML="X"),m.onclick=function(){e.nav.message.style.display="none"},k.appendChild(m),this.nav.top.appendChild(k),this.nav.message=k}var n=function(){e.nav.message.style.opacity=f;var g=e.nav.message.firstChild;e.cssOnly||(g.style.backgroundColor=d,g.style.color=c),g.innerHTML=a;var h=function(){k.messageTimeout=setTimeout(e.$30,b)};DayPilot.fade(e.nav.message,.2,h)};clearTimeout(k.messageTimeout),"none"!==this.nav.message.style.display?DayPilot.fade(e.nav.message,-.2,n):n()}},this.message.show=function(a){e.message(a)},this.message.hide=function(){e.$30()},this.$30=function(){var a=function(){e.nav.message.style.display="none"};DayPilot.fade(e.nav.message,-.2,a)},this.$31=function(a){"Parent100Pct"===e.heightSpec&&e.$2c()},this.$2c=function(){var a=this.nav.scrollable;if("Parent100Pct"===this.heightSpec||"Fixed"===this.heightSpec?(a.style.top=this.headerHeight+"px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.style.overflow="auto",a.style.position="absolute"):a.style.position="relative","Parent100Pct"===this.heightSpec){this.nav.top.style.height="100%";this.nav.top.clientHeight}else this.nav.top.style.height=this.$2U()+"px";for(var c=0;c<this.cells.length;c++)for(var d=0;d<this.cells[c].length;d++)this.cells[c][d].style.top=this.$2t(d)+"px",this.cells[c][d].style.height=this.rows[d].getHeight()+"px";this.$32()},this.$2M=function(a,b){for(var c=Math.floor(this.nav.top.clientWidth/this.$2m()),d=Math.min(Math.floor(a/c),this.$2m()-1),e=null,f=0,g=0,h=0,i=0;i<this.rows.length;i++){if(g+=this.rows[i].getHeight(),b<g){f=b-h,e=i;break}h=g}null===e&&(e=this.rows.length-1);var j={};return j.x=d,j.y=e,j.relativeY=f,j},this.$2Z=function(a){for(var b=DayPilot.DateUtil.daysDiff(this.firstDate,a),c={x:0,y:0};b>=7;)c.y++,b-=7;return c.x=b,c},this.$32=function(){var a=DayPilot.sw(this.nav.scrollable);this.nav.header.style.marginRight=a+"px"};var g=null;this.$2b=function(){var a=this.nav.header,b=this.nav.events;this.cells=[];for(var c=0;c<this.$2m();c++){this.cells[c]=[];var d=this.headerProperties?this.headerProperties[c]:null,f=c+h.weekStarts();if(f>6&&(f-=7),!d){var d={};d.html=h.locale().dayNames[f],this.cssOnly||(d.backColor=this.headerBackColor)}if("function"==typeof e.onBeforeHeaderRender){var i={};i.header={},i.header.dayOfWeek=f;var j=["html","backColor","cssClass"];DayPilot.Util.copyProps(d,i.header,j),e.onBeforeHeaderRender(i),DayPilot.Util.copyProps(i.header,d,j)}var k=document.createElement("div");k.setAttribute("unselectable","on"),k.style.position="absolute",k.style.left=this.$2v()*c+"%",k.style.width=this.$2v()+"%",k.style.top="0px",k.style.height=h.headerHeight()+"px",function(a){k.onclick=function(){e.$33(a)}}(f);var l=document.createElement("div");l.setAttribute("unselectable","on"),l.className=this.$2h("_header_inner"),l.innerHTML=d.html,k.appendChild(l),this.cssOnly?(k.className=this.$2h("_header"),d&&(d.cssClass&&DayPilot.Util.addClass(k,d.cssClass),d.backColor&&(l.style.background=d.backColor))):(l.style.position="absolute",l.style.top="0px",l.style.bottom="0px",l.style.left="0px",l.style.right="0px",l.style.backgroundColor=d.backColor,l.style.fontFamily=this.headerFontFamily,l.style.fontSize=this.headerFontSize,l.style.color=this.headerFontColor,l.style.textAlign="center",l.style.cursor="default",l.className=this.$2h("header"),c!==this.$2m()-1&&(l.style.borderRight="1px solid "+this.borderColor)),a.appendChild(k);for(var m=0;m<this.rows.length;m++)this.$34(c,m,b)}if(!DayPilot.contains(this.nav.top.childNodes,g)&&this.numberFormat){var n=document.createElement("div");n.style.position="absolute",n.style.padding="2px",n.style.top="0px",n.style.left="0px",n.style.backgroundColor="#FF6600",n.style.color="white",n.innerHTML="DEMO",g=n,this.nav.top.appendChild(n)}},this.$2a=function(){for(var a=0;a<this.cells.length;a++)for(var b=0;b<this.cells[a].length;b++)this.cells[a][b].onclick=null;this.nav.header.innerHTML="",this.nav.events.innerHTML=""},this.$34=function(b,c,d){var f=this.rows[c],g=this.firstDate.addDays(7*c+b),i=this.cellProperties?this.cellProperties[c*this.$2m()+b]:null,j=null;if(i)j=i.headerHtml;else{var k=g.getDay();j=1===k?h.locale().monthNames[g.getMonth()]+" "+k:k+""}if(!i){var i={};i.business=!e.isWeekend(g),i.headerHtml=j}if("function"==typeof e.onBeforeCellRender){var l={};l.cell={},l.cell.areas=null,l.cell.backColor=null,l.cell.backImage=null,l.cell.backRepeat=null,l.cell.business=e.isWeekend(g),l.cell.headerHtml=j,l.cell.headerBackColor=null,l.cell.cssClass=null,l.cell.html=null,l.cell.start=g,l.cell.end=l.cell.start.addDays(1),DayPilot.Util.copyProps(i,l.cell),e.onBeforeCellRender(l),DayPilot.Util.copyProps(l.cell,i,["areas","backColor","backImage","backRepeat","business","headerHtml","headerBackColor","cssClass","html"])}var m=document.createElement("div");m.setAttribute("unselectable","on"),m.style.position="absolute",m.style.cursor="default",m.style.left=this.$2v()*b+"%",m.style.width=this.$2v()+"%",m.style.top=this.$2t(c)+"px",m.style.height=f.getHeight()+"px",m.d=g,m.x=b,m.y=c,m.props=i;var n=this.startDate.addMonths(-1).getMonth(),o=this.startDate.addMonths(1).getMonth(),p=this.startDate.getMonth(),q=document.createElement("div");q.setAttribute("unselectable","on"),m.appendChild(q),q.className=this.$2h("_cell_inner"),q.className=this.$2h("_cell_inner"),g.getMonth()===p?m.className=this.$2h("_cell"):g.getMonth()===n?m.className=this.$2h("_cell")+" "+this.$2h("_previous"):g.getMonth()===o?m.className=this.$2h("_cell")+" "+this.$2h("_next"):a(),i&&(i.cssClass&&DayPilot.Util.addClass(m,i.cssClass),i.business&&DayPilot.Util.addClass(m,this.$2h("_cell_business")),i.backColor&&(q.style.backgroundColor=i.backColor),i.backImage&&(q.style.backgroundImage="url('"+i.backImage+"')"),i.backRepeat&&(q.style.backgroundRepeat=i.backRepeat)),m.onmousedown=this.$35,m.onmousemove=this.$36,m.onmouseout=this.$37,m.oncontextmenu=this.$38,m.onclick=this.$39,m.ondblclick=this.$3a;var r=document.createElement("div");if(r.setAttribute("unselectable","on"),r.style.height=this.cellHeaderHeight+"px",i&&i.headerBackColor&&(r.style.background=i.headerBackColor),r.className=this.$2h("_cell_header"),r.innerHTML=i.headerHtml,q.appendChild(r),i&&i.html){var s=document.createElement("div");s.setAttribute("unselectable","on"),s.style.height=f.getHeight()-this.cellHeaderHeight+"px",s.style.overflow="hidden",s.innerHTML=i.html,q.appendChild(s)}if(this.cellMode){var t=document.createElement("div");t.setAttribute("unselectable","on"),t.style.height=this.cellHeight-this.cellHeaderHeight+"px",t.style.overflow="auto",t.style.position="relative";var u=document.createElement("div");u.setAttribute("unselectable","on"),u.style.paddingTop="1px",u.style.paddingBottom="1px",t.appendChild(u),q.appendChild(t),m.body=u,m.scrolling=t}if(m.props)for(var v=m.props.areas||[],w=0;w<v.length;w++){var x=v[w];if("Visible"===x.v){var y=DayPilot.Areas.createArea(m,m.props,x);m.appendChild(y)}}this.cells[b][c]=m,d.appendChild(m),"function"==typeof e.onAfterCellRender&&(l.cell.div=m,l.cell.divHeader=r,e.onAfterCellRender(l))},this.$36=function(){var a=this;a.props&&DayPilot.Areas.showAreas(a,a.props)},this.$37=function(a){var b=this;b.props&&DayPilot.Areas.hideAreas(b,a)},this.$38=function(){var a=this.d;return function(a){var b=new DayPilot.Date(a),c=b.addDays(1),d=new DayPilot.Selection(b,c,null,e);e.contextMenuSelection&&e.contextMenuSelection.show(d)}(a),!1},this.$3a=function(){var a=this.d;if(e.timeouts){for(var b in e.timeouts)window.clearTimeout(e.timeouts[b]);e.timeouts=null}if("Disabled"!==e.timeRangeDoubleClickHandling){var c=new DayPilot.Date(a),d=c.addDays(1);e.$3b(c,d)}},this.$39=function(){if(!b.cancelCellClick){var a=this.d,c=function(a){var b=new DayPilot.Date(a),c=b.addDays(1);e.$2Q(b,c)};if("Disabled"!==e.timeRangeSelectedHandling&&"Disabled"===e.timeRangeDoubleClickHandling)return void c(a);e.timeouts||(e.timeouts=[]);var d=function(a){return function(){c(a)}};e.timeouts.push(window.setTimeout(d(a),e.doubleClickTimeout))}},this.$35=function(a){var c=this,d=c.x,f=c.y;if(b.cancelCellClick=!1,c.scrolling){var g=DayPilot.mo3(c.scrolling,a),h=DayPilot.sw(c.scrolling),i=c.scrolling.offsetWidth;if(g.x>i-h)return}"Disabled"!==e.timeRangeSelectedHandling&&(e.$2w(),b.timeRangeSelecting={root:e,x:d,y:f,from:{x:d,y:f},width:1})},this.$2m=function(){return this.showWeekend?7:5},this.$2v=function(){return this.showWeekend?14.285:20},this.$3c=function(a){return 6===a.getUTCDay()||0===a.getUTCDay()?this.nonBusinessBackColor:this.backColor},this.$2t=function(a){for(var b=0,c=0;c<a;c++)b+=this.rows[c].getHeight();return b},this.clearSelection=function(){this.$2w()},this.$3d=function(a,b,c){var d={};d.action=a,d.parameters=c,d.data=b,d.header=this.$3e();var f="JSON"+DayPilot.JSON.stringify(d);__doPostBack(e.uniqueID,f)},this.$3f=function(a,b,c,d){if(!this.$3g())return void e.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");void 0===d&&(d="CallBack");var f={};f.action=a,f.type=d,f.parameters=b,f.data=c,f.header=this.$3e();var g="JSON"+DayPilot.JSON.stringify(f);this.backendUrl?DayPilot.request(this.backendUrl,this.$3h,g,this.$3i):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,g,this.$23,null,this.callbackError,!0)},this.$3g=function(){return!!this.backendUrl||!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.$3i=function(a){if("function"==typeof e.onAjaxError){var b={};b.request=a,e.onAjaxError(b)}else"function"==typeof e.ajaxError&&e.ajaxError(a)},this.$3h=function(a){e.$23(a.responseText)},this.$3e=function(){var a={};return a.v=this.v,a.control="dpm",a.id=this.id,a.visibleStart=new DayPilot.Date(this.firstDate),a.visibleEnd=a.visibleStart.addDays(this.days),a.clientState=this.clientState,a.cssOnly=e.cssOnly,a.cssClassPrefix=e.cssClassPrefix,a.startDate=e.startDate,a.showWeekend=this.showWeekend,a.headerBackColor=this.headerBackColor,a.backColor=this.backColor,a.nonBusinessBackColor=this.nonBusinessBackColor,a.locale=this.locale,a.timeFormat=this.timeFormat,a.weekStarts=this.weekStarts,a.viewType=this.viewType,a.weeks=this.weeks,a.selected=e.multiselect.events(),a.hashes=e.hashes,a},this.visibleStart=function(){return new DayPilot.Date(this.firstDate)},this.visibleEnd=function(){return e.visibleStart().addDays(e.days)},this.$3j=function(a,b,c,d){if("PostBack"===a)e.postBack2(b,c,d);else if("CallBack"===a)e.$3f(b,c,d,"CallBack");else if("Immediate"===a)e.$3f(b,c,d,"Notify");else if("Queue"===a)e.queue.add(new DayPilot.Action(this,b,c,d));else{if("Notify"!==a)throw"Invalid event invocation type";"Notify"===h.notifyType()?e.$3f(b,c,d,"Notify"):e.queue.add(new DayPilot.Action(e,b,c,d))}},this.$3k=function(a,b){var c=e.$3l(b),d={};d.args=a,d.guid=c,e.$3f("Bubble",d)},this.$3l=function(a){var b=DayPilot.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[b]=a,b},this.eventClickPostBack=function(a,b){this.$3d("EventClick",b,a)},this.eventClickCallBack=function(a,b){this.$3f("EventClick",a,b)},this.$2G=function(a,c){b.movingEvent=null,b.resizingEvent=null;var c=c||window.event;c.ctrlKey,c.metaKey;if(c.cancelBubble=!0,c.stopPropagation&&c.stopPropagation(),void 0!==DayPilotBubble&&DayPilotBubble.hideActive(),"Disabled"===e.eventDoubleClickHandling)return void e.$2O(a,c);if(e.timeouts){for(var g in e.timeouts)window.clearTimeout(e.timeouts[g]);e.timeouts=[]}else e.timeouts=[];var h=function(a,b){return function(){e.$2O(a,b)}};e.timeouts.push(window.setTimeout(h(a,c),e.doubleClickTimeout))},this.$2O=function(a,b){var c=a.event;if(c.client.clickEnabled()){var d=b.ctrlKey,f=b.metaKey;if(e.$2g()){var g={};if(g.e=c,g.div=a,g.originalEvent=b,g.meta=b.metaKey,g.ctrl=b.ctrlKey,g.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventClick&&(e.onEventClick(g),g.preventDefault.value))return;switch(e.eventClickHandling){case"PostBack":e.eventClickPostBack(c);break;case"CallBack":e.eventClickCallBack(c);break;case"Select":e.$3m(a,c,d,f);break;case"ContextMenu":var h=c.client.contextMenu();h?h.show(c):e.contextMenu&&e.contextMenu.show(c);break;case"Bubble":e.bubble&&e.bubble.showEvent(c)}"function"==typeof e.onEventClicked&&e.onEventClicked(g)}else switch(e.eventClickHandling){case"PostBack":e.eventClickPostBack(c);break;case"CallBack":e.eventClickCallBack(c);break;case"JavaScript":e.onEventClick(c);break;case"Select":e.$3m(a,c,d,f);break;case"ContextMenu":var h=c.client.contextMenu();h?h.show(c):e.contextMenu&&e.contextMenu.show(c);break;case"Bubble":e.bubble&&e.bubble.showEvent(c)}}},this.$2I=function(a){if(e.$2g()){var b={};if(b.e=a,b.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventDelete&&(e.onEventDelete(b),b.preventDefault.value))return;switch(e.eventDeleteHandling){case"PostBack":e.eventDeletePostBack(a);break;case"CallBack":e.eventDeleteCallBack(a);break;case"Update":e.events.remove(a)}"function"==typeof e.onEventDeleted&&e.onEventDeleted(b)}else switch(e.eventDeleteHandling){case"PostBack":e.eventDeletePostBack(a);break;case"CallBack":e.eventDeleteCallBack(a);break;case"JavaScript":e.onEventDelete(a)}},this.eventDeletePostBack=function(a,b){this.$3d("EventDelete",a,b)},this.eventDeleteCallBack=function(a,b){this.$3f("EventDelete",a,b)},this.eventDoubleClickPostBack=function(a,b){this.$3d("EventDoubleClick",b,a)},this.eventDoubleClickCallBack=function(a,b){this.$3f("EventDoubleClick",a,b)},this.$2H=function(a,b){if(void 0!==DayPilotBubble&&DayPilotBubble.hideActive(),e.timeouts){for(var c in e.timeouts)window.clearTimeout(e.timeouts[c]);e.timeouts=null}var b=b||window.event,d=a.event;if(e.$2g()){var f={};if(f.e=d,f.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventDoubleClick&&(e.onEventDoubleClick(f),f.preventDefault.value))return;switch(e.eventDoubleClickHandling){case"PostBack":e.eventDoubleClickPostBack(d);break;case"CallBack":e.eventDoubleClickCallBack(d);break;case"Select":e.$3m(a,d,b.ctrlKey,b.metaKey);break;case"Bubble":e.bubble&&e.bubble.showEvent(d)}"function"==typeof e.onEventDoubleClicked&&e.onEventDoubleClicked(f)}else switch(e.eventDoubleClickHandling){case"PostBack":e.eventDoubleClickPostBack(d);break;case"CallBack":e.eventDoubleClickCallBack(d);break;case"JavaScript":e.onEventDoubleClick(d);break;case"Select":e.$3m(a,d,b.ctrlKey,b.metaKey);break;case"Bubble":e.bubble&&e.bubble.showEvent(d)}},this.$3m=function(a,b,c,d){e.$3n(a,b,c,d)},this.eventSelectPostBack=function(a,b,c){var d={};d.e=a,d.change=b,this.$3d("EventSelect",c,d)},this.eventSelectCallBack=function(a,b,c){var d={};d.e=a,d.change=b,this.$3f("EventSelect",d,c)},this.$3n=function(a,b,c,d){var f=e.multiselect,h=f.isSelected(b);if(c||d||!h||1!==f.list.length)if(e.$2g()){f.previous=f.events();var j={};if(j.e=b,j.selected=f.isSelected(b),j.ctrl=c,j.meta=d,j.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventSelect&&(e.onEventSelect(j),j.preventDefault.value))return;switch(e.eventSelectHandling){case"PostBack":e.eventSelectPostBack(b,k);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.__theFormPostData="",window.__theFormPostCollection=[],WebForm_InitCallback()),e.eventSelectCallBack(b,k);break;case"Update":f.$3o(a,c)}"function"==typeof e.onEventSelected&&(j.change=f.isSelected(b)?"selected":"deselected",j.selected=f.isSelected(b),e.onEventSelected(j))}else{f.previous=f.events(),f.$3o(a,c);var k=f.isSelected(b)?"selected":"deselected";switch(e.eventSelectHandling){case"PostBack":e.eventSelectPostBack(b,k);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.__theFormPostData="",window.__theFormPostCollection=[],WebForm_InitCallback()),e.eventSelectCallBack(b,k);break;case"JavaScript":e.onEventSelect(b,k)}}},this.eventRightClickPostBack=function(a,b){this.$3d("EventRightClick",b,a)},this.eventRightClickCallBack=function(a,b){this.$3f("EventRightClick",a,b)},this.$2L=function(a){if(this.event=a,!a.client.rightClickEnabled())return!1;if(e.$2g()){var b={};if(b.e=a,b.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventRightClick&&(e.onEventRightClick(b),b.preventDefault.value))return;switch(e.eventRightClickHandling){case"PostBack":e.eventRightClickPostBack(a);break;case"CallBack":e.eventRightClickCallBack(a);break;case"ContextMenu":var c=a.client.contextMenu();c?c.show(a):e.contextMenu&&e.contextMenu.show(this.event);break;case"Bubble":e.bubble&&e.bubble.showEvent(a)}"function"==typeof e.onEventRightClicked&&e.onEventRightClicked(b)}else switch(e.eventRightClickHandling){case"PostBack":e.eventRightClickPostBack(a);break;case"CallBack":e.eventRightClickCallBack(a);break;case"JavaScript":e.onEventRightClick(a);break;case"ContextMenu":var c=a.client.contextMenu();c?c.show(a):e.contextMenu&&e.contextMenu.show(this.event);break;case"Bubble":e.bubble&&e.bubble.showEvent(a)}return!1},this.eventMenuClickPostBack=function(a,b,c){var d={};d.e=a,d.command=b,this.$3d("EventMenuClick",c,d)},this.eventMenuClickCallBack=function(a,b,c){var d={};d.e=a,d.command=b,this.$3f("EventMenuClick",d,c)},this.$3p=function(a,b,c){switch(c){case"PostBack":e.eventMenuClickPostBack(b,a);break;case"CallBack":e.eventMenuClickCallBack(b,a)}},this.eventMovePostBack=function(a,b,c,d,e){if(!b)throw"newStart is null";if(!c)throw"newEnd is null";var f={};f.e=a,f.newStart=b,f.newEnd=c,f.position=e,this.$3d("EventMove",d,f)},this.eventMoveCallBack=function(a,b,c,d,e){if(!b)throw"newStart is null";if(!c)throw"newEnd is null";var f={};f.e=a,f.newStart=b,f.newEnd=c,f.position=e,this.$3f("EventMove",f,d)},this.$2P=function(a,b,c,d,f,g){var h=a.start().getTimePart(),i=a.end().getDatePart();i.getTime()!==a.end().getTime()&&(i=i.addDays(1));var j=DayPilot.DateUtil.diff(a.end(),i),k=this.$2x(b,c);k=k.addDays(-d);var l=DayPilot.DateUtil.daysSpan(a.start(),a.end())+1,m=k.addDays(l),n=k.addTime(h),o=m.addTime(j);if(e.$2g()){var p={};if(p.e=a,p.newStart=n,p.newEnd=o,p.position=g,p.ctrl=!1,f&&(p.ctrl=f.ctrlKey),p.shift=!1,f&&(p.shift=f.shiftKey),p.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventMove&&(e.onEventMove(p),p.preventDefault.value))return;switch(e.eventMoveHandling){case"PostBack":e.eventMovePostBack(a,n,o,null,g);break;case"CallBack":e.eventMoveCallBack(a,n,o,null,g);break;case"Notify":e.eventMoveNotify(a,n,o,null,g);break;case"Update":a.start(n),a.end(o),e.events.update(a)}"function"==typeof e.onEventMoved&&e.onEventMoved(p)}else switch(e.eventMoveHandling){case"PostBack":e.eventMovePostBack(a,n,o,null,g);break;case"CallBack":e.eventMoveCallBack(a,n,o,null,g);break;case"JavaScript":e.onEventMove(a,n,o,f.ctrlKey,f.shiftKey,g);break;case"Notify":e.eventMoveNotify(a,n,o,null,g)}},this.eventMoveNotify=function(a,b,c,d,f){var g=new DayPilot.Event(a.copy(),this);a.start(b),a.end(c),a.commit(),e.update(),this.$3q("Notify",g,b,c,d,f)},this.$3q=function(a,b,c,d,e,f){var g={};g.e=b,g.newStart=c,g.newEnd=d,g.position=f,this.$3j(a,"EventMove",g,e)},this.eventResizePostBack=function(a,b,c,d){if(!b)throw"newStart is null";if(!c)throw"newEnd is null";var e={};e.e=a,e.newStart=b,e.newEnd=c,this.$3d("EventResize",d,e)},this.eventResizeCallBack=function(a,b,c,d){if(!b)throw"newStart is null";if(!c)throw"newEnd is null";var e={};e.e=a,e.newStart=b,e.newEnd=c,this.$3f("EventResize",e,d)},this.$3r=function(a,b,c){var d=a.start().getTimePart(),f=a.end().getDatePart();f!=a.end()&&(f=f.addDays(1));var g=DayPilot.DateUtil.diff(a.end(),f),h=this.$2x(b.x,b.y),i=h.addDays(c),j=h.addTime(d),k=i.addTime(g);if(e.$2g()){var l={};if(l.e=a,l.newStart=j,l.newEnd=k,l.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onEventResize&&(e.onEventResize(l),l.preventDefault.value))return;switch(e.eventResizeHandling){case"PostBack":e.eventResizePostBack(a,j,k);break;case"CallBack":e.eventResizeCallBack(a,j,k);break;case"Notify":e.eventResizeNotify(a,j,k);break;case"Update":a.start(j),a.end(k),e.events.update(a)}"function"==typeof e.onEventResized&&e.onEventResized(l)}else switch(e.eventResizeHandling){case"PostBack":e.eventResizePostBack(a,j,k);break;case"CallBack":e.eventResizeCallBack(a,j,k);break;case"JavaScript":e.onEventResize(a,j,k);break;case"Notify":e.eventResizeNotify(a,j,k)}},this.eventResizeNotify=function(a,b,c,d){var f=new DayPilot.Event(a.copy(),this);a.start(b),a.end(c),a.commit(),e.update(),this.$3s("Notify",f,b,c,d)},this.$3s=function(a,b,c,d,e){var f={};f.e=b,f.newStart=c,f.newEnd=d,this.$3j(a,"EventResize",f,e)},this.timeRangeSelectedPostBack=function(a,b,c){var d={};d.start=a,d.end=b,this.$3d("TimeRangeSelected",c,d)},this.timeRangeSelectedCallBack=function(a,b,c){var d={};d.start=a,d.end=b,this.$3f("TimeRangeSelected",d,c)},this.$2Q=function(a,b){if(e.$2g()){var c={};if(c.start=a,c.end=b,c.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onTimeRangeSelect&&(e.onTimeRangeSelect(c),c.preventDefault.value))return;switch(e.timeRangeSelectedHandling){case"PostBack":e.timeRangeSelectedPostBack(a,b),e.clearSelection();break;case"CallBack":e.timeRangeSelectedCallBack(a,b),e.clearSelection()}"function"==typeof e.onTimeRangeSelected&&e.onTimeRangeSelected(c)}else switch(e.timeRangeSelectedHandling){case"PostBack":e.timeRangeSelectedPostBack(a,b),e.clearSelection();break;case"CallBack":e.timeRangeSelectedCallBack(a,b),e.clearSelection();break;case"JavaScript":e.onTimeRangeSelected(a,b)}},this.timeRangeMenuClickPostBack=function(a,b,c){var d={};d.selection=a,d.command=b,this.$3d("TimeRangeMenuClick",c,d)},this.timeRangeMenuClickCallBack=function(a,b,c){var d={};d.selection=a,d.command=b,this.$3f("TimeRangeMenuClick",d,c)},this.$3t=function(a,b,c){switch(c){case"PostBack":e.timeRangeMenuClickPostBack(b,a);break;case"CallBack":e.timeRangeMenuClickCallBack(b,a)}},this.headerClickPostBack=function(a,b){this.$3d("HeaderClick",b,a)},this.headerClickCallBack=function(a,b){this.$3f("HeaderClick",a,b)},this.$33=function(a){var c=(this.data,{$0Y:a});if(e.$2g()){var d={};if(d.header={},d.header.dayOfWeek=a,d.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onHeaderClick&&(e.onHeaderClick(d),d.preventDefault.value))return;switch(e.headerClickHandling){case"PostBack":e.headerClickPostBack(c);break;case"CallBack":e.headerClickCallBack(c)}"function"==typeof e.onHeaderClicked&&e.onHeaderClicked(d)}else switch(e.headerClickHandling){case"PostBack":e.headerClickPostBack(c);break;case"CallBack":e.headerClickCallBack(c);break;case"JavaScript":e.onHeaderClick(c)}},this.timeRangeDoubleClickPostBack=function(a,b,c){var d={};d.start=a,d.end=b,this.$3d("TimeRangeDoubleClick",c,d)},this.timeRangeDoubleClickCallBack=function(a,b,c){var d={};d.start=a,d.end=b,this.$3f("TimeRangeDoubleClick",d,c)},this.$3b=function(a,b){if(e.$2g()){var c={};if(c.start=a,c.end=b,c.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof e.onTimeRangeDoubleClick&&(e.onTimeRangeDoubleClick(c),c.preventDefault.value))return;switch(e.timeRangeDoubleClickHandling){case"PostBack":e.timeRangeDoubleClickPostBack(a,b);break;case"CallBack":e.timeRangeDoubleClickCallBack(a,b)}"function"==typeof e.onTimeRangeDoubleClicked&&e.onTimeRangeDoubleClicked(c)}else switch(e.timeRangeDoubleClickHandling){case"PostBack":e.timeRangeDoubleClickPostBack(a,b);break;case"CallBack":e.timeRangeDoubleClickCallBack(a,b);break;case"JavaScript":e.onTimeRangeDoubleClick(a,b)}},this.commandCallBack=function(a,b){this.$3u();var c={};c.command=a,this.$3f("Command",c,b)},this.$3v=function(a){for(var b=0;b<e.elements.events.length;b++){var c=e.elements.events[b];if(c.event===a||c.event.data===a.data)return c}return null},this.$2J=function(a){var b={};b.list=[],b.each=function(a){if(a)for(var b=0;b<this.list.length;b++)a(this.list[b])};for(var c=0;c<this.elements.events.length;c++){var d=this.elements.events[c];d.event.data===a.data&&b.list.push(d)}return b},this.$3w=function(a){var b=document.createElement("div");b.style.position="absolute",b.style.top="-2000px",b.style.left="-2000px",b.className=this.$2h(a),document.body.appendChild(b);var c=b.offsetHeight,d=b.offsetWidth;document.body.removeChild(b);var e={};return e.height=c,e.width=d,e},this.$2E={};var h=this.$2E;h.lineHeight=function(){return h.eventHeight()+e.lineSpace},h.rounded=function(){return"Rounded"===e.eventCorners},h.loadFromServer=function(){return!!e.backendUrl&&(void 0===e.events.list||!e.events.list)},h.locale=function(){return DayPilot.Locale.find(e.locale)},h.getWeekStart=function(){return e.showWeekend?e.weekStarts:1},h.weekStarts=function(){if(!e.showWeekend)return 1;if("Auto"===e.weekStarts){var a=h.locale();return a?a.weekStarts:0}return e.weekStarts},h.notifyType=function(){var a;if("Immediate"===e.notifyCommit)a="Notify";else{if("Queue"!==e.notifyCommit)throw"Invalid notifyCommit value: "+e.notifyCommit;a="Queue"}return a},h.eventHeight=function(){if(e.$21.eventHeight)return e.$21.eventHeight;var a=e.$3w("_event_height").height;return a||(a=e.eventHeight),e.$21.eventHeight=a,a},h.headerHeight=function(){if(e.$21.headerHeight)return e.$21.headerHeight;var a=e.$3w("_header_height").height;return a||(a=e.headerHeight),e.$21.headerHeight=a,a},h.timeFormat=function(){return"Auto"!==e.timeFormat?e.timeFormat:h.locale().timeFormat},this.multiselect={},this.multiselect.initList=[],this.multiselect.list=[],this.multiselect.divs=[],this.multiselect.previous=[],this.multiselect.$3x=function(){var a=e.multiselect;return DayPilot.JSON.stringify(a.events())},this.multiselect.events=function(){var a=e.multiselect,b=[];b.ignoreToJSON=!0;for(var c=0;c<a.list.length;c++)b.push(a.list[c]);return b},this.multiselect.$3y=function(){},this.multiselect.$3o=function(a,b){var c=e.multiselect;if(c.isSelected(a.event))if(e.allowMultiSelect)if(b)c.remove(a.event,!0);else{var d=c.list.length;c.clear(!0),d>1&&c.add(a.event,!0)}else c.clear(!0);else e.allowMultiSelect&&b?c.add(a.event,!0):(c.clear(!0),c.add(a.event,!0));c.redraw(),c.$3y()},this.multiselect.$2F=function(a){var b=e.multiselect;return b.$3z(a,b.initList)},this.multiselect.$3A=function(){for(var a=e.multiselect,b=[],c=0;c<a.list.length;c++){var d=a.list[c];b.push(d.value())}alert(b.join("\n"))},this.multiselect.add=function(a,b){var c=e.multiselect;-1===c.indexOf(a)&&c.list.push(a),b||c.redraw()},this.multiselect.remove=function(a,b){var c=e.multiselect,d=c.indexOf(a);-1!==d&&c.list.splice(d,1)},this.multiselect.clear=function(a){var b=e.multiselect;b.list=[],a||b.redraw()},this.multiselect.redraw=function(){for(var a=e.multiselect,b=0;b<e.elements.events.length;b++){var c=e.elements.events[b];a.isSelected(c.event)?a.$3B(c):a.$3C(c)}},this.multiselect.$3B=function(a){var b=e.multiselect,c=e.cssOnly?e.$2h("_selected"):e.$2h("selected"),a=b.$3D(a);DayPilot.Util.addClass(a,c),b.divs.push(a)},this.multiselect.$3D=function(a){return e.cssOnly?a:a.firstChild},this.multiselect.$3E=function(){for(var a=e.multiselect,b=0;b<a.divs.length;b++){var c=a.divs[b];a.$3C(c,!0)}a.divs=[]},this.multiselect.$3C=function(a,b){var c=e.multiselect,d=e.cssOnly?e.$2h("_selected"):e.$2h("selected"),f=c.$3D(a);if(f&&f.className&&-1!==f.className.indexOf(d)&&(f.className=f.className.replace(d,"")),!b){var g=DayPilot.indexOf(c.divs,a);-1!==g&&c.divs.splice(g,1)}},this.multiselect.isSelected=function(a){return e.multiselect.$3z(a,e.multiselect.list)},this.multiselect.indexOf=function(a){return DayPilot.indexOf(e.multiselect.list,a)},this.multiselect.$3z=function(a,b){if(!b)return!1;for(var c=0;c<b.length;c++){var d=b[c];if(a===d)return!0;if("function"==typeof d.value){if(null!==d.value()&&null!==a.value()&&d.value()===a.value())return!0;if(null===d.value()&&null===a.value()&&d.recurrentMasterId()===a.recurrentMasterId()&&a.start().toStringSortable()===d.start())return!0}else{if(null!==d.value&&null!==a.value()&&d.value===a.value())return!0;if(null===d.value&&null===a.value()&&d.recurrentMasterId===a.recurrentMasterId()&&a.start().toStringSortable()===d.start)return!0}}return!1},this.events.forRange=function(a,b){return a=new DayPilot.Date(a),b=new DayPilot.Date(b),DayPilot.list(e.events.list).filter(function(c){var d=new DayPilot.Date(c.start),e=new DayPilot.Date(c.end);return DayPilot.Util.overlaps(a,b,d,e)}).map(function(a){return new DayPilot.Event(a,e)})},this.events.find=function(a){if(!e.events.list||void 0===e.events.list.length)return null;for(var b=e.events.list.length,c=0;c<b;c++)if(e.events.list[c].id===a)return new DayPilot.Event(e.events.list[c],e);return null},this.events.findRecurrent=function(a,b){if(!e.events.list||void 0===e.events.list.length)return null;for(var c=e.events.list.length,d=0;d<c;d++)if(e.events.list[d].recurrentMasterId===a&&e.events.list[d].start.getTime()===b.getTime())return new DayPilot.Event(e.events.list[d],e);return null},this.events.update=function(a,b){var c={};c.oldEvent=new DayPilot.Event(a.copy(),e),c.newEvent=new DayPilot.Event(a.temp(),e);var d=new DayPilot.Action(e,"EventUpdate",c,b);return a.commit(),e.$20&&e.update(),e.$2W.notify(),d},this.events.remove=function(a,b){var c={};c.e=new DayPilot.Event(a.data,e);var d=new DayPilot.Action(e,"EventRemove",c,b),f=DayPilot.indexOf(e.events.list,a.data);return e.events.list.splice(f,1),e.$20&&e.update(),e.$2W.notify(),d},this.events.add=function(a,b){a.calendar=e,e.events.list||(e.events.list=[]),e.events.list.push(a.data);var c={};c.e=a;var d=new DayPilot.Action(e,"EventAdd",c,b);return e.$20&&e.update(),e.$2W.notify(),d},this.events.load=function(a,b,c){var d=function(a){var b={};b.exception=a.exception,b.request=a.request,"function"==typeof c&&c(b)},f=function(a){var f,c=a.request;try{f=DayPilot.Util.parseJSON(c.responseText)}catch(a){var g={};return g.exception=a,void d(g)}if(DayPilot.isArray(f)){var h={};if(h.preventDefault=function(){this.preventDefault.value=!0},h.data=f,"function"==typeof b&&b(h),h.preventDefault.value)return;e.events.list=f,e.$20&&e.update()}};DayPilot.ajax({method:"POST",data:{start:e.visibleStart().toString(),end:e.visibleEnd().toString()},url:a,success:f,error:d})},this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(a){if(a){if(!a.isAction)throw"DayPilot.Action object required for queue.add()";e.queue.list.push(a)}},this.queue.notify=function(a){var b={};b.actions=e.queue.list,e.$3f("Notify",b,a,"Notify"),e.queue.list=[]},this.queue.clear=function(){e.queue.list=[]},this.queue.pop=function(){return e.queue.list.pop()},this.$2f=function(a){if(a&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.$22>=this.autoRefreshMaxCount)){this.$3u();var b=this.autoRefreshInterval;if(!b||b<10)throw"The minimum autoRefreshInterval is 10 seconds";this.autoRefreshTimeout=window.setTimeout(function(){e.$3F()},1e3*this.autoRefreshInterval)}},this.$3u=function(){this.autoRefreshTimeout&&window.clearTimeout(this.autoRefreshTimeout)},this.$3F=function(){if(!b.eventResizing&&!b.eventMoving&&!b.timeRangeSelecting){var a=!1;if("function"==typeof this.onAutoRefresh){var c={};c.i=this.$22,c.preventDefault=function(){this.preventDefault.value=!0},e.onAutoRefresh(c),c.preventDefault.value&&(a=!0)}!a&&this.$3g()&&this.commandCallBack(this.autoRefreshCommand),this.$22++}this.$22<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){e.$3F()},1e3*this.autoRefreshInterval))},this.$3G=function(a){if(this.cells){var a=a||{},b=!a.eventsOnly;e.cssOnly||(e.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),e.$27(),e.$28(),e.$29(),b&&(e.$2a(),e.$2b()),e.$2c(),e.$2d(),e.$2e(),this.visible?this.show():this.hide()}},this.update=function(){this.$3G()},this.dispose=function(){var a=e;a.nav.top&&(a.$3u(),a.$27(),a.nav.top.removeAttribute("style"),a.nav.top.removeAttribute("class"),a.nav.top.innerHTML="",a.nav.top.dp=null,a.nav.top=null,b.unregister(a))},this.$3H=function(){b.globalHandlers||(b.globalHandlers=!0,DayPilot.re(document,"mouseup",b.gMouseUp)),DayPilot.re(window,"resize",this.$31)},this.$2d=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.show=function(){e.visible=!0,e.nav.top.style.display=""},this.hide=function(){e.visible=!1,e.nav.top.style.display="none"},this.$3I=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Month() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Month: The placeholder element not found: '"+c+"'."}},this.$3J=function(){this.$3I(),this.$28(),this.$2X(),this.$2b(),this.$3H(),this.$2f(),this.$3f("Init"),b.register(this)},this.init=function(){if(this.$3I(),!this.nav.top.dp){var a=h.loadFromServer();if(e.cssOnly||(e.cssOnly=!0,window.console&&window.console.log&&window.console.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),a)return this.$3J(),void(this.$20=!0);this.$28(),this.$29(),this.$2X(),this.$2b(),this.$2d(),this.$2e(),this.$2c(),this.$3H(),this.messageHTML&&this.message(this.messageHTML),this.$25(null,!1),this.$2f(),b.register(this),this.$20=!0,this.$3K()}},this.$3L=null,this.$3M=function(a){var b={events:{preInit:function(){var a=this.data;a&&(DayPilot.isArray(a.list)?e.events.list=a.list:e.events.list=a)}}};this.$3L=b;for(var c in a)if(b[c]){var d=b[c];d.data=a[c],d.preInit&&d.preInit()}else e[c]=a[c]},this.$3K=function(){var a=this.$3L;for(var b in a){var c=a[b];c.postInit&&c.postInit()}},this.internal={},this.internal.initialized=function(){return e.$20},this.internal.invokeEvent=this.$3j,this.internal.eventMenuClick=this.$3p,this.internal.timeRangeMenuClick=this.$3t,this.internal.bubbleCallBack=this.$3k,this.internal.findEventDiv=this.$3v,this.Init=this.init,this.$3M(d)},b.register=function(a){b.registered||(b.registered=[]);for(var c=0;c<b.registered.length;c++)if(b.registered[c]===a)return;b.registered.push(a)},b.unregister=function(a){var c=b.registered;if(c){var d=DayPilot.indexOf(c,a);-1!==d&&c.splice(d,1),0===c.length&&(c=null)}c||(DayPilot.ue(document,"mouseup",b.gMouseUp),b.globalHandlers=!1)},b.gMouseUp=function(a){if(b.movingEvent){var c=b.movingEvent;if(b.movingEvent=null,!(c.event&&c.event.calendar&&c.event.calendar.shadow&&c.event.calendar.shadow.start))return;var d=c.event.calendar,e=c.event,f=d.shadow.start,g=d.shadow.position,h=c.offset;d.$2w();var a=a||window.event;return d.$2P(e,f.x,f.y,h,a,g),a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation(),!1}if(b.resizingEvent){var c=b.resizingEvent;if(b.resizingEvent=null,!(c.event&&c.event.calendar&&c.event.calendar.shadow&&c.event.calendar.shadow.start))return;var d=c.event.calendar,e=c.event,f=d.shadow.start,i=d.shadow.width;return d.$2w(),d.$3r(e,f,i),a.cancelBubble=!0,!1}if(b.timeRangeSelecting){if(b.timeRangeSelecting.moved){var j=b.timeRangeSelecting,d=j.root,f=new DayPilot.Date(d.$2x(j.from.x,j.from.y)),k=f.addDays(j.width);d.$2Q(f,k)}b.timeRangeSelecting=null}},DayPilot.MonthVisible.Month=b.Month,"undefined"!=typeof jQuery&&function(a){a.fn.daypilotMonth=function(a){var b=null,c=this.each(function(){if(!this.daypilot){var c=new DayPilot.Month(this.id,a);c.init(),this.daypilot=c,b||(b=c)}});return 1===this.length?b:c}}(jQuery),function(){var b=DayPilot.am();b&&b.directive("daypilotMonth",function(){return{restrict:"E",template:"<div></div>",replace:!0,link:function(a,b,c){var d=new DayPilot.Month(b[0]);d.$2W.scope=a,d.init();var e=c.id;e&&(a[e]=d);var f=a.$watch;f.call(a,c.daypilotConfig,function(a){for(var b in a)d[b]=a[b];d.update()},!0),f.call(a,c.daypilotEvents,function(a){d.events.list=a,d.$3G({eventsOnly:!0})},!0)}}})}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),void 0===DayPilotNavigator)var DayPilotNavigator=DayPilot.NavigatorVisible={};if(function(){void 0===DayPilot.Navigator&&(DayPilotNavigator={},DayPilot.Navigator=function(a,b){this.v="1969";var c=this;this.id=a,this.api=2,this.isNavigator=!0,this.weekStarts="Auto",this.selectMode="day",this.titleHeight=20,this.dayHeaderHeight=20,this.cellWidth=20,this.cellHeight=20,this.cssOnly=!0,this.cssClassPrefix="navigator_default",this.selectionStart=(new DayPilot.Date).getDatePart(),this.selectionEnd=null,this.selectionDay=null,this.showMonths=1,this.skipMonths=1,this.command="navigate",this.year=(new DayPilot.Date).getYear(),this.month=(new DayPilot.Date).getMonth()+1,this.showWeekNumbers=!1,this.weekNumberAlgorithm="Auto",this.rowsPerMonth="Six",this.orientation="Vertical",this.locale="en-us",this.visible=!0,this.timeRangeSelectedHandling="Bind",this.visibleRangeChangedHandling="Enabled",this.nav={},this.$0j={},this.$0k=function(){this.root.dp=this,this.cssOnly?this.root.className=this.$0l("_main"):this.root.className=this.$0l("main"),"Horizontal"===this.orientation?(this.root.style.width=this.showMonths*(7*d.cellWidth()+this.$0m())+"px",this.root.style.height=6*this.cellHeight+this.titleHeight+this.dayHeaderHeight+"px"):this.root.style.width=7*d.cellWidth()+this.$0m()+"px",this.root.style.position="relative",this.visible||(this.root.style.display="none");var a=document.createElement("input");a.type="hidden",a.name=c.id+"_state",a.id=a.name,this.root.appendChild(a),this.state=a,this.startDate?this.startDate=new DayPilot.Date(this.startDate).firstDayOfMonth():this.startDate=DayPilot.Date.fromYearMonthDay(this.year,this.month),this.calendars=[],this.selected=[],this.months=[]},this.$0n=function(){return 2===c.api},this.$0o=function(){this.root.innerHTML=""},this.$0l=function(a){var b=this.theme||this.cssClassPrefix;return b?b+a:""},this.$0p=function(a,b){var c=this.cssOnly?this.$0l("_"+b):this.$0l(b);DayPilot.Util.addClass(a,c)},this.$0q=function(a,b){var c=this.cssOnly?this.$0l("_"+b):this.$0l(b);DayPilot.Util.removeClass(a,c)},this.$0r=function(a,b){var e={};e.cells=[],e.days=[],e.weeks=[];var f=this.startDate.addMonths(a),g=b.before,h=b.after,i=f.firstDayOfMonth(),j=i.firstDayOfWeek(d.weekStarts()),k=i.addMonths(1),l=DayPilot.DateUtil.daysDiff(j,k),m="Auto"===this.rowsPerMonth?Math.ceil(l/7):6;e.rowCount=m;var n=(new DayPilot.Date).getDatePart(),o=7*d.cellWidth()+this.$0m(),p=this.cellHeight*m+this.titleHeight+this.dayHeaderHeight;e.height=p;var q=document.createElement("div");q.style.width=o+"px",q.style.height=p+"px","Horizontal"===this.orientation?(q.style.position="absolute",q.style.left=o*a+"px",q.style.top="0px"):q.style.position="relative",this.cssOnly?q.className=this.$0l("_month"):q.className=this.$0l("month"),q.style.cursor="default",q.style.MozUserSelect="none",q.style.KhtmlUserSelect="none",q.style.WebkitUserSelect="none",q.month=e,this.root.appendChild(q);var r=this.titleHeight+this.dayHeaderHeight,s=document.createElement("div");s.style.position="absolute",s.style.left="0px",s.style.top="0px",s.style.width=d.cellWidth()+"px",s.style.height=this.titleHeight+"px",s.style.lineHeight=this.titleHeight+"px",s.setAttribute("unselectable","on"),this.cssOnly?s.className=this.$0l("_titleleft"):s.className=this.$0l("titleleft"),b.left&&(s.style.cursor="pointer",s.innerHTML="<span>&lt;</span>",s.onclick=this.$0s),q.appendChild(s),this.tl=s;var t=document.createElement("div");t.style.position="absolute",t.style.left=d.cellWidth()+"px",t.style.top="0px",t.style.width=5*d.cellWidth()+this.$0m()+"px",t.style.height=this.titleHeight+"px",t.style.lineHeight=this.titleHeight+"px",t.setAttribute("unselectable","on"),this.cssOnly?t.className=this.$0l("_title"):t.className=this.$0l("title"),t.innerHTML=d.locale().monthNames[f.getMonth()]+" "+f.getYear(),q.appendChild(t),this.ti=t;var u=document.createElement("div");u.style.position="absolute",u.style.left=6*d.cellWidth()+this.$0m()+"px",u.style.top="0px",u.style.width=d.cellWidth()+"px",u.style.height=this.titleHeight+"px",u.style.lineHeight=this.titleHeight+"px",u.setAttribute("unselectable","on"),this.cssOnly?u.className=this.$0l("_titleright"):u.className=this.$0l("titleright"),b.right&&(u.style.cursor="pointer",u.innerHTML="<span>&gt;</span>",u.onclick=this.$0t),q.appendChild(u),this.tr=u;var v=this.$0m();if(this.showWeekNumbers)for(var w=0;w<m;w++){var x=j.addDays(7*w),y=null;switch(this.weekNumberAlgorithm){case"Auto":y=0===d.weekStarts()?x.weekNumber():x.weekNumberISO();break;case"US":y=x.weekNumber();break;case"ISO8601":y=x.weekNumberISO();break;default:throw"Unknown weekNumberAlgorithm value."}var z=document.createElement("div");z.style.position="absolute",z.style.left="0px",z.style.top=w*this.cellHeight+r+"px",z.style.width=d.cellWidth()+"px",z.style.height=this.cellHeight+"px",z.style.lineHeight=this.cellHeight+"px",z.setAttribute("unselectable","on"),this.cssOnly?z.className=this.$0l("_weeknumber"):z.className=this.$0l("weeknumber"),z.innerHTML="<span>"+y+"</span>",q.appendChild(z),e.weeks.push(z)}for(var A=0;A<7;A++){e.cells[A]=[];var z=document.createElement("div");z.style.position="absolute",z.style.left=A*d.cellWidth()+v+"px",z.style.top=this.titleHeight+"px",z.style.width=d.cellWidth()+"px",z.style.height=this.dayHeaderHeight+"px",z.style.lineHeight=this.dayHeaderHeight+"px",z.setAttribute("unselectable","on"),this.cssOnly?z.className=this.$0l("_dayheader"):z.className=this.$0l("dayheader"),z.innerHTML="<span>"+this.$0u(A)+"</span>",q.appendChild(z),e.days.push(z);for(var w=0;w<m;w++){var x=j.addDays(7*w+A),B=this.$0v(x)&&"none"!==this.$0w(),C=x.firstDayOfMonth()===f,D=x<f,E=x>=f.addMonths(1);if("month"===this.$0w()||"day"===this.$0w())B=B&&C;else if("week"===this.$0w()){var F=this.selectionDay||this.selectionStart,G=F.firstDayOfMonth()===f;B=B&&(G||g&&D||h&&E)}var H=document.createElement("div");e.cells[A][w]=H,H.day=x,H.x=A,H.y=w,H.isCurrentMonth=C,this.cssOnly?H.className=this.$0l(C?"_day":"_dayother"):H.className=this.$0l(C?"day":"dayother"),c.$0p(H,"cell"),x.getTime()===n.getTime()&&C&&this.$0p(H,"today"),0!==x.dayOfWeek()&&6!==x.dayOfWeek()||this.$0p(H,"weekend"),H.style.position="absolute",H.style.left=A*d.cellWidth()+v+"px",H.style.top=w*this.cellHeight+r+"px",H.style.width=d.cellWidth()+"px",H.style.height=this.cellHeight+"px",H.style.lineHeight=this.cellHeight+"px";var I=document.createElement("div");I.style.position="absolute",this.cssOnly?I.className=x.getTime()===n.getTime()&&C?this.$0l("_todaybox"):this.$0l("_daybox"):I.className=x.getTime()===n.getTime()&&C?this.$0l("todaybox"):this.$0l("daybox"),c.$0p(I,"cell_box"),I.style.left="0px",I.style.top="0px",I.style.right="0px",I.style.bottom="0px",H.appendChild(I);var J=null;if(this.cells&&this.cells[x.toStringSortable()]&&(J=this.cells[x.toStringSortable()]),"function"==typeof c.onBeforeCellRender){var K={};K.cell={},K.cell.day=x,K.cell.isCurrentMonth=C,K.cell.isToday=x.getTime()===n.getTime()&&C,K.cell.isWeekend=0===x.dayOfWeek()||6===x.dayOfWeek(),K.cell.html=x.getDay(),K.cell.cssClass=null,c.onBeforeCellRender(K),J=K.cell}if(J&&DayPilot.Util.addClass(H,J.cssClass||J.css),C||g&&D||h&&E){var L=document.createElement("div");L.innerHTML=x.getDay(),L.style.position="absolute",L.style.left="0px",L.style.top="0px",L.style.right="0px",L.style.bottom="0px",c.$0p(L,"cell_text"),H.style.cursor="pointer",H.isClickable=!0,J&&J.html&&(L.innerHTML=J.html),H.appendChild(L)}H.setAttribute("unselectable","on"),H.onclick=this.$0x,H.onmousedown=this.$0y,H.onmousemove=this.$0z,q.appendChild(H),B&&(c.$0A(q,A,w),this.selected.push(H))}}var M=document.createElement("div");M.style.position="absolute",M.style.left="0px",M.style.top=r-2+"px",M.style.width=7*d.cellWidth()+this.$0m()+"px",M.style.height="1px",M.style.fontSize="1px",M.style.lineHeight="1px",this.cssOnly?M.className=this.$0l("_line"):M.className=this.$0l("line"),q.appendChild(M),this.months.push(e)},this.$0A=function(a,b,d){var e=a.month.cells[b][d];c.$0p(e,"select")},this.$0B=function(a,b,d){var e=a.month.cells[b][d];c.$0q(e,"select")},this.$0m=function(){return this.showWeekNumbers?d.cellWidth():0},this.$0C=function(){if(this.items)for(var a=0;a<this.showMonths;a++)for(var b=0;b<7;b++)for(var c=0;c<6;c++){var d=this.months[a].cells[b][c];d&&(1===this.items[d.day.toStringSortable()]?this.$0p(d,"busy"):this.$0q(d,"busy"))}},this.$0D=function(){var a={};a.startDate=c.startDate,a.selectionStart=c.selectionStart,a.selectionEnd=c.selectionEnd.addDays(1),c.state.value=DayPilot.JSON.stringify(a)},this.$0w=function(){return(this.selectMode||"").toLowerCase()},this.$0E=function(){var a=this.selectionDay||this.selectionStart,a=new DayPilot.Date(a);switch(this.$0w()){case"day":this.selectionDay=a,this.selectionEnd=a;break;case"week":this.selectionDay=a,this.selectionStart=a.firstDayOfWeek(d.weekStarts()),this.selectionEnd=this.selectionStart.addDays(6);break;case"month":this.selectionDay=a,this.selectionStart=a.firstDayOfMonth(),this.selectionEnd=this.selectionStart.lastDayOfMonth();break;case"none":this.selectionEnd=a;break;default:throw"Unknown selectMode value."}},this.select=function(a){var b=!0,c=this.selectionStart,d=this.selectionEnd;this.selectionStart=new DayPilot.Date(a).getDatePart(),this.selectionDay=this.selectionStart;var e=!1;if(b){var f=this.startDate;(this.selectionStart<this.$0F()||this.selectionStart>=this.$0G())&&(f=this.selectionStart.firstDayOfMonth()),f.toStringSortable()!==this.startDate.toStringSortable()&&(e=!0),this.startDate=f}this.$0E(),this.$0o(),this.$0k(),this.$0H(),this.$0C(),this.$0D(),c.equals(this.selectionStart)&&d.equals(this.selectionEnd)||this.$0I(),e&&this.$0J()},this.update=function(){c.cssOnly||(c.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),this.$0o(),this.$0k(),this.$0E(),this.$0H(),this.$0K(),this.$0C(),this.$0D(),this.visible?this.show():this.hide()},this.$0L=function(a,b,c){var d={};d.action=a,d.parameters=c,d.data=b,d.header=this.$0M();var e="JSON"+DayPilot.JSON.stringify(d);this.backendUrl?DayPilot.request(this.backendUrl,this.$0N,e,this.$0O):WebForm_DoCallback(this.uniqueID,e,this.$0P,null,this.callbackError,!0)},this.$0O=function(a){if("function"==typeof c.onAjaxError){var b={};b.request=a,c.onAjaxError(b)}else"function"==typeof c.ajaxError&&c.ajaxError(a)},this.$0N=function(a){c.$0P(a.responseText)},this.$0Q=function(a,b,d){var e={};e.action=a,e.parameters=d,e.data=b,e.header=this.$0M();var f="JSON"+DayPilot.JSON.stringify(e);__doPostBack(c.uniqueID,f)},this.$0M=function(){var a={};return a.v=this.v,a.startDate=this.startDate,a.selectionStart=this.selectionStart,a},this.$0R=function(a,b){"refresh"===a&&this.$0J()},this.$0u=function(a){var b=a+d.weekStarts();return b>6&&(b-=7),d.locale().dayNamesShort[b]},this.$0v=function(a){return null!==this.selectionStart&&null!==this.selectionEnd&&(this.selectionStart.getTime()<=a.getTime()&&a.getTime()<=this.selectionEnd.getTime())},this.$0y=function(a){},this.$0z=function(a){},this.$0x=function(a){var b=this.parentNode,d=this.parentNode.month,e=this.x,f=this.y,g=d.cells[e][f].day;if(d.cells[e][f].isClickable){c.clearSelection(),c.selectionDay=g;var g=c.selectionDay;switch(c.$0w()){case"none":c.selectionStart=g,c.selectionEnd=g;break;case"day":var h=d.cells[e][f];c.$0A(b,e,f),c.selected.push(h),c.selectionStart=h.day,c.selectionEnd=h.day;break;case"week":for(var i=0;i<7;i++)c.$0A(b,i,f),c.selected.push(d.cells[i][f]);c.selectionStart=d.cells[0][f].day,c.selectionEnd=d.cells[6][f].day;break;case"month":for(var j=null,k=null,f=0;f<6;f++)for(var e=0;e<7;e++){var h=d.cells[e][f];h&&(h.day.getYear()===g.getYear()&&h.day.getMonth()===g.getMonth()&&(c.$0A(b,e,f),c.selected.push(h),null===j&&(j=h.day),k=h.day))}c.selectionStart=j,c.selectionEnd=k;break;default:throw"unknown selectMode"}c.$0D(),c.$0I()}},this.$0I=function(){var a=c.selectionStart,b=c.selectionEnd.addDays(1),d=DayPilot.DateUtil.daysDiff(a,b),e=c.selectionDay;if(c.$0n()){var f={};if(f.start=a,f.end=b,f.day=e,f.days=d,f.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onTimeRangeSelect&&(c.onTimeRangeSelect(f),f.preventDefault.value))return;switch(c.timeRangeSelectedHandling){case"Bind":var g=DayPilot.Util.evalVariable(c.bound);if(g){var h={};h.start=a,h.end=b,h.days=d,h.day=e,g.commandCallBack(c.command,h)}break;case"None":break;case"PostBack":c.timeRangeSelectedPostBack(a,b,e)}"function"==typeof c.onTimeRangeSelected&&c.onTimeRangeSelected(f)}else switch(c.timeRangeSelectedHandling){case"Bind":var g=DayPilot.Util.evalVariable(c.bound);if(g){var h={};h.start=a,h.end=b,h.days=d,h.day=e,g.commandCallBack(c.command,h)}break;case"JavaScript":c.onTimeRangeSelected(a,b,e);break;case"None":break;case"PostBack":c.timeRangeSelectedPostBack(a,b,e)}},this.timeRangeSelectedPostBack=function(a,b,c,d){var e={};e.start=a,e.end=b,e.day=d,this.$0Q("TimeRangeSelected",c,e)},this.$0t=function(a){c.$0S(c.skipMonths)},this.$0s=function(a){c.$0S(-c.skipMonths)},this.$0S=function(a){this.startDate=this.startDate.addMonths(a),this.$0o(),this.$0k(),this.$0H(),this.$0D(),this.$0J(),this.$0C()},this.$0F=function(){return c.startDate.firstDayOfMonth()},this.$0G=function(){return c.startDate.firstDayOfMonth().addMonths(this.showMonths)},this.visibleStart=function(){return c.startDate.firstDayOfMonth().firstDayOfWeek(d.weekStarts())},this.visibleEnd=function(){return c.startDate.firstDayOfMonth().addMonths(this.showMonths-1).firstDayOfWeek(d.weekStarts()).addDays(42)},this.$0J=function(){var a=this.visibleStart(),b=this.visibleEnd();if(c.$0n()){var d={};if(d.start=a,d.end=b,d.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onVisibleRangeChange&&(c.onVisibleRangeChange(d),d.preventDefault.value))return;switch(this.visibleRangeChangedHandling){case"CallBack":this.visibleRangeChangedCallBack(null);break;case"PostBack":this.visibleRangeChangedPostBack(null)}"function"==typeof c.onVisibleRangeChanged&&c.onVisibleRangeChanged(d)}else switch(this.visibleRangeChangedHandling){case"CallBack":this.visibleRangeChangedCallBack(null);break;case"PostBack":this.visibleRangeChangedPostBack(null);break;case"JavaScript":this.onVisibleRangeChanged(a,b)}},this.visibleRangeChangedCallBack=function(a){var b={};this.$0L("Visible",a,b)},this.visibleRangeChangedPostBack=function(a){var b={};this.$0Q("Visible",a,b)},this.$0P=function(a,b){var a=DayPilot.Util.parseJSON(a);c.items=a.Items,c.cells=a.Cells,c.$0C()},this.$0H=function(){for(var a=0;a<this.showMonths;a++){var b=this.$0T(a);this.$0r(a,b)}this.root.style.height=this.$0U()+"px"},this.$0U=function(){if("Horizontal"===this.orientation){for(var a=0,b=0;b<this.months.length;b++){var c=this.months[b];c.height>a&&(a=c.height)}return a}for(var d=0,b=0;b<this.months.length;b++){var c=this.months[b];d+=c.height}return d},this.$0T=function(a){if(this.internal.showLinks)return this.internal.showLinks;var b={};return b.left=0===a,b.right=0===a,b.before=0===a,b.after=a===this.showMonths-1,"Horizontal"===this.orientation&&(b.right=a===this.showMonths-1),b},this.$0V={},this.$0V.scope=null,this.$0V.notify=function(){c.$0V.scope&&c.$0V.scope.$apply()},this.internal={},this.internal.initialized=function(){return c.$0W},this.$0X={};var d=this.$0X;d.locale=function(){return DayPilot.Locale.find(c.locale)},d.weekStarts=function(){if("Auto"===c.weekStarts){var a=d.locale();return a?a.weekStarts:0}return c.weekStarts},d.cellWidth=function(){if(c.$0j.cellWidth)return c.$0j.cellWidth;var a=c.$0Y("_cell_dimensions").width;return a||(a=c.cellWidth),c.$0j.cellWidth=a,a},this.clearSelection=function(){for(var a=0;a<this.selected.length;a++){var b=this.selected[a];c.$0B(b.parentNode,b.x,b.y)}this.selected=[]},this.$0Z=function(){return!!this.backendUrl&&(void 0===c.items||!c.items)},this.events={},this.$0K=function(){if(DayPilot.isArray(this.events.list)){this.items={};for(var a=0;a<this.events.list.length;a++){var b=this.events.list[a],c=this.$10(b);for(var d in c)this.items[d]=1}}},this.$0Y=function(a){var b=document.createElement("div");b.style.position="absolute",b.style.top="-2000px",b.style.left="-2000px",b.className=this.$0l(a);var d=c.root||document.body;d.appendChild(b);var e=b.offsetHeight,f=b.offsetWidth;d.removeChild(b);var g={};return g.height=e,g.width=f,g},this.$10=function(a){for(var b=new DayPilot.Date(a.start),c=new DayPilot.Date(a.end),d={},e=b.getDatePart();e.getTime()<c.getTime();)d[e.toStringSortable()]=1,e=e.addDays(1);return d},this.show=function(){c.visible=!0,c.root.style.display=""},this.hide=function(){c.visible=!1,c.root.style.display="none"},this.$11=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Navigator() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Navigator: The placeholder element not found: '"+a+"'."}this.root=this.nav.top},this.init=function(){if(this.$11(),!this.root.dp){c.cssOnly||(c.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),this.$0E(),this.$0k(),this.$0H(),this.$0K(),this.$0C(),this.$12();this.$0Z()&&this.$0J(),this.$0W=!0}},this.dispose=function(){var a=c;a.root&&(a.root.removeAttribute("style"),a.root.removeAttribute("class"),a.root.dp=null,a.root.innerHTML=null,a.root=null)},this.$12=function(){this.root.dispose=this.dispose},this.Init=this.init},DayPilot.NavigatorVisible.Navigator=DayPilotNavigator.Navigator,"undefined"!=typeof jQuery&&function(a){a.fn.daypilotNavigator=function(a){var b=null,c=this.each(function(){if(!this.daypilot){var c=new DayPilot.Navigator(this.id);this.daypilot=c;for(var d in a)c[d]=a[d];c.Init(),b||(b=c)}});return 1===this.length?b:c}}(jQuery),function(){var b=DayPilot.am();b&&b.directive("daypilotNavigator",function(){return{restrict:"E",template:"<div id='{{id}};'></div>",compile:function(b,c){return b.replaceWith(this.template.replace("{{id}};",c.id)),function(b,c,d){var e=new DayPilot.Navigator(c[0]);e.$0V.scope=b,e.init();var f=d.id;f&&(b[f]=e);var g=b.$watch;g.call(b,d.daypilotConfig,function(a){for(var b in a)e[b]=a[b];e.update()},!0),g.call(b,d.daypilotEvents,function(a){e.events.list=a,e.$0K(),e.$0C()},!0)}}}})}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded())}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),void 0===DayPilotScheduler)var DayPilotScheduler=DayPilot.SchedulerVisible={};if(function(){function h(a){for(var b=a.touches[0].clientX,c=a.touches[0].clientY,d=document.elementFromPoint(b,c);d&&d.parentNode;)if(d=d.parentNode,d.daypilotMainD)return d.calendar;return!1}function i(a){var b=a.touches[0].pageX,c=a.touches[0].pageY,d={};return d.x=b,d.y=c,d}if(void 0===DayPilot.Scheduler){var a=function(){var a=navigator.userAgent;return a.indexOf("Mozilla/5.0")>-1&&a.indexOf("Android ")>-1&&a.indexOf("AppleWebKit")>-1&&!(a.indexOf("Chrome")>-1)}(),b={},c=function(){};DayPilot.Scheduler=function(d,e){function C(a,b){return 1-a/b}this.v="1969";var f=this;this.id=d,this.isScheduler=!0,this.hideUntilInit=!0,this.api=2,this.allowDefaultContextMenu=!1,this.allowEventOverlap=!0,this.allowMultiMove=!1,this.allowMultiRange=!1,this.allowMultiResize=!1,this.allowMultiSelect=!0,this.multiSelectRectangle="Disabled",this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.autoScroll="Drag",this.blockOnCallBack=!1,this.businessBeginsHour=9,this.businessEndsHour=18,this.businessWeekends=!1,this.cellDuration=60,this.cellGroupBy="Day",this.cellWidth=40,this.cellWidthMin=1,this.cellWidthSpec="Fixed",this.groupConcurrentEvents=!1,this.groupConcurrentEventsLimit=1,this.$94=!0,this.$95=!1,this.cellSweeping=!0,this.cellSweepingCacheSize=1e3,this.crosshairColor="Gray",this.crosshairOpacity=20,this.crosshairType="Header",this.$96=!1,this.doubleClickTimeout=300,this.dragOutAllowed=!1,this.durationBarHeight=3,this.durationBarVisible=!0,this.durationBarMode="Duration",this.durationBarDetached=!1,this.days=1,this.drawBlankCells=!0,this.dynamicEventRendering="Progressive",this.dynamicEventRenderingMargin=50,this.dynamicEventRenderingMarginX=null,this.dynamicEventRenderingMarginY=null,this.dynamicEventRenderingCacheSweeping=!1,this.dynamicEventRenderingCacheSize=200,this.dynamicLoading=!1,this.eventBorderColor="#000000",this.eventBorderVisible=!0,this.eventBackColor="#FFFFFF",this.eventEndSpec="DateTime",this.eventFontFamily="Tahoma, Arial",this.eventFontSize="8pt",this.eventFontColor="#000000",this.eventHeight=25,this.eventMoveMargin=5,this.eventMoveToPosition=!1,this.eventResizeMargin=5,this.eventStackingLineHeight=100,this.eventTapAndHoldHandling="Move",this.eventTextWrappingEnabled=!1,this.$97=!1,this.headerFontColor="#000000",this.headerFontFamily="Tahoma, Arial",this.headerFontSize="8pt",this.headerHeight=20,this.heightSpec="Auto",this.hideBorderFor100PctHeight=!1,this.hourFontFamily="Tahoma, Arial",this.hourFontSize="10pt",this.hourNameBackColor="#ECE9D8",this.hourNameBorderColor="#ACA899",this.$98=10,this.$99=30,this.$9a=!0,this.layout="Auto",this.linkCreateHandling="Disabled",this.linkBottomMargin=10,this.linkPointSize=10,this.locale="en-us",this.loadingLabelText="Loading...",this.loadingLabelVisible=!0,this.loadingLabelBackColor="orange",this.loadingLabelFontColor="#ffffff",this.loadingLabelFontFamily="Tahoma",this.loadingLabelFontSize="10pt",this.messageHideAfter=5e3,this.messageHideOnMouseOut=!0,this.multiMoveVerticalMode="Disabled",this.moveBy="Full",this.notifyCommit="Immediate",this.numberFormat="0.00",this.progressiveRowRendering=!0,this.progressiveRowRenderingPreload=25,this.tapAndHoldTimeout=300,this.timeHeaders=[{groupBy:"Default"},{groupBy:"Cell"}],this.treePreventParentUsage=!1,this.treeAutoExpand=!0,this.rowHeaderColumnDefaultWidth=80,this.rowHeaderHideIconEnabled=!1,this.rowHeaderWidth=80,this.rowHeaderScrolling=!1,this.rowHeaderSplitterWidth=3,this.rowHeaderWidthAutoFit=!0,this.rowHeaderCols=null,this.rowMarginBottom=0,this.rowMarginTop=0,this.rowMinHeight=0,this.scale="CellDuration",this.scrollDelayDynamic=500,this.scrollDelayEvents=200,this.scrollDelayCells=0,this.scrollDelayFloats=0,this.scrollX=0,this.scrollY=0,this.selectedRows=[],this.shadow="Fill",this.showBaseTimeHeader=!0,this.showNonBusiness=!0,this.showToolTip=!0,this.snapToGrid=!0,this.startDate=(new DayPilot.Date).getDatePart(),this.syncResourceTree=!1,this.timeBreakColor="#000000",this.timeHeaderTextWrappingEnabled=!1,this.treeEnabled=!1,this.treeIndent=20,this.treeImageMarginLeft=5,this.treeImageMarginTop=5,this.timeFormat="Auto",this.useEventBoxes="Always",this.viewType="Resources",this.visible=!0,this.weekStarts="Auto",this.width=null,this.floatingEvents=!0,this.floatingTimeHeaders=!0,this.eventCorners="Regular",this.separators=[],this.cornerHtml="",this.$9b=-1,this.$9c=-1,this.eventClickHandling="Enabled",this.eventDeleteHandling="Disabled",this.eventHoverHandling="Bubble",this.eventDoubleClickHandling="Disabled",this.eventEditHandling="Update",this.eventMoveHandling="Update",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.eventSelectHandling="Update",this.rowClickHandling="Enabled",this.rowDoubleClickHandling="Disabled",this.rowCreateHandling="Disabled",this.rowEditHandling="Update",this.rowHeaderColumnResizedHandling="Update",this.rowSelectHandling="Update",this.rowMoveHandling="Disabled",this.timeRangeDoubleClickHandling="Disabled",this.timeRangeSelectedHandling="Enabled",this.eventMovingStartEndEnabled=!1,this.eventMovingStartEndFormat="MMMM d, yyyy",this.timeRangeSelectingStartEndEnabled=!1,this.timeRangeSelectingStartEndFormat="MMMM d, yyyy",this.eventResizingStartEndEnabled=!1,this.eventResizingStartEndFormat="MMMM d, yyyy",this.cssOnly=!0,this.cssClassPrefix="scheduler_default",this.eventVersionsEnabled=!1,this.eventVersionHeight=25,this.eventVersionMargin=2,this.backendUrl=null,1===f.api&&(this.onEventMove=function(){},this.onEventResize=function(){},this.onResourceExpand=function(){},this.onResourceCollapse=function(){}),this.onEventMove=null,this.onEventMoved=null,this.onEventMoving=null,this.onEventResize=null,this.onEventResized=null,this.onEventResizing=null,this.onEventMouseOver=null,this.onEventMouseOut=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.onTimeRangeSelecting=null,this.onRowHeaderResized=null,this.onCellMouseOver=null,this.onCellMouseOut=null,this.onBeforeCellRender=null,this.onBeforeEventRender=null,this.onBeforeTimeHeaderRender=null,this.onRectangleEventSelecting=null,this.onRectangleEventSelect=null,this.onRectangleEventSelected=null,this.$9d=0,this.$9e=0,this.rowlist=DayPilot.list(),this.itline=DayPilot.list();this.timeline=null,this.events={},this.cells={},this.elements={},this.elements.events=[],this.elements.bars=[],this.elements.text=[],this.elements.cells=[],this.elements.linesVertical=[],this.elements.separators=[],this.elements.range=[],this.elements.breaks=[],this.elements.links=[],this.elements.linkpoints=[],this.elements.rectangle=[],this.elements.hover=[],this.$9f={},this.$9f.cells=[],this.$9f.linesVertical={},this.$9f.linesHorizontal={},this.$9f.timeHeaderGroups=[],this.$9f.timeHeader={},this.$9f.pixels=[],this.$9f.breaks=[],this.$9f.events=[],this.clientState={},this.members={},this.members.obsolete=["Init","cleanSelection","cssClassPrefix","getHScrollPosition","setHScrollPosition","getVScrollPosition","setVScrollPosition","showBaseTimeHeader"],this.members.ignoreFilter=function(a){return 0===a.indexOf("div")},this.members.ignore=["internal","nav","debug","temp","elements","members","cellProperties","itline","rowlist","timeHeader"],this.members.noCssOnly=["borderColor","cellBackColor","cellBackColorNonBusiness","cellBorderColor","cellSelectColor","durationBarColor","eventBackColor","eventBorderColor","eventBorderVisible","eventCorners","eventFontColor","eventFontFamily","eventFontSize","headerFontColor","headerFontFamily","headerFontSize","hourFontFamily","hourFontSize","hourNameBackColor","hourNameBorderColor","loadingLabelBackColor","loadingLabelFontColor","loadingLabelFontFamily","loadingLabelFontSize","shadow","timeBreakColor"],this.nav={},this.$9g=function(a,b){var a=DayPilot.Util.parseJSON(a);if(f.onScrollCalled=!1,"function"==typeof f.onCallBackResult){var c={};if(c.result=a,c.preventDefault=function(){c.preventDefault.value=!0},f.onCallBackResult(c),c.preventDefault.value)return f.$9h(),f.$9i(),f.$9j(),a.Message&&f.message&&f.message(a.Message),f.$9k(a.CallBackData,!0),f.$9l(),void f.$9m()}if(a.BubbleGuid){var d=a.BubbleGuid,e=this.bubbles[d];return delete this.bubbles[d],f.$9i(),void 0!==a.Result.BubbleHTML&&e&&e.updateView(a.Result.BubbleHTML,e),void f.$9l()}if(a.CallBackRedirect)return void(document.location.href=a.CallBackRedirect);if(void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),void 0!==a.ClientState&&(null===a.ClientState?f.clientState={}:f.clientState=a.ClientState),"None"===a.UpdateType)return f.$9i(),f.$9l(),a.Message&&f.message(a.Message),void f.$9k(a.CallBackData,!0);if(a.VsUpdate){var g=document.createElement("input");g.type="hidden",g.name=f.id+"_vsupdate",g.id=g.name,g.value=a.VsUpdate,f.$9n.innerHTML="",f.$9n.appendChild(g)}void 0!==a.TagFields&&(f.tagFields=a.TagFields),void 0!==a.SortDirections&&(f.sortDirections=a.SortDirections),f.$9f.drawArea=null,"Full"===a.UpdateType&&(f.resources=a.Resources,f.colors=a.Colors,f.palette=a.Palette,f.dirtyColors=a.DirtyColors,f.cellProperties=a.CellProperties,f.cellConfig=a.CellConfig,f.separators=a.Separators,f.timeline=a.Timeline,f.timeHeader=a.TimeHeader,f.timeHeaders=a.TimeHeaders,void 0!==a.Links&&(f.links.list=a.Links),void 0!==a.RowHeaderColumns&&(f.rowHeaderColumns=a.RowHeaderColumns),f.startDate=a.StartDate?new DayPilot.Date(a.StartDate):f.startDate,f.days=a.Days?a.Days:f.days,f.cellDuration=a.CellDuration?a.CellDuration:f.cellDuration,f.cellGroupBy=a.CellGroupBy?a.CellGroupBy:f.cellGroupBy,f.cellWidth=a.CellWidth?a.CellWidth:f.cellWidth,f.viewType=a.ViewType?a.ViewType:f.viewType,f.hourNameBackColor=a.HourNameBackColor?a.HourNameBackColor:f.hourNameBackColor,void 0!==a.ShowNonBusiness&&(f.showNonBusiness=a.ShowNonBusiness),f.businessBeginsHour=a.BusinessBeginsHour?a.BusinessBeginsHour:f.businessBeginsHour,f.businessEndsHour=a.BusinessEndsHour?a.BusinessEndsHour:f.businessEndsHour,void 0!==a.DynamicLoading&&(f.dynamicLoading=a.DynamicLoading),void 0!==a.TreeEnabled&&(f.treeEnabled=a.TreeEnabled),f.backColor=a.BackColor?a.BackColor:f.backColor,f.nonBusinessBackColor=a.NonBusinessBackColor?a.NonBusinessBackColor:f.nonBusinessBackColor,f.locale=a.Locale?a.Locale:f.locale,void 0!==a.TimeZone&&(f.timeZone=a.TimeZone),f.timeFormat=a.TimeFormat?a.TimeFormat:f.timeFormat,f.rowHeaderCols=a.RowHeaderCols?a.RowHeaderCols:f.rowHeaderCols,void 0!==a.DurationBarMode&&(f.durationBarMode=a.DurationBarMode),f.cornerBackColor=a.CornerBackColor?a.CornerBackColor:f.cornerBackColor,void 0!==a.CornerHTML&&(f.cornerHtml=a.CornerHTML),f.hashes=a.Hashes,f.$9o(),f.$9p(),f.$9q(),f.$9r()),"Scroll"!==a.Action&&f.$9s(a.Events),"Full"===a.UpdateType&&(f.$9t(),f.$9u()),f.$9v(),f.$9w(),f.$9x(),f.$9f.drawArea=null,"Scroll"!==a.Action?(f.$9y(),f.$9z(),"Auto"!==f.heightSpec&&"Max"!==f.heightSpec||f.$9A(),f.$9B(),f.$9C(),f.$9D(),f.multiselect.clear(!0),f.multiselect.$9E(a.SelectedEvents),f.$9F(),f.$9G(),f.$9H()):(f.multiselect.clear(!0),f.multiselect.$9E(a.SelectedEvents),f.$9I(a.Events)),"HoldForever"!==f.timeRangeSelectedHandling&&f.$9J(),"Full"===a.UpdateType&&(f.setScroll(a.ScrollX,a.ScrollY),f.$9K()),f.$9L(),f.$9h(),a.SelectedRows&&f.$9M(a.SelectedRows),f.$9i(),"Full"===a.UpdateType&&-1!==navigator.appVersion.indexOf("MSIE 7.")&&window.setTimeout(function(){f.$9t(),f.$9A()},0),f.$9j(),a.Message&&f.message&&f.message(a.Message),f.$9k(a.CallBackData,!0),f.$9l(),f.$9m(),"Full"!==a.UpdateType||"Scroll"===a.Action||f.onScrollCalled||setTimeout(function(){f.$9N()},0)},this.$9h=function(){if(f.todo&&f.todo.del){var a=f.todo.del;a.parentNode.removeChild(a),f.todo.del=null}},this.$9k=function(a,b){var c=function(a,b){return function(){if(f.$9O()){if("function"==typeof f.onAfterRender){var c={};c.isCallBack=b,c.data=a,f.onAfterRender(c)}}else f.afterRender&&f.afterRender(a,b)}};window.setTimeout(c(a,b),0)},this.scrollTo=function(a,b,c){if(a){var d;if(a instanceof DayPilot.Date)d=this.getPixels(a).left;else if("string"==typeof a)d=this.getPixels(new DayPilot.Date(a)).left;else{if("number"!=typeof a)throw"Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), DayPilot.Date object";d=a}var e=this.$9P.clientWidth,g=this.nav.scroll.clientWidth;switch(c=c||"left",c.toLowerCase()){case"left":break;case"middle":d-=g/2;break;case"right":d-=g}if(d<0&&(d=0),d>e-g&&(d=e-g),!b)return void this.setScrollX(d);var h=Math.abs(f.nav.scroll.scrollLeft-d),i=h/e,j=50;if("number"==typeof b)j=b;else if("string"==typeof b)switch(b){case"fast":j=30;break;case"normal":j=50;break;case"slow":j=100;break;case"linear":j=Math.floor(100*i)}i>.6&&(j=Math.min(j,80)),this.$9Q(d,j)}},this.$9Q=function(a,b){function j(a){var b=a.next();if(void 0===b)return void(a.finished&&a.finished());f.setScrollX(b),window.clearTimeout(f.refreshTimeout),setTimeout(function(){j(a)},a.delay)}var c={};c.steps=[],c.index=0,c.delay=10,c.next=function(){var a=c.steps[c.index];return c.index+=1,a},c.finished=function(){f.$9N()};for(var d=f.getScrollX(),b=b||100,e=a-d,g=0;g<b;g++){var h=g/b,i=2*(h-.5)/(Math.pow(2*(h-.5),2)+1)+.5;c.steps.push(d+e*i)}c.steps.push(a),j(c)},this.scrollToResource=function(a){DayPilot.complete(function(){var b=f.$9R(a);b&&setTimeout(function(){var a=b.top;f.nav.scroll.scrollTop=a},100)})},this.$9S=function(){if(this.cssOnly&&this.floatingTimeHeaders&&this.timeHeader){var a=this.$9T();if(a){this.$9U();for(var b=a.pixels.left+h.shiftX,c=a.pixels.right+h.shiftX,d=[],e=0;e<this.timeHeader.length;e++)for(var f=0;f<this.timeHeader[e].length;f++){var g=this.timeHeader[e][f],i=g.left,j=g.left+g.width,k=null;if(i<b&&b<j&&(k={},k.x=f,k.y=e,k.marginLeft=b-i,k.marginRight=0,k.div=this.$9f.timeHeader[f+"_"+e],d.push(k)),i<c&&c<j){k||(k={},k.x=f,k.y=e,k.marginLeft=0,k.div=this.$9f.timeHeader[f+"_"+e],d.push(k)),k.marginRight=j-c;break}}for(var l=0;l<d.length;l++){var k=d[l];this.$9V(k.div,k.marginLeft,k.marginRight)}}}},this.$9L=function(){this.$9S(),this.$9W()},this.$9X={};var g=this.$9X;g.eventsInRectangle=function(a,b,c,d){var e=a,g=a+c,h=b,i=b+d;return DayPilot.list(f.elements.events).filter(function(a){var b=a.event,c=b.part.left,d=b.part.left+b.part.width,j=f.rowlist[b.part.dayIndex],k=j.top+b.part.top,l=k+b.part.height;if(DayPilot.Util.overlaps(c,d,e,g)&&DayPilot.Util.overlaps(k,l,h,i))return!0})},g.events=function(a){var b=[],a=a||"All",c=f.$9T();if(!c)return DayPilot.list(b);for(var d=c.pixels.left,e=c.pixels.right,g=0;g<f.elements.events.length;g++){var h=f.elements.events[g],i=h.event,j=i.part.left,k=i.part.left+i.part.width;switch(a){case"Left":j<d&&d<k&&b.push(h);break;case"All":DayPilot.Util.overlaps(j,k,d,e)&&b.push(h)}}return DayPilot.list(b).addProps({area:c})},this.$9W=function(){if(this.cssOnly&&this.floatingEvents){var a=g.events("Left");this.$9Y(),a.each(function(b){var c=a.area.pixels.left,d=b.event,e=d.part.left,g=c-e;f.$9Z(b,g,0)})}},this.elements.sections=[],this.elements.hsections=[],this.$9V=function(a,b,c){var d=document.createElement("div");d.setAttribute("unselectable","on"),d.className=this.$a0("_timeheader_float"),d.style.position="absolute",d.style.left=b+"px",d.style.right=c+"px",d.style.top="0px",d.style.bottom="0px",d.style.overflow="hidden";var e=document.createElement("div");e.className=this.$a0("_timeheader_float_inner"),e.setAttribute("unselectable","on"),e.innerHTML=a.cell.th.innerHTML,d.appendChild(e),a.section=d,a.insertBefore(d,a.firstChild.nextSibling),a.firstChild.innerHTML="",this.elements.hsections.push(a)},this.$9U=function(){for(var a=0;a<this.elements.hsections.length;a++){var b=this.elements.hsections[a],c=b.cell;c&&b.firstChild&&(b.firstChild.innerHTML=c.th.innerHTML),DayPilot.de(b.section),b.section=null}this.elements.hsections=[]},this.$9Z=function(a,b,c){var d=document.createElement("div");d.setAttribute("unselectable","on"),d.className=this.$a0("_event_float"),d.style.position="absolute",d.style.left=b+"px",d.style.right=c+"px",d.style.top="0px",d.style.bottom="0px",d.style.overflow="hidden";var e=document.createElement("div");e.className=this.$a0("_event_float_inner"),e.setAttribute("unselectable","on"),e.innerHTML=a.event.client.html(),a.event.data.fontColor&&(e.style.color=a.event.data.fontColor),d.appendChild(e),a.section=d,a.insertBefore(d,a.firstChild.nextSibling),a.firstChild.innerHTML="";var f={offsetX:parseInt(new DayPilot.StyleReader(e).get("padding-left")),eventDiv:a};DayPilot.Areas.attach(d,a.event,f),DayPilot.Areas.disable(a),this.elements.sections.push(a)},this.$9Y=function(){for(var a=0;a<this.elements.sections.length;a++){var b=this.elements.sections[a],c=b.event;c&&(b.firstChild.innerHTML=c.client.html()),DayPilot.de(b.section),DayPilot.Areas.enable(b),b.section=null}this.elements.sections=[]},this.setScrollX=function(a){var b=f.nav.scroll,c=f.$a1()*f.cellWidth;b.clientWidth+a>c&&(a=c-b.clientWidth),f.divTimeScroll.scrollLeft=a,b.scrollLeft=a},this.setScrollY=function(a){var b=f.nav.scroll,c=f.$9e;b.clientHeight+a>c&&(a=c-b.clientHeight),f.divResScroll.scrollTop=a,b.scrollTop=a},this.setScroll=function(a,b){f.setScrollX(a),f.setScrollY(b)},this.message=function(a,b){if(null!==a){var c={};"object"==typeof arguments[1]&&(c=arguments[1],b=c.delay);var i,b=b||this.messageHideAfter||2e3,d=this.$a2()+1,e=this.$a3()+F.splitterWidth(),g=DayPilot.sw(f.nav.scroll)+1,h=DayPilot.sh(f.nav.scroll)+1;if(this.nav.message)i=f.nav.message;else{i=document.createElement("div"),i.style.position="absolute",i.style.left=e+"px",i.style.right=g+"px",i.style.display="none",DayPilot.re(i,DayPilot.touch.start,function(a){f.nav.message.style.display="none",a.preventDefault(),a.stopPropagation()}),i.onmousemove=function(){f.messageHideOnMouseOut&&i.messageTimeout&&!i.status&&clearTimeout(i.messageTimeout)},i.onmouseout=function(){f.messageHideOnMouseOut&&"none"!==f.nav.message.style.display&&(i.messageTimeout=setTimeout(f.$a4,500))};var j=document.createElement("div");j.onclick=function(){f.nav.message.style.display="none"},j.className=this.$a0("_message"),i.appendChild(j);var k=document.createElement("div");k.style.position="absolute",k.className=this.$a0("_message_close"),k.onclick=function(){f.nav.message.style.display="none"},i.appendChild(k),this.nav.top.appendChild(i),this.nav.message=i}var l=function(){var e=f.nav.message;c.cssClass&&DayPilot.Util.addClass(e.firstChild,c.cssClass),f.nav.message.firstChild.innerHTML=a;var i=DayPilot.sw(f.nav.scroll)+1;f.nav.message.style.right=i+"px";var j=f.messageBarPosition||"Top";"Bottom"===j?(f.nav.message.style.bottom=h+"px",f.nav.message.style.top=""):"Top"===j&&(f.nav.message.style.bottom="",f.nav.message.style.top=d+"px");var k=function(){e.messageTimeout=setTimeout(f.$a4,b)};DayPilot.fade(f.nav.message,.2,k)};clearTimeout(i.messageTimeout),"none"!==this.nav.message.style.display?DayPilot.fade(f.nav.message,-.2,l):l()}},this.$a4=function(){if(f.nav.message){var a=function(){f.nav.message.style.display="none"};DayPilot.fade(f.nav.message,-.2,a)}},this.message.show=function(a){f.message(a)},this.message.hide=function(){f.$a4()},this.$a5=null,this.$9A=function(){if(this.nav.scroll){var a=1;null!==this.$a5&&(this.nav.top.style.border=this.$a5,this.$a5=null),"Parent100Pct"===this.heightSpec&&(this.nav.top.style.height="100%",this.hideBorderFor100PctHeight&&(this.$a5=this.nav.top.style.border,this.nav.top.style.border="0 none"),this.height=parseInt(this.nav.top.clientHeight,10)-this.$a2()-a),this.nav.scroll.style.height="30px";var b=this.$a6(),c=b+this.$a2()+a;b>=0&&(this.nav.scroll.style.height=b+"px",this.$a7.style.height=b+"px"),this.nav.divider&&((!c||isNaN(c)||c<0)&&(c=0),this.nav.divider.style.height=c+"px"),"Parent100Pct"!==this.heightSpec&&(this.nav.top.style.height=c+"px"),f.nav.resScrollSpace&&(f.nav.resScrollSpace.style.height=b+20+"px");for(var d=0;d<this.elements.separators.length;d++)this.elements.separators[d].style.height=this.$9e+"px";for(var d=0;d<this.elements.linesVertical.length;d++)this.elements.linesVertical[d].style.height=this.$9e+"px"}},this.$9p=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart(),this.$9f.pixels=[],this.itline=DayPilot.list();var a="Auto"===this.cellWidthSpec;if(function(){if(a){var b=0;f.timeHeader?f.timeline&&(b=f.timeline.length):"Manual"===f.scale?b=f.timeline.length:(f.$a8(),b=f.itline.length,f.itline=DayPilot.list());var c=f.$a9();b>0&&c>0&&(f.cellWidth=c/b)}}(),this.$aa()&&this.timeline){if(this.timeline){this.itline=DayPilot.list();for(var c=null,d=0,e=0;e<this.timeline.length;e++){var g=this.timeline[e],h={};if(h.start=new DayPilot.Date(g.start),h.end=g.end?new DayPilot.Date(g.end):h.start.addMinutes(this.cellDuration),g.width)h.left=g.left||d,h.width=g.width||this.cellWidth,d+=h.width;else{var i=Math.floor(d+this.cellWidth),j=i-Math.floor(d);h.left=Math.floor(d),h.width=j,d+=this.cellWidth}h.breakBefore=c&&c.ticks!==h.start.ticks,c=h.end,this.itline.push(h)}}a&&this.$ab()}else{if(this.timeHeader=[],"Manual"===this.scale){this.itline=DayPilot.list();for(var d=0,c=null,e=0;e<this.timeline.length;e++){var g=this.timeline[e],h={};if(h.start=new DayPilot.Date(g.start),h.end=g.end?new DayPilot.Date(g.end):h.start.addMinutes(this.cellDuration),c&&h.start.ticks<c.ticks)throw"The timeline must be sequential";var k=g.width||this.cellWidth,i=Math.floor(d+k),j=i-Math.floor(d);h.left=Math.floor(d),h.width=j,d+=k,h.breakBefore=c&&c.ticks!==h.start.ticks,c=h.end,this.itline.push(h)}}else this.$a8();this.$ac()}},this.$ad={};var h=this.$ad;h.shiftX=0,h.active=!1,h.updateRowStarts=function(){DayPilot.list(f.rowlist).each(function(a,b){a.start=f.$ae(),a.data=null,f.$af(b)})},h.isEnabled=function(){return f.temp.infiniteScrolling},h.shiftTo=function(a){var a=new DayPilot.Date(a),b=a.addDays(-f.$99).getDatePart(),c=new DayPilot.Duration(b.getTime()-f.startDate.getDatePart().getTime()).totalDays();h.shiftStart(c,a)},h.shiftStart=function(a,b){var c;h.active=!0;var d=f.startDate,e=f.startDate.addDays(a);a>0&&(c=-f.getPixels(e).left),f.startDate=f.startDate.addDays(a),f.itline=DayPilot.list(),f.$9f.pixels=[],f.$a8(),h.updateRowStarts(),a<0&&(c=f.getPixels(d).left),f.timeHeader=[],f.$ac(),f.$9u(),f.cellProperties={},f.$9B(),f.$9D(),f.$9s(),f.$9C(),void 0!==b?(f.scrollTo(new DayPilot.Date(b)),f.$9N()):f.nav.scroll.scrollLeft+=c,f.$9H(),h.active=!1},this.$a8=function(){for(var a="Days"!==this.viewType?this.startDate.addDays(this.days):this.startDate.addDays(1),b=this.startDate,c=this.$ag(b),d=!1,e=0;c.ticks<=a.ticks&&c.ticks>b.ticks;){if(this.$ah(b,c)){var f=Math.floor(e+this.cellWidth),g=f-Math.floor(e),h={};h.start=b,h.end=c,h.left=Math.floor(e),h.width=g,h.breakBefore=d,this.itline.push(h),e+=this.cellWidth,d=!1}else d=!0;b=c,c=this.$ag(b)}},this.$ab=function(){if(this.timeHeader)for(var a=0;a<this.timeHeader.length;a++)for(var b=this.timeHeader[a],c=0;c<b.length;c++){var d=b[c];d.left=this.getPixels(new DayPilot.Date(d.start)).left;var e=this.getPixels(new DayPilot.Date(d.end)).left,f=e-d.left;d.width=f}},this.$ac=function(){var a=this.timeHeaders;a||(a=[{groupBy:this.cellGroupBy},{groupBy:"Cell"}]);for(var b=f.$ai(),c=0;c<a.length;c++){var d=a[c].groupBy,e=a[c].format;"Default"===d&&(d=this.cellGroupBy);for(var g=[],h=this.$ae();h.ticks<b.ticks;){var i={};if(i.start=h,i.end=this.$aj(i.start,d),i.start.ticks===i.end.ticks)break;i.left=this.getPixels(i.start).left;var j=this.getPixels(i.end).left,k=j-i.left;if(i.width=k,i.colspan=Math.ceil(k/(1*this.cellWidth)),i.innerHTML=e?i.start.toString(e,F.locale()):this.$ak(i,d),k>0){if("function"==typeof this.onBeforeTimeHeaderRender){var l={};l.start=i.start,l.end=i.end,l.html=i.innerHTML,l.toolTip=i.innerHTML,l.backColor=null,l.level=this.timeHeader.length;var m={};m.header=l,this.onBeforeTimeHeaderRender(m),i.innerHTML=l.html,i.backColor=l.backColor,i.toolTip=l.toolTip,i.areas=l.areas}g.push(i)}h=i.end}this.timeHeader.push(g)}},this.$ah=function(a,b){if("function"==typeof this.onIncludeTimeCell){var c={};c.start=a,c.end=b,c.visible=!0;var d={};return d.cell=c,this.onIncludeTimeCell(d),c.visible}return!!this.showNonBusiness||this.isBusiness({start:a,end:b})},this.getPixels=function(a){var b=a.ticks,c=this.$9f.pixels[b];if(c)return c;var e=2218768416e5;if(0===this.itline.length||b<this.itline[0].start.ticks){var f={};return f.cut=!1,f.left=0,f.boxLeft=f.left,f.boxRight=f.left,f.i=null,f}for(var g=this.$al(a),h=Math.max(g.i-1,0),i=h;i<this.itline.length;i++){var j=this.itline[i],k=j.start.ticks,l=j.end.ticks;if(k<b&&b<l){var m=b-k,f={};f.cut=!1,f.left=j.left+this.$am(j,m),f.boxLeft=j.left,f.boxRight=j.left+j.width,f.i=i;break}if(k===b){var f={};f.cut=!1,f.left=j.left,f.boxLeft=f.left,f.boxRight=f.left+j.width,f.i=i;break}if(l===b){var f={};f.cut=!1,f.left=j.left+j.width,f.boxLeft=f.left,f.boxRight=f.left,f.i=i+1;break}if(b<k&&b>e){var f={};f.cut=!0,f.left=j.left,f.boxLeft=f.left,f.boxRight=f.left,f.i=i;break}e=l}if(!f){var n=this.itline[this.itline.length-1],f={};f.cut=!0,f.left=n.left+n.width,f.boxLeft=f.left,f.boxRight=f.left,f.i=null}return this.$9f.pixels[b]=f,f},this.getDate=function(a,b,c){var d=this.$an(a,c);if(!d)return null;var e=d.x,f=this.itline[e];if(!f)return null;var g=c&&!b?f.end:f.start;return b?g.addTime(this.$ao(d.cell,d.offset)):g},this.$an=function(a,b){if(0===this.itline.length)return null;for(var c=0,d=0,e=0;e<this.itline.length;e++){var g=this.itline[e];if(c+=g.width||this.cellWidth,a<c||b&&a===c){var i={};return i.x=e,i.offset=a-d,i.cell=g,i}d=c}var g=f.itline.last(),i={};return i.x=this.itline.length-1,i.offset=g.width||this.cellWidth,i.cell=g,i},this.$ap=function(a){return this.$al(a)},this.$aq=function(a){for(var b=new DayPilot.Date(a),c=0;c<this.itline.length;c++){var d=this.itline[c];if(d.start.ticks<=b.ticks&&b.ticks<d.end.ticks){var e={};return e.hidden=!1,e.current=d,e}if(b.ticks<d.start.ticks){var e={};return e.hidden=!0,e.previous=c>0?this.itline[c-1]:null,e.current=null,e.next=this.itline[c],e}}var e={};return e.past=!0,e.previous=this.itline[this.itline.length-1],e},this.$al=function(a){var b=new DayPilot.Date(a),c=0,d=this.itline[0];if(b.ticks<d.start.ticks){var e={};return e.hidden=!0,e.previous=null,e.current=null,e.next=this.itline[0],e.i=-1,e}var g=this.itline.length-1,h=this.itline[g];if(b.ticks>h.end.ticks){var e={};return e.past=!0,e.previous=this.itline[this.itline.length-1],e.i=this.itline.length,e}for(var i=function(){for(var d,a=f.itline;c<=g;)if(d=Math.floor((c+g)/2),a[d].start.ticks>b.ticks)g=d-1;else{if(!(a[d].end.ticks<b.ticks))return d;c=d+1}return c}(),j=i;j<this.itline.length;j++){var k=this.itline[j];if(k.start.ticks<=b.ticks&&b.ticks<k.end.ticks){var e={};return e.hidden=!1,e.current=k,e.i=j,e}if(b.ticks<k.start.ticks){var e={};return e.hidden=!0,e.previous=j>0?this.itline[j-1]:null,e.current=null,e.next=this.itline[j],e.i=j,e}}var e={};return e.past=!0,e.previous=this.itline[this.itline.length-1],e.i=this.itline.length,e},this.$am=function(a,b){var c=a.width||this.cellWidth,d=a.end.ticks-a.start.ticks;return Math.floor(c*b/d)},this.$ao=function(a,b){var c=a.end.ticks-a.start.ticks,d=a.width||this.cellWidth;return Math.floor(b/d*c)},this.$ar=function(a){B.start||(A={},f.$as(this,a))},this.eventClickPostBack=function(a,b){this.$at("EventClick",a,b)},this.eventClickCallBack=function(a,b){this.$au("EventClick",a,b)},this.$as=function(a,b){var c=a.event,b=b||window.event;if(void 0!==DayPilotBubble&&DayPilotBubble.hideActive(),!c.client.doubleClickEnabled())return void f.$av(a,b);f.timeouts.click||(f.timeouts.click=[]);var d=function(a,b){return function(){f.$av(a,b)}};f.timeouts.click.push(window.setTimeout(d(a,b),f.doubleClickTimeout))},this.$aw=function(a){return f.itline[a]},this.$av=function(a,b){if("boolean"==typeof b)throw"Invalid _eventClickSingle parameters";var c=a.event,d=b.ctrlKey,e=b.metaKey;if(c.client.clickEnabled())if(f.$9O()){var g={};if(g.e=c,g.div=a,g.originalEvent=b,g.ctrl=d,g.meta=e,g.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onEventClick&&(f.onEventClick(g),g.preventDefault.value))return;switch(f.eventClickHandling){case"PostBack":f.eventClickPostBack(c);break;case"CallBack":f.eventClickCallBack(c);break;case"Edit":f.$ax(a);break;case"Select":f.$ay(a,c,d,e);break;case"ContextMenu":var h=c.client.contextMenu();h?h.show(c):f.contextMenu&&f.contextMenu.show(c);break;case"Bubble":f.bubble&&f.bubble.showEvent(c);break;case"RectangleSelect":if("Disabled"!==f.multiSelectRectangle)return D.start(),!1}"function"==typeof f.onEventClicked&&f.onEventClicked(g)}else switch(f.eventClickHandling){case"PostBack":f.eventClickPostBack(c);break;case"CallBack":f.eventClickCallBack(c);break;case"JavaScript":f.onEventClick(c);break;case"Edit":f.$ax(a);break;case"Select":f.$ay(a,c,d,e);break;case"ContextMenu":var h=c.client.contextMenu();h?h.show(c):f.contextMenu&&f.contextMenu.show(c);break;case"Bubble":f.bubble&&f.bubble.showEvent(c);break;case"RectangleSelect":if("Disabled"!==f.multiSelectRectangle)return D.start(),!1}},this.$az=function(a){if(f.$9O()){var b={};if(b.e=a,b.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onEventDelete&&(f.onEventDelete(b),b.preventDefault.value))return;switch(f.eventDeleteHandling){case"PostBack":f.eventDeletePostBack(a);break;case"CallBack":f.eventDeleteCallBack(a);break;case"Update":f.events.remove(a)}"function"==typeof f.onEventDeleted&&f.onEventDeleted(b)}else switch(f.eventDeleteHandling){case"PostBack":f.eventDeletePostBack(a);break;case"CallBack":f.eventDeleteCallBack(a);break;case"JavaScript":f.onEventDelete(a)}},this.eventDeletePostBack=function(a,b){this.$at("EventDelete",a,b)},this.eventDeleteCallBack=function(a,b){this.$au("EventDelete",a,b)},this.setHScrollPosition=function(a){this.nav.scroll.scrollLeft=a},this.getScrollX=function(){return this.nav.scroll.scrollLeft},this.getHScrollPosition=this.getScrollX,this.getScrollY=function(){return this.nav.scroll.scrollTop},this.$ay=function(a,b,c,d){f.$aA(a,b,c,d)},this.eventSelectPostBack=function(a,b,c){var d={};d.e=a,d.change=b,this.$at("EventSelect",d,c)},this.eventSelectCallBack=function(a,b,c){var d={};d.e=a,d.change=b,this.$au("EventSelect",d,c)},this.$aA=function(a,b,c,d){var e=f.multiselect,h=e.isSelected(b);if(c||d||!h||1!==e.list.length)if(f.$9O()){e.previous=e.events();var j={};if(j.e=b,j.selected=h,j.ctrl=c,j.meta=d,j.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onEventSelect&&(f.onEventSelect(j),j.preventDefault.value))return;switch(f.eventSelectHandling){case"PostBack":f.eventSelectPostBack(b,k);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.__theFormPostData="",window.__theFormPostCollection=[],WebForm_InitCallback()),f.eventSelectCallBack(b,k);break;case"Update":e.$aB(a,c,d)}"function"==typeof f.onEventSelected&&(j.change=e.isSelected(b)?"selected":"deselected",j.selected=e.isSelected(b),f.onEventSelected(j))}else{e.previous=e.events(),e.$aB(a,c,d);var k=e.isSelected(b)?"selected":"deselected";switch(f.eventSelectHandling){case"PostBack":f.eventSelectPostBack(b,k);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.__theFormPostData="",window.__theFormPostCollection=[],WebForm_InitCallback()),f.eventSelectCallBack(b,k);break;case"JavaScript":f.onEventSelect(b,k)}}},this.eventRightClickPostBack=function(a,b){this.$at("EventRightClick",a,b)},this.eventRightClickCallBack=function(a,b){this.$au("EventRightClick",a,b)},this.$aC=function(a){var b=this.event;if(a=a||window.event,a.cancelBubble=!0,!this.event.client.rightClickEnabled())return!1;if(f.$9O()){var c={};if(c.e=b,c.div=this,c.originalEvent=a,c.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onEventRightClick&&(f.onEventRightClick(c),c.preventDefault.value))return!1;switch(f.eventRightClickHandling){case"PostBack":f.eventRightClickPostBack(b);break;case"CallBack":f.eventRightClickCallBack(b);break;case"ContextMenu":var d=b.client.contextMenu();d?d.show(b):f.contextMenu&&f.contextMenu.show(this.event);break;case"Bubble":f.bubble&&f.bubble.showEvent(b)}"function"==typeof f.onEventRightClicked&&f.onEventRightClicked(c)}else switch(f.eventRightClickHandling){case"PostBack":f.eventRightClickPostBack(b);break;case"CallBack":f.eventRightClickCallBack(b);break;case"JavaScript":f.onEventRightClick(b);break;case"ContextMenu":var d=b.client.contextMenu();d?d.show(b):f.contextMenu&&f.contextMenu.show(this.event);break;case"Bubble":f.bubble&&f.bubble.showEvent(b)}return!1},this.eventDoubleClickPostBack=function(a,b){this.$at("EventDoubleClick",a,b)},this.eventDoubleClickCallBack=function(a,b){this.$au("EventDoubleClick",a,b)},this.$aD=function(a){if(void 0!==DayPilotBubble&&DayPilotBubble.hideActive(),f.timeouts.click){for(var b in f.timeouts.click)window.clearTimeout(f.timeouts.click[b]);f.timeouts.click=null}var a=a||window.event,c=this.event;if(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0,f.$9O()){var d={};if(d.e=c,d.originalEvent=a,d.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onEventDoubleClick&&(f.onEventDoubleClick(d),d.preventDefault.value))return;switch(f.eventDoubleClickHandling){case"PostBack":f.eventDoubleClickPostBack(c);break;case"CallBack":f.eventDoubleClickCallBack(c);break;case"Edit":f.$ax(this);break;case"Select":f.$ay($02,c,a.ctrlKey,a.metaKey);break;case"Bubble":f.bubble&&f.bubble.showEvent(c);break;case"ContextMenu":var e=c.client.contextMenu();e?e.show(c):f.contextMenu&&f.contextMenu.show(c)}"function"==typeof f.onEventDoubleClicked&&f.onEventDoubleClicked(d)}else switch(f.eventDoubleClickHandling){case"PostBack":f.eventDoubleClickPostBack(c);break;case"CallBack":f.eventDoubleClickCallBack(c);break;case"JavaScript":f.onEventDoubleClick(c);break;case"Edit":f.$ax(this);break;case"Select":f.$ay($02,c,a.ctrlKey,a.metaKey);break;case"Bubble":f.bubble&&f.bubble.showEvent(c);break;case"ContextMenu":var e=c.client.contextMenu();e?e.show(c):f.contextMenu&&f.contextMenu.show(c)}},this.eventResizePostBack=function(a,b,c,d){this.$aE("PostBack",a,b,c,d)},this.eventResizeCallBack=function(a,b,c,d){this.$aE("CallBack",a,b,c,d)},this.$aE=function(a,b,c,d,e){var f={};f.e=b,f.newStart=c,f.newEnd=d,this.$aF(a,"EventResize",f,e)},this.$aG=function(a,b,c){if("Disabled"!==this.eventResizeHandling)if(c=f.$aH(c),f.$9O()){var d={},e=function(){if(z.hide(),!d.preventDefault.value){switch(b=d.newStart,c=d.newEnd,f.eventResizeHandling){case"PostBack":f.eventResizePostBack(a,b,c);break;case"CallBack":f.eventResizeCallBack(a,b,c);break;case"Notify":f.eventResizeNotify(a,b,c);break;case"Update":f.$aI(d)}"function"==typeof f.onEventResized&&f.onEventResized(d)}};d.e=a,d.async=!1,d.loaded=function(){e()},d.newStart=b,d.newEnd=c,d.preventDefault=function(){this.preventDefault.value=!0},d.multiresize=DayPilot.list(s.list);var g={};g.event=a,g.start=b,g.end=c,d.multiresize.splice(0,0,g),"function"==typeof f.onEventResize&&f.onEventResize(d),d.async?f.blockOnCallBack&&z.show():e()}else switch(f.eventResizeHandling){case"PostBack":f.eventResizePostBack(a,b,c);break;case"CallBack":f.eventResizeCallBack(a,b,c);break;case"JavaScript":f.onEventResize(a,b,c);break;case"Notify":f.eventResizeNotify(a,b,c);break;case"Update":f.$aI(d)}},this.eventMovePostBack=function(a,b,c,d,e,f){this.$aJ("PostBack",a,b,c,d,e,f)},this.eventMoveCallBack=function(a,b,c,d,e,f){this.$aJ("CallBack",a,b,c,d,e,f)},this.$aJ=function(a,b,c,d,e,g,h){var i=b&&!!b.preventDefault,j={};if(i){var k=b;j.e=k.e,j.newStart=k.newStart,j.newEnd=k.newEnd,j.newResource=k.newResource,j.position=k.position,j.multimove=[],k.multimove.each(function(a){var b={};if(b.e=a.event,b.newStart=a.start,b.newEnd=a.end,b.newResource=a.event.resource(),b.e===k.e||b.e.data.id==k.e.data.id)b.newResource=k.newResource;else if(t.rowoffset){var c=a.event.part.dayIndex+t.rowoffset;b.newResource=f.rowlist[c].id}j.multimove.push(b)})}else j.e=b,j.newStart=c,j.newEnd=d,j.newResource=e,j.position=h;this.$aF(a,"EventMove",j,g)},this.$aK=function(a,b,c){var d={};d.start=b.start,d.end=b.end,d.resource=b.resource,d.multirange=[],b.multirange.each(function(a){var b={};b.start=a.start,b.end=a.end,b.resource=a.resource,d.multirange.push(b)}),this.$aF(a,"TimeRangeSelected",d,c)},this.$aF=function(a,b,c,d){if("PostBack"===a)f.$at(b,c,d);else if("CallBack"===a)f.$au(b,c,d,"CallBack");else if("Immediate"===a)f.$au(b,c,d,"Notify");else if("Queue"===a)f.queue.add(new DayPilot.Action(this,b,c,d));else{if("Notify"!==a)throw"Invalid event invocation type";"Notify"===F.notifyType()?f.$au(b,c,d,"Notify"):f.queue.add(new DayPilot.Action(f,b,c,d))}},this.eventMoveNotify=function(a,b,c,d,e,g){if(a&&!!a.preventDefault){var i=a;i.old=new DayPilot.Event(i.e.copy(),f),i.multimove.each(function(a){a.old=new DayPilot.Event(a.event.copy(),f)}),f.$aI(i),i.e=i.old,delete i.old,i.multimove.each(function(a){a.event=a.old,delete a.old})}else{a=new DayPilot.Event(a.copy(),f);var j=f.events.$aL(a.data);a.start(b),a.end(c),a.resource(d),a.commit(),j=j.concat(f.events.$aM(a.data)),f.$aN(j),f.$aO(),f.$aP(j)}this.$aJ("Notify",a,b,c,d,e,g)},this.eventResizeNotify=function(a,b,c,d){var e=new DayPilot.Event(a.copy(),this),g=f.events.$aL(a.data);a.start(b),a.end(c),a.commit(),g=g.concat(f.events.$aM(a.data)),f.$aN(g),f.$aO(),f.$aP(g),this.$aE("Notify",e,b,c,d)},this.multiselect={},this.multiselect.list=[],this.multiselect.divs=[],this.multiselect.previous=[],this.multiselect.$9E=function(a){f.multiselect.list=DayPilot.list(a).map(function(a){return new DayPilot.Event(a,f)})},this.multiselect.$aQ=function(){var a=f.multiselect;return DayPilot.JSON.stringify(a.events())},this.multiselect.events=function(){var a=f.multiselect,b=DayPilot.list();b.ignoreToJSON=!0;for(var c=0;c<a.list.length;c++)b.push(a.list[c]);return b},this.multiselect.$aR=function(){},this.multiselect.$aB=function(a,b,c){var d=f.multiselect;if(d.isSelected(a.event))if(f.allowMultiSelect)if(b||c)d.remove(a.event,!0);else{var e=d.list.length;d.clear(),e>1&&d.add(a.event,!0)}else d.clear();else f.allowMultiSelect&&(b||c)?d.add(a.event,!0):(d.clear(),d.add(a.event,!0));d.$aS(a),d.$aR()},this.multiselect.$aT=function(a){var b=f.multiselect;return b.$aU(a,b.initList)},this.multiselect.$aV=function(){for(var a=f.multiselect,b=[],c=0;c<a.list.length;c++){var d=a.list[c];b.push(d.value())}alert(b.join("\n"))},this.multiselect.add=function(a,b){var c=f.multiselect;-1===c.indexOf(a)&&c.list.push(a),b||c.redraw()},this.multiselect.remove=function(a,b){var c=f.multiselect,d=c.indexOf(a);-1!==d&&c.list.splice(d,1),b||c.redraw()},this.multiselect.clear=function(a){var b=f.multiselect;b.list=[],a||b.redraw()},this.multiselect.redraw=function(){var a=f.multiselect;a.divs=[];for(var b=0;b<f.elements.events.length;b++){var c=f.elements.events[b];c.event&&(c.event.isEvent&&(a.isSelected(c.event)?a.$aW(c):a.$aX(c)))}},this.multiselect.$aY=function(a){for(var b=f.multiselect,c=null,d=0;d<f.elements.events.length;d++)if(b.isSelected(f.elements.events[d].event)){c=f.elements.events[d];break}b.$aS(c)},this.multiselect.$aS=function(a){if(a){var b=f.multiselect;b.isSelected(a.event)?b.$aW(a):b.$aX(a)}},this.multiselect.$aW=function(a){var b=f.multiselect,c=f.cssOnly?f.$a0("_selected"):f.$a0("selected"),a=b.$aZ(a);DayPilot.Util.addClass(a,c),b.divs.push(a)},this.multiselect.$aZ=function(a){return a},this.multiselect.$b0=function(){for(var a=f.multiselect,b=0;b<a.divs.length;b++){var c=a.divs[b];a.$aX(c,!0)}a.divs=[]},this.multiselect.$aX=function(a,b){var c=f.multiselect,d=f.cssOnly?f.$a0("_selected"):f.$a0("selected");if(DayPilot.Util.removeClass(a,d),!b){var e=DayPilot.indexOf(c.divs,a);-1!==e&&c.divs.splice(e,1)}},this.multiselect.isSelected=function(a){return!!a&&(!!a.isEvent&&f.multiselect.$aU(a,f.multiselect.list))},this.multiselect.indexOf=function(a){for(var b=a.data,c=0;c<f.multiselect.list.length;c++){if(f.multiselect.list[c].data===b)return c}return-1},this.multiselect.$aU=function(a,b){if(!b)return!1;for(var c=0;c<b.length;c++){var d=b[c];if(a===d)return!0;if("function"==typeof d.id){if(null!==d.id()&&null!==a.id()&&d.id()===a.id())return!0;if(null===d.id()&&null===a.id()&&d.recurrentMasterId()===a.recurrentMasterId()&&a.start().toStringSortable()===d.start().toStringSortable())return!0}else{if(null!==d.id&&null!==a.id()&&d.id===a.id())return!0;if(null===d.id&&null===a.id()&&d.recurrentMasterId===a.recurrentMasterId()&&a.start().toStringSortable()===d.start)return!0}}return!1},this.multiselect.startRectangle=function(){D.start()},this.$b1=function(){this.$9D(),this.$9G()},this.$b2=function(){},this.$aS=function(a){var a=a||{},b=!a.eventsOnly;f.cssOnly||(f.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),b&&(this.$aa()||(f.timeHeader=null,f.cellProperties={}),f.$9o(),f.$9p(),a&&a.dontLoadResources||f.$9q()),this.$9s(),b&&(f.$b3(),f.$9t(),f.$9u(),f.$9M(f.selectedRows)),f.$9v(),f.$9y(),f.$b4(),f.$9z(),m.hideLinkpoints(),this.$9C(),this.$9B(),this.$9m(),this.$9r(),this.$9F(),this.$b1(),f.$9A(),a.immediateEvents||a.eventsOnly?f.$9H():setTimeout(function(){f.$9H()},100),this.visible?this.show():this.hide(),this.$9L(),this.$9N(),this.$9j()},this.update=function(a){if(f.$96)throw"You are trying to update a DayPilot.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable.";l.request(a)};var l={};l.timeout=null,l.options=null,l.enabled=!1,l.request=function(a){l.enabled?(clearTimeout(l.timeout),l.mergeOptions(a),l.timeout=setTimeout(l.doit)):(l.mergeOptions(a),l.doit())},l.mergeOptions=function(a){if(a){l.options||(l.options={});for(var b in a)l.options[b]=a[b]}},l.doit=function(){var a=l.options;if(l.options=null,!a)return void(f.$b5&&f.$aS({immediateEvents:!0}));a.events?(f.events.list=a.events,f.$b5&&f.$aS({eventsOnly:!0})):a.separators&&(f.separators=a.separators,f.$b5&&f.$b1())},this.$aP=function(a,b,c){a=DayPilot.ua(a);for(var d=0;d<a.length;d++){var e=a[d];f.$b6(e)}if(this.$b7){this.$9v(),this.$9y(),this.$9B(),this.$9D();for(var d=0;d<a.length;d++){var e=a[d];this.$b8(e)}for(var d=0;d<a.length;d++){var e=a[d];this.$b9(e)}this.$9F(),this.$9G(),this.$ba()}else{if(!0){var h=function(d){if(!(d>=a.length)){var e=a[d];b||f.$b8(e),f.$b9(e),d+1<a.length?setTimeout(function(){h(d+1)},10):(f.$9W(),m.load(),f.multiselect.redraw(),c&&c())}};h(0)}else for(var d=0;d<a.length;d++){var e=a[d];b||this.$b8(e),this.$b9(e)}DayPilot.list(a).each(function(a){f.$bb(a)}),f.$9F()}f.$9W(),m.load(),f.multiselect.redraw(),c&&c(),this.$9m()},this.$aH=function(a){return"DateTime"===f.eventEndSpec?a:a.getDatePart().ticks===a.ticks?a.addDays(-1):a.getDatePart()},this.$bc=function(a){return"DateTime"===f.eventEndSpec?a:a.getDatePart().addDays(1)},this.$bd=function(a){return"DateTime"===f.eventEndSpec?a:a.getDatePart()},this.$be=function(a,b,c,d,e,g,h){if("Disabled"!==f.eventMoveHandling){c=f.$aH(c);var i={};i.e=a,i.newStart=b,i.newEnd=c,i.newResource=d,i.external=e,i.ctrl=!1,i.meta=!1,i.shift=!1,g&&(i.shift=g.shiftKey,i.ctrl=g.ctrlKey,i.meta=g.metaKey),i.multimove=DayPilot.list(t.list);var j={};if(j.event=a,j.start=b,j.end=c,i.multimove.splice(0,0,j),i.position=h,i.preventDefault=function(){this.preventDefault.value=!0},f.$9O()){var k=function(){if(z.hide(),i.preventDefault.value)return void f.$bf();switch(b=i.newStart,c=i.newEnd,f.eventMoveHandling){case"PostBack":f.eventMovePostBack(i);break;case"CallBack":f.eventMoveCallBack(i);break;case"Notify":f.eventMoveNotify(i);break;case"Update":f.$aI(i)}f.$bf(),"function"==typeof f.onEventMoved&&f.onEventMoved(i)};i.async=!1,i.loaded=function(){k()},"function"==typeof f.onEventMove&&f.onEventMove(i),i.async?f.blockOnCallBack&&z.show():k()}else{switch(f.eventMoveHandling){case"PostBack":f.eventMovePostBack(i);break;case"CallBack":f.eventMoveCallBack(i);break;case"JavaScript":f.onEventMove(a,b,c,d,e,!!g&&g.ctrlKey,!!g&&g.shiftKey,h);break;case"Notify":f.eventMoveNotify(i);break;case"Update":f.$aI(i)}f.$bf()}}},this.$aI=function(a){var b=a.e,c=a.newStart,d=a.newEnd,e=a.newResource,g=a.external;b.start(c),b.end(d),b.resource(e),g?(b.commit(),f.events.add(b)):f.events.update(b),a.multimove&&!a.multimove.isEmpty()&&a.multimove.each(function(a){if(a.event!==b){if(a.event.start(a.start),a.event.end(a.end),t.rowoffset){var c=a.event.part.dayIndex+t.rowoffset,d=f.rowlist[c].id;a.event.resource(d)}a.event.commit(),f.events.update(a.event)}}),a.multiresize&&!a.multiresize.isEmpty()&&a.multiresize.each(function(a){a.event!==b&&(a.event.start(a.start),a.event.end(a.end),a.event.commit(),f.events.update(a.event))}),f.$9h()},this.$bg=function(a,b){var c=f.$bh(b),d={};d.args=a,d.guid=c,f.$au("Bubble",d)},this.$bh=function(a){var b=DayPilot.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[b]=a,b},this.eventMenuClickPostBack=function(a,b,c){var d={};d.e=a,d.command=b,this.$at("EventMenuClick",d,c)},this.eventMenuClickCallBack=function(a,b,c){var d={};d.e=a,d.command=b,this.$au("EventMenuClick",d,c)},this.$bi=function(a,b,c){switch(c){case"PostBack":f.eventMenuClickPostBack(b,a);break;case"CallBack":f.eventMenuClickCallBack(b,a)}},this.timeRangeSelectedPostBack=function(a,b,c,d){var e={};e.start=a,e.end=b,e.resource=c,this.$at("TimeRangeSelected",e,d)},this.timeRangeSelectedCallBack=function(a,b,c,d){var e={};e.start=a,e.end=b,e.resource=c,this.$au("TimeRangeSelected",e,d)},this.$bj=function(a){if(a){if(a.disabled)return void f.clearSelection();var b=f.$bk(a);b&&f.$bl(b.start,b.end,b.resource)}},this.$bl=function(a,c,d){if("Disabled"!==f.timeRangeSelectedHandling){var e=c;c=f.$aH(e);var g={};if(g.start=a,g.end=c,g.resource=d,g.preventDefault=function(){this.preventDefault.value=!0},g.multirange=DayPilot.list(E.list).map(function(a){return f.$bk(a)}),g.multirange.isEmpty()&&g.multirange.push({start:g.start,end:g.end,resource:g.resource}),f.$9O()){if("function"==typeof f.onTimeRangeSelect){if(f.onTimeRangeSelect(g),g.preventDefault.value)return;a=g.start,c=g.end}switch(f.$bm(b.rangeHold,a,c,g.multirange),f.$bn(b.rangeHold),f.timeRangeSelectedHandling){case"PostBack":f.$aK("PostBack",g);break;case"CallBack":f.$aK("CallBack",g)}"function"==typeof f.onTimeRangeSelected&&f.onTimeRangeSelected(g)}else switch(f.timeRangeSelectedHandling){case"PostBack":f.$aK("PostBack",g);break;case"CallBack":f.$aK("CallBack",g);break;case"JavaScript":f.onTimeRangeSelected(a,c,d,g.multirange)}}},this.$bm=function(a,b,c,d){if(a&&!(d&&d.length>1)){var g,h,e=f.$bc(c),i=0;if("Days"===f.viewType){i=f.$bo(b).start.getTime()-f.$ae().getTime()}b.getTime()<f.itline[0].start.getTime()?a.start.x=0:(g=f.$ap(b.addTime(-i)),h=g.current||g.previous,a.start.x=DayPilot.indexOf(f.itline,h)),g=f.$ap(e.addSeconds(-1).addTime(-i)),g.past?a.end.x=f.itline.length-1:(h=g.current||g.next,a.end.x=DayPilot.indexOf(f.itline,h))}},this.$bo=function(a){var b=a.getDatePart();return DayPilot.list(f.rowlist).find(function(a){return a.start.getDatePart()===b})},this.timeRangeDoubleClickPostBack=function(a,b,c,d){var e={};e.start=a,e.end=b,e.resource=c,this.$at("TimeRangeDoubleClick",e,d)},this.timeRangeDoubleClickCallBack=function(a,b,c,d){var e={};e.start=a,e.end=b,e.resource=c,this.$au("TimeRangeDoubleClick",e,d)},this.$bp=function(a,b,c){if(b=f.$aH(b),f.$9O()){var d={};if(d.start=a,d.end=b,d.resource=c,d.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onTimeRangeDoubleClick&&(f.onTimeRangeDoubleClick(d),d.preventDefault.value))return;switch(f.timeRangeDoubleClickHandling){case"PostBack":f.timeRangeDoubleClickPostBack(a,b,c);break;case"CallBack":f.timeRangeDoubleClickCallBack(a,b,c)}"function"==typeof f.onTimeRangeDoubleClicked&&f.onTimeRangeDoubleClicked(d)}else switch(f.timeRangeDoubleClickHandling){case"PostBack":f.timeRangeDoubleClickPostBack(a,b,c);break;case"CallBack":f.timeRangeDoubleClickCallBack(a,b,c);break;case"JavaScript":f.onTimeRangeDoubleClick(a,b,c)}},this.timeRangeMenuClickPostBack=function(a,b,c){var d={};d.selection=a,d.command=b,this.$at("TimeRangeMenuClick",d,c)},this.timeRangeMenuClickCallBack=function(a,b,c){var d={};d.selection=a,d.command=b,this.$au("TimeRangeMenuClick",d,c)},this.$bq=function(a,b,c){switch(c){case"PostBack":f.timeRangeMenuClickPostBack(b,a);break;case"CallBack":f.timeRangeMenuClickCallBack(b,a)}},this.linkMenuClickPostBack=function(a,b,c){var d={};d.link=a,d.command=b,this.$at("LinkMenuClick",d,c)},this.linkMenuClickCallBack=function(a,b,c){var d={};d.link=a,d.command=b,this.$au("LinkMenuClick",d,c)},this.$br=function(a,b,c){switch(c){case"PostBack":f.linkMenuClickPostBack(b,a);break;case"CallBack":f.linkMenuClickCallBack(b,a)}},this.rowMenuClickPostBack=function(a,b,c){var d={};d.resource=a,d.command=b,this.$at("RowMenuClick",d,c)},this.resourceHeaderMenuClickPostBack=this.rowMenuClickPostBack,this.rowMenuClickCallBack=function(a,b,c){var d={};d.resource=a,d.command=b,this.$au("RowMenuClick",d,c)},this.resourceHeaderMenuClickCallBack=this.rowMenuClickCallBack,this.$bs=function(a,b,c){switch(c){case"PostBack":f.rowMenuClickPostBack(b,a);break;case"CallBack":f.rowMenuClickCallBack(b,a)}},this.$bt=function(a,b){w.$bu(a).cells[0].textDiv.innerHTML=b,a.Text=b,a.html=b},this.$bv=function(a,b){if(b){var c={};if(c.text=b,c.preventDefault=function(){this.preventDefault.value=!0},"function"!=typeof f.onRowCreate||(f.onRowCreate(c),!c.preventDefault.value)){switch(f.rowCreateHandling){case"CallBack":f.rowCreateCallBack(c.text);break;case"PostBack":f.rowCreatePostBack(c.text)}"function"==typeof f.onRowCreated&&f.onRowCreated(c)}}},this.$bw=function(a,b){if(a.isNewRow)return void f.$bv(a,b);var c=DayPilot.indexOf(f.rowlist,a),d=f.$bx(a,c);if(f.$9O()){var e={};if(e.resource=d,e.newText=b,e.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onRowEdit&&(f.onRowEdit(e),e.preventDefault.value))return;switch(f.rowEditHandling){case"PostBack":f.rowEditPostBack(d,b);break;case"CallBack":f.rowEditCallBack(d,b);break;case"Update":f.$bt(a,b)}"function"==typeof f.onRowEdited&&f.onRowEdited(e)}else switch(f.rowEditHandling){case"PostBack":f.rowEditPostBack(d,b);break;case"CallBack":f.rowEditCallBack(d,b);break;case"JavaScript":f.onrowEdit(d,b)}},this.rowCreatePostBack=function(a,b){var c={};c.text=a,this.$at("RowCreate",c,b)},this.rowCreateCallBack=function(a,b){var c={};c.text=a,this.$au("RowCreate",c,b)},this.rowEditPostBack=function(a,b,c){var d={};d.resource=a,d.newText=b,this.$at("RowEdit",d,c)},this.rowEditCallBack=function(a,b,c){var d={};d.resource=a,d.newText=b,this.$au("RowEdit",d,c)},this.rowMovePostBack=function(a,b,c,d){var e={};e.source=a,e.target=b,e.position=c,this.$at("RowMove",e,d)},this.rowMoveCallBack=function(a,b,c,d){var e={};e.source=a,e.target=b,e.position=c,this.$au("RowMove",e,d)},this.rowMoveNotify=function(a,b,c,d){var e={};e.source=a,e.target=b,e.position=c,this.$au("RowMove",e,d,"Notify")},this.rowClickPostBack=function(a,b){var c={};c.resource=a,this.$at("RowClick",c,b)},this.resourceHeaderClickPostBack=this.rowClickPostBack,this.rowClickCallBack=function(a,b){var c={};c.resource=a,this.$au("RowClick",c,b)},this.resourceHeaderClickCallBack=this.rowClickCallBack,this.$by=function(a,b,c,d){if("Disabled"===f.rowDoubleClickHandling)return void f.$bz(a,b,c,d);f.timeouts.resClick||(f.timeouts.resClick=[]);var e=function(a,b,c,d){return function(){f.$bz(a,b,c,d)}};f.timeouts.resClick.push(window.setTimeout(e(a,b,c,d),f.doubleClickTimeout))},this.$bz=function(a,b,c,d){var e=f.resourceHeaderClickHandling||f.rowClickHandling;if(f.$9O()){var g={};if(g.resource=a,g.row=a,g.ctrl=b,g.shift=c,g.meta=d,g.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onRowClick&&(f.onRowClick(g),g.preventDefault.value))return;if("function"==typeof f.onResourceHeaderClick&&(f.onResourceHeaderClick(g),g.preventDefault.value))return;switch(e){case"PostBack":f.rowClickPostBack(a);break;case"CallBack":f.rowClickCallBack(a);break;case"Select":f.$bA(a.$.row,b,c,d);break;case"Edit":f.$bB.edit(a.$.row)}"function"==typeof f.onRowClicked&&f.onRowClicked(g),"function"==typeof f.onResourceHeaderClicked&&f.onResourceHeaderClicked(g)}else switch(e){case"PostBack":f.rowClickPostBack(a);break;case"CallBack":f.rowClickCallBack(a);break;case"JavaScript":f.onRowClick(a);break;case"Select":f.$bA(a.$.row,b,c);break;case"Edit":f.$bB.edit(a.$.row)}},this.timeHeaderClickPostBack=function(a,b){var c={};c.header=a,this.$at("TimeHeaderClick",c,b)},this.timeHeaderClickCallBack=function(a,b){var c={};c.header=a,this.$au("TimeHeaderClick",c,b)},this.$bC=function(a){if(f.$9O()){var b={};if(b.header=a,b.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onTimeHeaderClick&&(f.onTimeHeaderClick(b),b.preventDefault.value))return;switch(this.timeHeaderClickHandling){case"PostBack":f.timeHeaderClickPostBack(a);break;case"CallBack":f.timeHeaderClickCallBack(a)}"function"==typeof f.onTimeHeaderClicked&&f.onTimeHeaderClicked(b)}else switch(this.timeHeaderClickHandling){case"PostBack":f.timeHeaderClickPostBack(a);break;case"CallBack":f.timeHeaderClickCallBack(a);break;case"JavaScript":f.onTimeHeaderClick(a)}},this.resourceCollapsePostBack=function(a,b){var c={};c.resource=a,this.$at("ResourceCollapse",c,b)},this.resourceCollapseCallBack=function(a,b){var c={};c.resource=a,this.$au("ResourceCollapse",c,b)},this.$bD=function(a){if(f.$9O()){var b={};if(b.resource=a,b.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onResourceCollapse&&(f.onResourceCollapse(b),b.preventDefault.value))return;switch(this.resourceCollapseHandling){case"PostBack":f.resourceCollapsePostBack(a);break;case"CallBack":f.resourceCollapseCallBack(a)}}else switch(this.resourceCollapseHandling){case"PostBack":f.resourceCollapsePostBack(a);break;case"CallBack":f.resourceCollapseCallBack(a);break;case"JavaScript":f.onResourceCollapse(a)}},this.resourceExpandPostBack=function(a,b){var c={};c.resource=a,this.$at("ResourceExpand",c,b)},this.resourceExpandCallBack=function(a,b){var c={};c.resource=a,this.$au("ResourceExpand",c,b)},this.$bE=function(a){if(f.$9O()){var b={};if(b.resource=a,b.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onResourceExpand&&(f.onResourceExpand(b),b.preventDefault.value))return;switch(this.resourceExpandHandling){case"PostBack":f.resourceExpandPostBack(a);break;case"CallBack":f.resourceExpandCallBack(a)}}else switch(this.resourceExpandHandling){case"PostBack":f.resourceExpandPostBack(a);break;case"CallBack":f.resourceExpandCallBack(a);break;case"JavaScript":f.onResourceExpand(a)}},this.eventEditPostBack=function(a,b,c){var d={};d.e=a,d.newText=b,this.$at("EventEdit",d,c)},this.eventEditCallBack=function(a,b,c){var d={};d.e=a,d.newText=b,this.$au("EventEdit",d,c)},this.$bF=function(a,b,c){if(f.$9O()){var d={};if(d.e=a,d.newText=b,d.canceled=c,d.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onEventEdit&&(f.onEventEdit(d),d.preventDefault.value))return;if(!c)switch(f.eventEditHandling){case"PostBack":f.eventEditPostBack(a,b);break;case"CallBack":f.eventEditCallBack(a,b);break;case"Update":a.text(b),f.events.update(a)}if("function"==typeof f.onEventEdited&&(f.onEventEdited(d),d.preventDefault.value))return}else switch(f.eventEditHandling){case"PostBack":f.eventEditPostBack(a,b);break;case"CallBack":f.eventEditCallBack(a,b);break;case"JavaScript":f.onEventEdit(a,b)}},this.commandCallBack=function(a,b){this.$bG("CallBack",a,b)},this.commandPostBack=function(a,b){this.$bG("PostBack",a,b)},this.$bG=function(a,b,c){var d={};d.command=b,this.$aF(a,"Command",d,c)},this.$at=function(a,b,c){var d={};d.action=a,d.type="PostBack",d.parameters=b,d.data=c,d.header=this.$bH();var e="JSON"+DayPilot.JSON.stringify(d);__doPostBack(f.uniqueID,e)},this.$au=function(a,b,c,d){if(!f.$aa())return void f.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");void 0===d&&(d="CallBack"),this.$bI(),f.$bJ();var e={};e.action=a,e.type=d,e.parameters=b,e.data=c,e.header=this.$bH();var h,g=DayPilot.JSON.stringify(e);h="undefined"!=typeof Iuppiter&&Iuppiter.compress?"LZJB"+Iuppiter.Base64.encode(Iuppiter.compress(g)):"JSON"+g,this.$bK(e),this.backendUrl?DayPilot.request(this.backendUrl,this.$bL,h,this.$bM):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,h,this.$9g,null,this.callbackError,!0)},this.$bK=function(a){var b={};"function"==typeof f.onCallBackStart&&f.onCallBackStart(b)},this.$9l=function(){var a={};"function"==typeof f.onCallBackEnd&&setTimeout(function(){f.onCallBackEnd(a)},0)},this.$aa=function(){return!!this.backendUrl||!!this.$bN()},this.$bN=function(){return!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.$bM=function(a){if("function"==typeof f.onAjaxError){var b={};b.request=a,f.onAjaxError(b)}else"function"==typeof f.ajaxError&&f.ajaxError(a)},this.$bL=function(a){f.$9g(a.responseText)},this.$bH=function(){var a={};a.v=this.v,a.control="dps",a.id=this.id,a.startDate=f.startDate,a.days=f.days,a.cellDuration=f.cellDuration,a.cellGroupBy=f.cellGroupBy,a.cellWidth=f.cellWidth,a.cellWidthSpec=f.cellWidthSpec,a.viewType=f.viewType,a.hourNameBackColor=f.hourNameBackColor,a.showNonBusiness=f.showNonBusiness,a.businessBeginsHour=f.businessBeginsHour,a.businessEndsHour=f.businessEndsHour,a.weekStarts=f.weekStarts,a.treeEnabled=f.treeEnabled,a.locale=f.locale,a.timeZone=f.timeZone,a.tagFields=f.tagFields,a.timeHeaders=f.timeHeaders,a.cssOnly=f.cssOnly,a.cssClassPrefix=f.cssClassPrefix,a.durationBarMode=f.durationBarMode,a.showBaseTimeHeader=!0,a.rowHeaderColumns=f.rowHeaderColumns,a.rowMarginBottom=f.rowMarginBottom,a.rowMarginTop=f.rowMarginTop,a.rowMinHeight=f.rowMinHeight,a.scale=f.scale,a.clientState=f.clientState,this.nav.scroll&&(a.scrollX=this.nav.scroll.scrollLeft,a.scrollY=this.nav.scroll.scrollTop),a.selected=f.multiselect.events(),a.selectedRows=w.$bO(),a.hashes=f.hashes;var b=f.$bP(a.scrollX,a.scrollY),c=f.$bQ(b),d=f.$bR(b);if(a.rangeStart=c.start,a.rangeEnd=c.end,a.resources=d,a.dynamicLoading=f.dynamicLoading,a.separators=this.separators,this.syncResourceTree&&"Days"!=this.viewType&&(a.tree=this.$bS()),this.syncLinks&&(a.links=this.$bT()),"Manual"===this.scale&&(a.timeline=this.$bU()),"function"==typeof f.onCallBackHeader){var e={};e.header=a,f.onCallBackHeader(e)}return a},this.$bU=function(){var a=[];return DayPilot.list(f.timeline).each(function(b){var c={};c.start=b.start,c.end=b.end,c.width=b.width,a.push(c)}),a},this.$bT=function(){var a=[],b=function(a){var b={};if(a.tags)for(var c in a.tags)b[c]=""+a.tags[c];return b};if(!DayPilot.isArray(f.links.list))return a;for(var c=0;c<f.links.list.length;c++){var d=f.links.list[c],e={};e.id=d.id,e.from=d.from,e.to=d.to,e.type=d.type,e.tags=b(d),a.push(e)}return a},this.getViewPort=function(){var a=this.nav.scroll.scrollLeft-h.shiftX,b=this.nav.scroll.scrollTop,c=this.$bP(a,b),d=this.$bQ(c),e=this.$bR(c),f={};return f.start=d.start,f.end=d.end,f.resources=e,f},this.$bP=function(a,b){var c={};c.start={},c.end={},c.start.x=Math.floor(a/f.cellWidth),c.end.x=Math.floor((a+f.nav.scroll.clientWidth)/f.cellWidth),c.start.y=f.$bV(b).i,c.end.y=f.$bV(b+f.nav.scroll.clientHeight).i;var d=this.itline.length;return c.end.x>=d&&(c.end.x=d-1),c},this.$bQ=function(a){var b={};if(this.itline.length<=0)return b.start=this.startDate,b.end=this.startDate,b;if(!this.itline[a.start.x])throw"Internal error: area.start.x is null.";return b.start=this.itline[a.start.x].start,b.end=this.itline[a.end.x].end,b},this.$bR=function(a){if(!a)var a=this.$bP(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop);var b=[];b.ignoreToJSON=!0;for(var c=a.start.y;c<=a.end.y;c++){var d=f.rowlist[c];d&&!d.hidden&&b.push(d.id)}return b},this.$bS=function(){var a=[];a.ignoreToJSON=!0;for(var b=0;b<this.rowlist.length;b++){var c=this.rowlist[b];if(!(c.level>0)&&!c.isNewRow){var d=this.$bW(b);a.push(d)}}return a},this.$bX=function(a){var b=[];b.ignoreToJSON=!0;for(var c=0;c<a.length;c++){var d=a[c];f.rowlist[d].isNewRow||b.push(f.$bW(d))}return b},this.$bW=function(a){var b=this.rowlist[a];if("function"==typeof f.onGetNodeState){var c={};if(c.row=b,c.preventDefault=function(){c.preventDefault.value=!0},c.result={},f.onGetNodeState(c),c.preventDefault.value)return c.result}var d={};return d.Value=b.id,d.BackColor=b.backColor,d.Name=b.name,d.InnerHTML=b.html,d.ToolTip=b.toolTip,d.Expanded=b.expanded,d.Children=this.$bX(b.children),d.Loaded=b.loaded,d.IsParent=b.isParent,d.Columns=this.$bY(b),b.start.getTime()!==f.$ae().getTime()&&(d.Start=b.start),b.minHeight!==f.rowMinHeight&&(d.MinHeight=b.minHeight),b.marginBottom!==f.rowMarginBottom&&(d.MarginBottom=b.marginBottom),b.marginTop!==f.rowMarginTop&&(d.MarginTop=b.marginTop),b.eventHeight!==f.eventHeight&&(d.EventHeight=b.eventHeight),d},this.$bY=function(a){if(!a.columns||0===a.columns.length)return null;var b=[];b.ignoreToJSON=!0;for(var c=0;c<a.columns.length;c++){var d={};d.InnerHTML=a.columns[c].html,b.push(d)}return b},this.$a0=function(a){var b=this.theme||this.cssClassPrefix;return b?b+a:""},this.$bZ=function(){this.nav.top.dispose=this.dispose},this.dispose=function(){var a=f;a.$96||(a.$96=!0,a.$bI(),a.$9C(),a.divBreaks=null,a.divCells=null,a.divCorner=null,a.divCrosshair=null,a.divEvents=null,a.divHeader&&(a.divHeader.rows=null),a.divHeader=null,a.divLines=null,a.divNorth=null,a.divRange=null,a.divResScroll=null,a.divSeparators=null,a.divSeparatorsAbove=null,a.divStretch=null,a.divTimeScroll=null,a.$a7=null,a.$9n=null,a.$9P.calendar=null,a.$9P=null,a.nav.loading=null,a.nav.top.onmousemove=null,a.nav.top.dispose=null,a.nav.top.ontouchstart=null,a.nav.top.ontouchmove=null,a.nav.top.ontouchend=null,a.nav.top.removeAttribute("style"),a.nav.top.removeAttribute("class"),a.nav.top.innerHTML="",a.nav.top.dp=null,a.nav.top=null,a.nav.scroll.onscroll=null,a.nav.scroll.root=null,a.nav.scroll=null,DayPilot.ue(window,"resize",a.$c0),b.unregister(a))},this.$c1=function(a,b){var c=f.$9P,d=f.$c2(a),e=a.event,g=e.part.height||f.$c3.eventHeight(),h=e.part&&e.part.top?e.part.top+f.rowlist[e.part.dayIndex].top:d.top,i=document.createElement("div");i.setAttribute("unselectable","on"),i.style.position="absolute",i.style.width=d.width+"px",i.style.height=g+"px",i.style.left=d.left+"px",i.style.top=h+"px",i.style.zIndex=101,i.style.overflow="hidden";var j=document.createElement("div");return i.appendChild(j),this.cssOnly&&(i.className=this.$a0("_shadow"),j.className=this.$a0("_shadow_inner")),c.appendChild(i),i.calendar=f,i},this.$c4=function(a,c){var d=f.$9P,e=f.$c2(a),g=a.event,h=g;if(!f.$c5(e.rowIndex)){var i=g.part.height||f.$c3.eventHeight(),j=g.part&&g.part.top&&f.rowlist[g.part.dayIndex]?g.part.top+f.rowlist[g.part.dayIndex].top:e.top,k=e.left,l=h.cache&&void 0!==h.cache.moveVDisabled?!h.cache.moveVDisabled:!h.data.moveVDisabled,m=h.cache&&void 0!==h.cache.moveHDisabled?!h.cache.moveHDisabled:!h.data.moveHDisabled;!l&&b.moving&&(j=f.rowlist[h.part.dayIndex].top),!m&&b.moving&&(k=g.part.left);var n=document.createElement("div");n.setAttribute("unselectable","on"),n.style.position="absolute",n.style.width=e.width+"px",n.style.height=i+"px",n.style.left=k+"px",n.style.top=j+"px",n.style.zIndex=101,n.style.overflow="hidden";var o=document.createElement("div");return n.appendChild(o),this.cssOnly&&(n.className=this.$a0("_shadow"),o.className=this.$a0("_shadow_inner")),d.appendChild(n),n.calendar=f,n}},this.$bV=function(a){for(var c,b={},d=0,e=0,f=this.rowlist.length,g=0;g<f;g++){var h=this.rowlist[g];if(!h.hidden&&(e+=h.height,a<e||g===f-1)){d=e-h.height,c=h;break}}return b.top=d,b.bottom=e,b.i=g,b.element=c,b},this.links={};var m={};this.$c6=m,m.clear=function(){f.divLinksAbove.innerHTML="",f.divLinksBelow.innerHTML="",f.elements.links=[]},m.showLinkpoints=function(){g.events().each(function(a){m.showLinkpoint(a)})},m.showLinkpoint=function(a){var b=f.linkPointSize,c=b/2,d=a.event.part.left,e=f.rowlist[a.event.part.dayIndex].top+a.event.part.top,g=a.event.part.height,h=a.event.part.right,i=DayPilot.Util.div(f.divLinkpoints,d-c,e-c+g/2,b,b);i.className=f.$a0("_linkpoint"),i.style.boxSizing="border-box",i.coords={x:d,y:e+g/2},i.type="Start",i.event=a.event,m.activateLinkpoint(i),f.elements.linkpoints.push(i);var j=DayPilot.Util.div(f.divLinkpoints,h-c,e-c+g/2,b,b);j.className=f.$a0("_linkpoint"),j.style.boxSizing="border-box",j.coords={x:h,y:e+g/2},j.type="Finish",j.event=a.event,m.activateLinkpoint(j),f.elements.linkpoints.push(j)},m.activateLinkpoint=function(a){a.onmousedown=function(b){var b=b||window.event;return k.source=a,k.calendar=f,m.showLinkpoints(),b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation(),!1},a.onmousemove=function(b){DayPilot.Util.addClass(a,f.$a0("_linkpoint_hover")),m.clearHideTimeout()},a.onmouseout=function(b){k.source&&k.source.event===a.event||DayPilot.Util.removeClass(a,f.$a0("_linkpoint_hover"))},a.onmouseup=function(b){if(k.source){var c=k.source.type+"To"+a.type,d=k.source.event.id(),e=a.event.id(),g={};if(g.from=d,g.to=e,g.type=c,g.id=null,g.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onLinkCreate&&(f.onLinkCreate(g),g.preventDefault.value))return;var h=function(){f.links.list.push({from:d,to:e,type:c,id:g.id}),m.load()};switch(f.linkCreateHandling){case"Update":h();break;case"CallBack":f.$c7(g);break;case"PostBack":f.$c8(g);break;case"Notify":h(),f.$c9(g)}"function"==typeof f.onLinkCreated&&f.onLinkCreated(g)}}},m.hideLinkpoints=function(){f.divLinkpoints.innerHTML="",f.elements.linkpoints=[]},m.hideTimeout=null,m.hideLinkpointsWithDelay=function(){m.hideTimeout=setTimeout(function(){m.hideLinkpoints()},100)},m.clearHideTimeout=function(){m.hideTimeout&&(clearTimeout(m.hideTimeout),m.hideTimeout=null)},m.load=function(){if(m.clear(),DayPilot.isArray(f.links.list))for(var a=0;a<f.links.list.length;a++){var b=f.links.list[a];m.drawLinkId(b.from,b.to,b)}},m.drawLinkId=function(a,b,c){var d=f.events.find(a),e=f.events.find(b);m.drawLink(d,e,c)},m.drawLink=function(a,b,c){var d=f.$ca(a),e=f.$ca(b);if(d&&e){var h,i,g=c.type||"FinishToStart",j=f.rowlist[d.event.part.dayIndex].top,k=f.rowlist[e.event.part.dayIndex].top;switch(g){case"FinishToStart":h={x:d.event.part.right,y:j+d.event.part.top},i={x:e.event.part.left,y:k+e.event.part.top},h.y>i.y&&h.x<i.x&&(i.y+=e.event.part.height,i.bottom=!0);break;case"StartToFinish":h={x:d.event.part.left,y:j+d.event.part.top},i={x:e.event.part.right,y:k+e.event.part.top};break;case"StartToStart":h={x:d.event.part.left,y:j+d.event.part.top},i={x:e.event.part.left,y:k+e.event.part.top};break;case"FinishToFinish":h={x:d.event.part.right,y:j+d.event.part.top},i={x:e.event.part.right,y:k+e.event.part.top}}m.drawLinkXy(h,i,c)}},m.clearShadow=function(){f.divLinkShadow.innerHTML="",f.elements.linkshadow=[]},m.drawShadow=function(a,b){if(m.clearShadow(),DayPilot.browser.ielt9)m.drawShadowOldStyle(a,b);else{var c=f.divLinkShadow,d=DayPilot.line(a.x,a.y,b.x,b.y,!0);c.appendChild(d),f.elements.linkshadow.push(d)}},m.drawShadowOldStyle=function(a,b){var c=Math.min(a.x,b.x),d=2,e=f.divLinkShadow,g="black",h=DayPilot.Util.div(e,c,a.y,a.x-c,d);h.style.backgroundColor=g,f.elements.linkshadow.push(h);var i=DayPilot.Util.div(e,c,a.y,d,b.y-a.y);i.style.backgroundColor=g,f.elements.linkshadow.push(i);var j=DayPilot.Util.div(e,c,b.y,b.x-c,d);j.style.backgroundColor=g,f.elements.linkshadow.push(j);var k=DayPilot.Util.div(e,b.x-6,b.y-5,0,0);k.style.borderColor="transparent transparent transparent "+g,k.style.borderStyle="solid",k.style.borderWidth="6px",f.elements.linkshadow.push(k)},m.drawLinkXy=function(a,b,c){var d=f.eventHeight/2,e=c.width||1,g=c.type||"FinishToStart",h=c.color,i=c.style,j=c.layer||"Above",k="Above"===j,l=k?f.divLinksAbove:f.divLinksBelow,m=f.eventHeight,n=f.linkBottomMargin,o=function(a,b){h&&(a.style["border"+b+"Color"]=h),i&&(a.style["border"+b+"Style"]=i)},p=[],q=function(a,b){f.elements.links.push(a),s(a),r(a),a.divs=p,b||p.push(a)},r=function(a){a.oncontextmenu=function(a){if(a=a||window.event,f.contextMenuLink){var b=new DayPilot.Link(c,f);f.contextMenuLink.show(b)}a.cancelBubble=!0,a.preventDefault&&a.preventDefault()}},s=function(a){a.onmouseenter=function(){DayPilot.Util.addClass(a.divs,f.$a0("_link_hover"))},a.onmouseleave=function(){DayPilot.Util.removeClass(a.divs,f.$a0("_link_hover"))}};if("FinishToStart"===g)if(a.y>b.y||a.y==b.y&&b.bottom)if(a.x<b.x){var t=a.x,u=a.y+m-n,v=b.x+d,w=b.y,x=DayPilot.Util.div(l,t,u,v-a.x,e);x.style.boxSizing="border-box",x.style.borderBottomWidth=e+"px",x.className=f.$a0("_link_horizontal"),DayPilot.Util.addClass(x,c.cssClass),o(x,"Bottom"),q(x);var y=DayPilot.Util.div(l,v,u,e,w-u);y.style.boxSizing="border-box",y.style.borderRightWidth=e+"px",y.className=f.$a0("_link_vertical"),DayPilot.Util.addClass(y,c.cssClass),o(y,"Right"),q(y);var z;h?(z=DayPilot.Util.div(l,v-5+Math.floor(e/2),w-5,0,0),a.y<b.y?z.style.borderColor=h+" transparent transparent transparent":z.style.borderColor="transparent transparent "+h+" transparent",z.style.borderStyle="solid",z.style.borderWidth="5px"):(z=DayPilot.Util.div(l,v-6+Math.floor(e/2),w-6,6,6),a.y<b.y?z.className=f.$a0("_link_arrow_down"):z.className=f.$a0("_link_arrow_up"),DayPilot.Util.addClass(z,c.cssClass)),q(z,!0)}else{var A=5,B=b.y+m+A,x=DayPilot.Util.div(l,a.x,a.y+m-n,d+e,e);x.style.boxSizing="border-box",x.style.borderBottomWidth=e+"px",x.className=f.$a0("_link_horizontal"),DayPilot.Util.addClass(x,c.cssClass),o(x,"Bottom"),q(x);var y=DayPilot.Util.div(l,a.x+d,a.y+m-n,e,B-(a.y+m-n));y.style.boxSizing="border-box",y.style.borderRightWidth=e+"px",y.className=f.$a0("_link_vertical"),DayPilot.Util.addClass(y,c.cssClass),o(y,"Right"),q(y);var C=DayPilot.Util.div(l,b.x-d,B,a.x+2*d+e-b.x,e);C.style.boxSizing="border-box",C.style.borderBottomWidth=e+"px",C.className=f.$a0("_link_horizontal"),DayPilot.Util.addClass(C,c.cssClass),o(C,"Bottom"),q(C);var D=DayPilot.Util.div(l,b.x-d,B,e,b.y-B+m-n);D.style.boxSizing="border-box",D.style.borderRightWidth=e+"px",D.className=f.$a0("_link_vertical"),DayPilot.Util.addClass(D,c.cssClass),o(D,"Right"),q(D);var E=DayPilot.Util.div(l,b.x-d,b.y+m-n,d,e);E.style.boxSizing="border-box",E.style.borderBottomWidth=e+"px",E.className=f.$a0("_link_horizontal"),DayPilot.Util.addClass(E,c.cssClass),o(E,"Bottom"),q(E);var z;h?(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,0,0),z.style.borderWidth="6px",z.style.borderColor="transparent transparent transparent "+h,z.style.borderStyle="solid"):(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,6,6),z.className=f.$a0("_link_arrow_right"),DayPilot.Util.addClass(z,c.cssClass)),q(z,!0)}else if(a.y===b.y)if(a.x<b.x){var t=a.x,u=a.y+m-n,v=b.x,x=DayPilot.Util.div(l,t,u,v-a.x,e);x.style.boxSizing="border-box",x.style.borderBottomWidth=e+"px",x.className=f.$a0("_link_horizontal"),DayPilot.Util.addClass(x,c.cssClass),o(x,"Bottom"),q(x);var z;h?(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,0,0),z.style.borderWidth="6px",z.style.borderColor="transparent transparent transparent "+h,z.style.borderStyle="solid"):(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,6,6),z.className=f.$a0("_link_arrow_right"),DayPilot.Util.addClass(z,c.cssClass)),q(z,!0)}else{var A=5,B=b.y+m+A,x=DayPilot.Util.div(l,a.x,a.y+m-n,d+e,e);x.style.boxSizing="border-box",x.style.borderBottomWidth=e+"px",x.className=f.$a0("_link_horizontal"),DayPilot.Util.addClass(x,c.cssClass),o(x,"Bottom"),q(x);var y=DayPilot.Util.div(l,a.x+d,a.y+m-n,e,B-(a.y+m-n));y.style.boxSizing="border-box",y.style.borderRightWidth=e+"px",y.className=f.$a0("_link_vertical"),DayPilot.Util.addClass(y,c.cssClass),o(y,"Right"),q(y);var C=DayPilot.Util.div(l,b.x-d,B,a.x+2*d+e-b.x,e);C.style.boxSizing="border-box",C.style.borderBottomWidth=e+"px",C.className=f.$a0("_link_horizontal"),DayPilot.Util.addClass(C,c.cssClass),o(C,"Bottom"),q(C);var D=DayPilot.Util.div(l,b.x-d,B,e,b.y-B+m-n);D.style.boxSizing="border-box",D.style.borderRightWidth=e+"px",D.className=f.$a0("_link_vertical"),DayPilot.Util.addClass(D,c.cssClass),o(D,"Right"),q(D);var E=DayPilot.Util.div(l,b.x-d,b.y+m-n,d,e);E.style.boxSizing="border-box",E.style.borderBottomWidth=e+"px",E.className=f.$a0("_link_horizontal"),DayPilot.Util.addClass(E,c.cssClass),o(E,"Bottom"),q(E);var z;h?(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,0,0),z.style.borderWidth="6px",z.style.borderColor="transparent transparent transparent "+h,z.style.borderStyle="solid"):(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,6,6),z.className=f.$a0("_link_arrow_right"),DayPilot.Util.addClass(z,c.cssClass)),q(z,!0)}else if(a.x>b.x){var k=5,B=b.y-k,x=DayPilot.Util.div(l,a.x,a.y+m-n,d+e,e);x.style.boxSizing="border-box",x.style.borderBottomWidth=e+"px",x.className=f.$a0("_link_horizontal"),DayPilot.Util.addClass(x,c.cssClass),o(x,"Bottom"),q(x);var y=DayPilot.Util.div(l,a.x+d,a.y+m-n,e,B-(a.y+m-n));y.style.boxSizing="border-box",y.style.borderRightWidth=e+"px",y.className=f.$a0("_link_vertical"),DayPilot.Util.addClass(y,c.cssClass),o(y,"Right"),q(y);var C=DayPilot.Util.div(l,b.x-d,B,a.x+2*d+e-b.x,e);C.style.boxSizing="border-box",C.style.borderBottomWidth=e+"px",C.className=f.$a0("_link_horizontal"),DayPilot.Util.addClass(C,c.cssClass),o(C,"Bottom"),q(C);var D=DayPilot.Util.div(l,b.x-d,B,e,b.y-B+m-n);D.style.boxSizing="border-box",D.style.borderRightWidth=e+"px",D.className=f.$a0("_link_vertical"),DayPilot.Util.addClass(D,c.cssClass),o(D,"Right"),q(D);var E=DayPilot.Util.div(l,b.x-d,b.y+m-n,d,e);E.style.boxSizing="border-box",E.style.borderBottomWidth=e+"px",E.className=f.$a0("_link_horizontal"),DayPilot.Util.addClass(E,c.cssClass),o(E,"Bottom"),q(E);var z;h?(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,0,0),z.style.borderWidth="6px",z.style.borderColor="transparent transparent transparent "+h,z.style.borderStyle="solid"):(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,6,6),z.className=f.$a0("_link_arrow_right"),DayPilot.Util.addClass(z,c.cssClass)),q(z,!0)}else{var t=a.x,u=a.y+m-n,v=b.x+d,w=b.y,x=DayPilot.Util.div(l,t,u,v-a.x,e);x.style.boxSizing="border-box",x.style.borderBottomWidth=e+"px",x.className=f.$a0("_link_horizontal"),DayPilot.Util.addClass(x,c.cssClass),o(x,"Bottom"),q(x);var y=DayPilot.Util.div(l,v,u,e,w-u);y.style.boxSizing="border-box",y.style.borderRightWidth=e+"px",y.className=f.$a0("_link_vertical"),DayPilot.Util.addClass(y,c.cssClass),o(y,"Right"),q(y);var z;h?(z=DayPilot.Util.div(l,v-5+Math.floor(e/2),w-5,0,0),a.y<b.y?z.style.borderColor=h+" transparent transparent transparent":z.style.borderColor="transparent transparent "+h+"transparent",z.style.borderStyle="solid",z.style.borderWidth="5px"):(z=DayPilot.Util.div(l,v-6+Math.floor(e/2),w-6,6,6),a.y<b.y?z.className=f.$a0("_link_arrow_down"):z.className=f.$a0("_link_arrow_up"),DayPilot.Util.addClass(z,c.cssClass)),q(z,!0)}else if("StartToFinish"===g){var k=5,B=b.y-k,x=DayPilot.Util.div(l,b.x,b.y+m-n,d+e,e);x.style.boxSizing="border-box",x.style.borderBottomWidth=e+"px",x.className=f.$a0("_link_horizontal"),DayPilot.Util.addClass(x,c.cssClass),o(x,"Bottom"),q(x);var y=DayPilot.Util.div(l,b.x+d,b.y+m-n,e,B-(b.y+m-n)+0);y.style.boxSizing="border-box",y.style.borderRightWidth=e+"px",y.className=f.$a0("_link_vertical"),DayPilot.Util.addClass(y,c.cssClass),o(y,"Right"),q(y);var C=DayPilot.Util.div(l,a.x-d,B,b.x+2*d+e-a.x,e);C.style.boxSizing="border-box",C.style.borderBottomWidth=e+"px",C.className=f.$a0("_link_horizontal"),DayPilot.Util.addClass(C,c.cssClass),o(C,"Bottom"),q(C);var D=DayPilot.Util.div(l,a.x-d,B,e,a.y+m-n-B+0);D.style.boxSizing="border-box",D.style.borderRightWidth=e+"px",D.className=f.$a0("_link_vertical"),DayPilot.Util.addClass(D,c.cssClass),o(D,"Right"),q(D);var E=DayPilot.Util.div(l,a.x-d,a.y+m-n,d,e);E.style.boxSizing="border-box",E.style.borderBottomWidth=e+"px",E.className=f.$a0("_link_horizontal"),DayPilot.Util.addClass(E,c.cssClass),o(E,"Bottom"),q(E);var z;h?(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,0,0),z.style.borderColor="transparent "+h+" transparent transparent",z.style.borderStyle="solid",z.style.borderWidth="6px"):(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,6,6),z.className=f.$a0("_link_arrow_left"),DayPilot.Util.addClass(z,c.cssClass)),q(z,!0)}else if("StartToStart"===g){var F=Math.min(a.x,b.x)-d,x=DayPilot.Util.div(l,F,a.y+m-n,a.x-F,e);x.style.boxSizing="border-box",x.style.borderBottomWidth=e+"px",x.className=f.$a0("_link_horizontal"),DayPilot.Util.addClass(x,c.cssClass),o(x,"Bottom"),q(x);var y=DayPilot.Util.div(l,F,a.y+m-n,e,b.y-a.y);y.style.boxSizing="border-box",y.style.borderRightWidth=e+"px",y.className=f.$a0("_link_vertical"),DayPilot.Util.addClass(y,c.cssClass),o(y,"Right"),q(y);var E=DayPilot.Util.div(l,F,b.y+m-n,b.x-F,e);E.style.boxSizing="border-box",E.style.borderBottomWidth=e+"px",E.className=f.$a0("_link_horizontal"),DayPilot.Util.addClass(E,c.cssClass),o(E,"Bottom"),q(E);var z;h?(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,0,0),z.style.borderColor="transparent transparent transparent "+h,z.style.borderStyle="solid",z.style.borderWidth="6px"):(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,6,6),z.className=f.$a0("_link_arrow_right"),DayPilot.Util.addClass(z,c.cssClass)),q(z,!0)}else if("FinishToFinish"===g){var G=Math.max(b.x,a.x)+d,x=DayPilot.Util.div(l,a.x,a.y+m-n,G-a.x,e);x.style.boxSizing="border-box",x.style.borderBottomWidth=e+"px",x.className=f.$a0("_link_horizontal"),DayPilot.Util.addClass(x,c.cssClass),o(x,"Bottom"),q(x);var y=DayPilot.Util.div(l,G,a.y+m-n,e,b.y-a.y);y.style.boxSizing="border-box",y.style.borderRightWidth=e+"px",y.className=f.$a0("_link_vertical"),DayPilot.Util.addClass(y,c.cssClass),o(y,"Right"),q(y);var E=DayPilot.Util.div(l,b.x,b.y+m-n,G-b.x,e);E.style.boxSizing="border-box",E.style.borderBottomWidth=e+"px",E.className=f.$a0("_link_horizontal"),DayPilot.Util.addClass(E,c.cssClass),o(E,"Bottom"),q(E);var z;h?(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,0,0),z.style.borderColor="transparent "+h+" transparent transparent",z.style.borderStyle="solid",z.style.borderWidth="6px"):(z=DayPilot.Util.div(l,b.x-6,b.y+m-n-5,6,6),z.className=f.$a0("_link_arrow_left"),DayPilot.Util.addClass(z,c.cssClass)),q(z,!0)}},this.$c7=function(a,b){var c={};c.from=a.from,c.to=a.to,c.type=a.type,f.$au("LinkCreate",c,b)},this.$c9=function(a,b){var c={};c.from=a.from,c.to=a.to,c.type=a.type,f.$au("LinkCreate",c,b,"Notify")},this.$c8=function(a,b){var c={};c.from=a.from,c.to=a.to,c.type=a.type,f.$at("LinkCreate",c,b)},this.$cb=function(a){var b=0,c=0,d=0;if(a>this.rowlist.length-1)throw"Row index too high (DayPilotScheduler._getRowByIndex)";for(var e=0;e<=a;e++){var f=this.rowlist[e];f.hidden||(c+=f.height,d++)}b=c-f.height;var g={};return g.top=b,g.height=f.height,g.bottom=c,g.i=d-1,g.data=f,g},this.$cc=function(){return!!this.backendUrl&&(void 0===f.events.list||!f.events.list)},this.events.find=function(a){if(!f.events.list||void 0===f.events.list.length)return null;for(var b=f.events.list.length,c=0;c<b;c++)if(f.events.list[c].id===a)return new DayPilot.Event(f.events.list[c],f);return null},this.events.all=function(){for(var a=[],b=0;b<f.events.list.length;b++){var c=new DayPilot.Event(f.events.list[b],f);a.push(c)}return DayPilot.list(a)},this.events.filter=function(a){f.events.$cd=a,f.$aS({eventsOnly:!0})},this.events.edit=function(a){var b=f.$ca(a);b&&f.$ax(b)},this.events.load=function(a,b,c){var d=function(a){var b={};b.exception=a.exception,b.request=a.request,"function"==typeof c&&c(b)},e=function(a){var e,c=a.request;try{e=DayPilot.Util.parseJSON(c.responseText)}catch(a){var g={};return g.exception=a,void d(g)}if(DayPilot.isArray(e)){var h={};if(h.preventDefault=function(){this.preventDefault.value=!0},h.data=e,"function"==typeof b&&b(h),h.preventDefault.value)return;f.events.list=e,f.$b5&&f.update()}};DayPilot.ajax({method:"POST",data:{start:f.visibleStart().toString(),end:f.visibleEnd().toString()},url:a,success:e,error:d})},this.events.findRecurrent=function(a,b){if(!f.events.list||void 0===f.events.list.length)return null;for(var c=f.events.list.length,d=0;d<c;d++)if(f.events.list[d].recurrentMasterId===a&&f.events.list[d].start.getTime()===b.getTime())return new DayPilot.Event(f.events.list[d],f);return null},this.events.$aL=function(a){for(var b=[],c=0;c<f.rowlist.length;c++){var d=f.rowlist[c];if(!d.isNewRow){f.$af(c);for(var e=0;e<d.events.length;e++)if(d.events[e].data===a){b.push(c),d.events.splice(e,1);break}}}return b},this.events.$aM=function(a){var b=[],c=f.$ce()||"Days"===f.viewType,d=DayPilot.indexOf(f.events.list,a);f.$cf(d);for(var e=0;e<f.rowlist.length;e++){var g=f.rowlist[e];if(!g.isNewRow){f.$af(e);var h=f.$cg(a,g);if(h&&("function"==typeof f.onBeforeEventRender&&(h.cache=f.$9f.events[d]),b.push(e),!c))break}}return b},this.events.update=function(a,b){var c={};c.oldEvent=new DayPilot.Event(a.copy(),f),c.newEvent=new DayPilot.Event(a.temp(),f);var d=new DayPilot.Action(f,"EventUpdate",c,b);if(DayPilot.list(f.events.list).find(function(b){return(b instanceof DayPilot.Event?b.data:b)===a.data})){if(f.$ch.scope)f.$ch.notify(function(){a.commit()});else{var g=f.events.$aL(a.data);a.commit(),g=g.concat(f.events.$aM(a.data)),f.$aN(g),f.$aO(),f.$b5&&("Gantt"===f.viewType?f.update():(f.$aP(g),f.$9A()))}return d}},this.events.remove=function(a,b){var c={};c.e=new DayPilot.Event(a.data,f);var d=new DayPilot.Action(f,"EventRemove",c,b),e=DayPilot.indexOf(f.events.list,a.data);if(f.events.list.splice(e,1),f.$ch.scope)f.$ch.notify();else{var g=f.events.$aL(a.data);f.$aN(g),f.$aO(),f.$b5&&("Gantt"===f.viewType?f.update():(f.$aP(g),f.$9A()))}return d},this.events.add=function(a,b){a.calendar=f,f.events.list||(f.events.list=[]),f.events.list.push(a.data);var c=new DayPilot.Action(f,"EventAdd",d,b);if(!f.$b5)return c;if(f.$ch.scope)f.$ch.notify();else{var d={};d.e=a;var e=f.events.$aM(a.data);f.events.$ci(e)}return c},this.events.$cj={rows:[]},this.events.$ck=null,this.events.$ci=function(a){clearTimeout(f.events.$ck);var b=f.events.$cj.rows;DayPilot.list(a).each(function(a){b.push(a)}),f.events.$cj.rows=DayPilot.ua(b);var c=function(){var a=f.events.$cj.rows;f.events.$cj.rows=[],f.$aN(a),f.$aO(),f.$b5&&("Gantt"===f.viewType?f.update():(f.$aP(a),f.$9A()))};f.events.$ck=setTimeout(c)},this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(a){if(a){if(!a.isAction)throw"DayPilot.Action object required for queue.add()";f.queue.list.push(a)}},this.queue.notify=function(a){var b={};b.actions=f.queue.list,f.$au("Notify",b,a,"Notify"),f.queue.list=[]},this.queue.clear=function(){f.queue.list=[]},this.queue.pop=function(){return f.queue.list.pop()},this.cells.find=function(a,b){var c=f.getPixels(new DayPilot.Date(a));if(!c)return o();var d=c.i,e=f.$9R(b);if(!e)return o();var g=e.top,h=f.$bV(g).i;return this.findXy(d,h)},this.cells.findByPixels=function(a,b){var c=f.$an(a);if(!c)return o();var a=c.x,d=f.$bV(b);if(!d)return o();var b=d.i;return this.findXy(a,b)},this.cells.all=function(){for(var a=[],b=f.itline.length,c=f.rowlist.length,d=0;d<b;d++)for(var e=0;e<c;e++){var g=f.cells.findXy(d,e);a.push(g[0])}return o(a)},this.cells.$cl=function(a,b){var c=f.$aw(a),d=f.rowlist[b],e=d.start.getTime()-f.$ae().getTime(),g=c.start.addTime(e),h=c.end.addTime(e),i={};i.x=a,i.y=b,i.i=a+"_"+b,i.resource=d.id,i.start=c.start,i.end=c.end,i.isParent=d.children&&d.children.length,i.update=function(){if(!f.rowlist[i.y].hidden){var a=f.$9f.cells[i.i];f.$cm(a);var b=f.$9T();b.xStart<=i.x&&i.x<=b.xEnd&&b.yStart<=i.y&&i.y<=b.yEnd&&f.$cn(i.x,i.y)}},i.utilization=function(a){return d.sections||d.calculateUtilization(),d.sections.forRange(g,h).maxSum(a)},i.events=function(){return d.events.forRange(g,h)},i.div=f.$9f.cells[i.i];var j=f.$co(a,b);return i.properties=j,i},this.cells.findXy=function(a,b){if(DayPilot.isArray(a)){for(var c=[],d=0;d<a.length;d++){var e=a[d];c.push(f.cells.$cl(e.x,e.y))}return o(c)}if(null===a||null===b)return o();var g=f.cells.$cl(a,b);return o(g)};var n=function(a){var b=[];if(DayPilot.isArray(a))for(var c=0;c<a.length;c++)b.push(a[c]);else"object"==typeof a&&b.push(a);return b.each=function(a){if(a)for(var c=0;c<b.length;c++)a(b[c])},b};this.$cp=function(a){var b=DayPilot.list();if(DayPilot.isArray(a))for(var c=0;c<a.length;c++)b.push(a[c]);else"object"==typeof a&&b.push(a);return b.cssClass=function(a){return this.each(function(b){b.properties.cssClass=DayPilot.Util.addClassToString(b.properties.cssClass,a),b.update()}),this},b.removeClass=function(a){return this.each(function(b){b.properties.cssClass=DayPilot.Util.removeClassFromString(b.properties.cssClass,a),b.update()}),this},b.addClass=b.cssClass,b.html=function(a){return this.each(function(b){b.properties.html=a,b.update()}),this},b};var o=this.$cp;this.$ch={},this.$ch.scope=null,this.$ch.notify=function(a){f.$ch.scope&&f.$ch.scope.$apply(a)},this.debug=new DayPilot.Debug(this),this.$cq=function(a){if("Days"!==f.viewType)throw"Checking row start when viewType !== 'Days'";for(var b=0;b<f.rowlist.length;b++){var c=f.rowlist[b],d=c.element?c.element.data:c.data,e=d.start;if(a.getTime()>=e.getTime()&&a.getTime()<e.addDays(1).getTime())return e}return null},this.$cr=function(a){var b=f.$ae();if(a.ticks===b.ticks)return a;var c=b;if(a.ticks<b.ticks){for(var d=this.itline[0].end.ticks-this.itline[0].start.ticks;c.ticks>a.ticks;)c=c.addTime(-d);return c}if("Days"===f.viewType){var e=this.$cq(a),g=e.getTime()-f.$ae().getTime(),h=this.$ap(a.addTime(-g));if(h.current)return h.current.start.addTime(g);if(h.past)return h.previous.end.addTime(g);throw"getBoxStart(): time not found"}var h=this.$ap(a);if(h.current)return h.current.start;if(h.past)return h.previous.end;if(h.hidden){var i=h.next.start.getTime()-a.getTime(),j=h.next.end.getTime()-h.next.start.getTime(),k=Math.ceil(i/j)*j;return h.next.start.addTime(-k)}throw"getBoxStart(): time not found"},this.$c2=function(a){var c=this.$bV(f.coords.y),d=a.event;if("function"!=typeof d.end)throw"e.end function is not defined";if(!d.end())throw"e.end() returns null";var e=DayPilot.DateUtil.diff(d.rawend(),d.start());e=Math.max(e,1);var g=F.useBox(e),h=d.data&&"Milestone"===d.data.type,i=f.eventHeight,j=0,k=f.coords.x;if(h&&(k+=i/2),"Manual"===f.scale){var l=function(){var a=f.getDate(f.coords.x,!0,!0),b=a.addTime(-e),c=f.getPixels(b).boxLeft,d=f.getPixels(a).boxRight,a=Math.min(d,f.coords.x);return a-c}(),m=Math.min(b.moveOffsetX?b.moveOffsetX:0,l);k=f.coords.x-m}var n=0,o="Days"===this.viewType||this.$cs();if(o&&!d.part.external&&(n=this.rowlist[d.part.dayIndex].start.getTime()-this.$ae().getTime()),g&&!h){var p=f.$ap(d.start()),q=!p.hidden&&!p.past;j=d.start().getTime()-this.$cr(d.start().addTime(-n)).addTime(n).getTime(),q&&(j=function(a,b){var c=f.$ct(f.$ap(a).current),d=f.$ct(f.$an(k).cell);if(c>1.2*d){for(var e=b>0?1:-1,b=Math.abs(b);b>=d;)b-=d;b*=e}return b}(d.start(),j))}var r=0;if(b.moveDragStart&&"Manual"!==f.scale)if(g){var s=d.start().addTime(-n),t=this.$cr(s);r=b.moveDragStart.getTime()-t.getTime();var u=60*f.$cu()*1e3;r=Math.floor(r/u)*u}else r=b.moveDragStart.getTime()-d.start().addTime(n).getTime();else r=0;this.eventMoveToPosition&&(r=0);var v=this.getDate(k,!0).addTime(-r).addTime(n);b.resizing&&(v=d.start()),this.snapToGrid&&(v=this.$cr(v.addTime(-n)).addTime(n)),v=v.addTime(j);var w=v.addTime(e),x=v,y=w;if(o){x=v.addTime(-n),y=x.addTime(e);var z=c.element.data.start.getTime()-this.$ae().getTime();v=x.addTime(z),w=v.addTime(e)}var A=this.getPixels(x),B=this.getPixels(y),C=g?A.boxLeft:A.left,D=g?B.boxRight-C:B.left-C;h&&(D=i,C-=D/2);var E={};return E.top=c.top,E.left=C,E.row=c.element,E.rowIndex=c.i,E.width=D,E.start=v,E.end=w,E.relativeY=f.coords.y-c.top,E},this.$cu=function(){switch(this.scale){case"CellDuration":return this.cellDuration;case"Minute":return 1;case"Hour":return 60;case"Day":return 1440;case"Week":return 10080;case"Month":return 43200;case"Year":return 525600}throw"can't guess cellDuration value"},this.$ct=function(a){return a.end.ticks-a.start.ticks},this.$c5=function(a){return this.treePreventParentUsage&&this.$cv(a)},this.$cv=function(a){var b=this.rowlist[a];return!!b.isParent||!!(this.treeEnabled&&b.children&&b.children.length>0)},this.$cw={},this.$cx=function(){if(f.treeAutoExpand){var a=this.$c2(b.moving),c=a.rowIndex,d=this.$cv(c),e=this.$cw;e.timeout&&e.y!==c&&(clearTimeout(e.timeout),e.timeout=null),d&&(e.y=c,e.timeout||(e.timeout=setTimeout(function(){!f.rowlist[e.y].expanded&&(f.$cy(e.y),f.$cz()),e.timeout=null},500)))}},this.$cA=function(){var a=b.resizingShadow.clientWidth,c=b.resizingShadow.offsetLeft,d=b.resizing.event,e=b.resizing.dpBorder,g=f.rowlist[b.resizing.event.part.dayIndex],h=0;h=g.start.getTime()-f.$ae().getTime();var i=null,j=null,k=!f.snapToGrid;"left"===e?(i=f.getDate(c,k).addTime(h),j=d.rawend()):""===e&&(i=d.start(),j=f.getDate(c+a,k,!0).addTime(h)),b.resizingShadow.start=i,b.resizingShadow.end=j,s.update()},this.$cB={};var p=this.$cB;p.getWidth=function(){return f.nav.top.offsetWidth},p.getHeight=function(){return f.nav.top.offsetHeight-DayPilot.sh(f.nav.scroll)-1},p.getRowHeaderWidth=function(){return f.$a3()},p.getTimeHeaderHeight=function(){return f.$a2()},p.download=function(a){var b=p.canvas(),a=a||"image.png";if(window.navigator.msSaveBlob){var c=b.msToBlob();window.navigator.msSaveBlob(c,a)}else{var d=document.createElement("a");d.download=a,d.href=b.toDataURL(),d.click()}},p.getCanvas=function(){return p.canvas()},p.getRectangles=function(a){var b=p.getRowHeaderWidth(),c=p.getTimeHeaderHeight(),d={};return d.main={x:0,y:0,w:a.getWidth(),h:a.getHeight()},d.corner={x:0,y:0,w:b,h:c},d.grid={x:b,y:c,w:a.getWidth()-b,h:a.getHeight()-c},d},p.getViewportRows=function(){var a=DayPilot.list(),b=f.$cC,c=b+f.nav.scroll.offsetHeight,d=f.$bV(b).i,e=f.$bV(c).i;e<f.rowlist.length&&(e+=1);for(var g=d;g<e;g++){var h=f.rowlist[g];h.hidden||a.push(h)}return a.offset=d,a},p.getViewportEvents=function(){return g.events()},p.getViewportTimeline=function(){var a=DayPilot.list();if(f.itline&&f.itline.length>0){var b=f.$cD,c=b+f.$cE,d=f.$an(b).x,e=f.$an(c,!0).x,g=f.$a1();e=Math.min(e,g),d=Math.max(d,0);for(var h=d;h<=e;h++){var i=f.itline[h];a.push(i)}a.offset=d}return a},p.getViewportTimeHeader=function(a){var b=DayPilot.list(),c=dp.nav.scroll.scrollLeft,d=c+dp.nav.scroll.offsetWidth,e=f.$cF(a,c),g=f.$cF(a,d);g||(g={x:f.timeHeader[a].length-1});for(var h=e.x;h<=g.x;h++){var i=f.timeHeader[a][h];b.push(i)}return b},p.fakeDurationBar=function(){var a=document.createElement("div");a.style.display="none",a.className=f.$a0("_event");var b=document.createElement("div");b.className=f.$a0("_event_bar");var c=document.createElement("div");return c.className=f.$a0("_event_bar_inner"),document.body.appendChild(a),b.appendChild(c),a.appendChild(b),a},p.fakeCell=function(){var a=document.createElement("div");a.style.display="none",a.className=f.$a0("_cell");var b=document.createElement("div");return b.className=f.$a0("_cell_inner"),document.body.appendChild(a),a.appendChild(b),a},p.fakeExpand=function(){var a=document.createElement("div");return a.style.display="none",a.className=f.$a0("_tree_image_expand"),document.body.appendChild(a),a},p.extractUrl=function(a){return/url\((.*)\)/.exec(a)[1]},p.getImages=function(){var a={},b=p.fakeExpand();return a.expand=p.extractUrl(new DayPilot.StyleReader(b).get("background-image")),b.className=f.$a0("_tree_image_collapse"),a.collapse=p.extractUrl(new DayPilot.StyleReader(b).get("background-image")),b.className=f.$a0("_tree_image_no_children"),a.nochildren=p.extractUrl(new DayPilot.StyleReader(b).get("background-image")),DayPilot.de(b),a},p.canvas=function(){var a=new DayPilot.Canvas(p.getWidth(),p.getHeight()),b=p.getRectangles(a),c=p.getImages(),d=new DayPilot.StyleReader(f.nav.corner).get("background-color"),e=new DayPilot.StyleReader(f.nav.top).get("border-color"),g=new DayPilot.StyleReader(f.nav.divider).get("background-color"),h=new DayPilot.StyleReader(DayPilot.list(f.elements.events).map(function(a){return a.firstChild}).last()).get("border-color"),i=p.fakeDurationBar(),j=new DayPilot.StyleReader(i.firstChild).get("background-color"),k=new DayPilot.StyleReader(i.firstChild.firstChild).get("background-color");DayPilot.de(i);var l=p.fakeCell(),m=new DayPilot.StyleReader(l).get("background-color");DayPilot.Util.addClass(l,f.$a0("_cell_business"));var n=new DayPilot.StyleReader(l).get("background-color");DayPilot.de(l);var o=DayPilot.Util.firstPropValue(f.$9f.linesVertical),q=new DayPilot.StyleReader(o).get("background-color"),r=new DayPilot.StyleReader(f.$9f.timeHeader["0_0"]).get("font"),s=new DayPilot.StyleReader(f.$9f.timeHeader["0_0"]).get("color"),t=dp.nav.scroll.scrollLeft,v=(dp.nav.scroll.offsetWidth,dp.nav.scroll.scrollTop);return a.fillRect(b.corner,d),DayPilot.list(f.timeHeader).each(function(c,g){p.getViewportTimeHeader(g).each(function(c){var h=b.grid.x+c.left-t,i=g*f.headerHeight,j=c.width,k=f.headerHeight,l=Math.max(0,b.grid.x-h);h+=l,j-=l;var l=Math.max(0,h+j-(b.grid.x+b.grid.w));j-=l;var m={x:h,y:i,w:j+1,h:k+1};a.fillRect(m,d),a.rect(m,e),a.text(m,c.innerHTML,r,s,"center")})}),p.getViewportTimeline().each(function(c){var d=b.grid.x+c.left-t;(d+=Math.max(0,b.grid.x-d))!==b.grid.x&&a.line(d,b.grid.y+1,d,b.grid.y+b.grid.h-2,q)}),p.getViewportRows().each(function(c,d,e){var d=e.offset+d;p.getViewportTimeline().each(function(e,g,h){var g=h.offset+g,i=f.$co(g,d),j=b.grid.y+c.top-v;j+=Math.max(0,b.grid.y-j);var l=b.grid.x+e.left-t;l+=Math.max(0,b.grid.x-l);var p=i.business,q=i.backColor||(p?n:m),r={x:l,y:j,w:e.width,h:c.height};a.fillRect(r,q)})}),p.getViewportRows().each(function(c){var d=b.grid.y+c.top-v;(d+=Math.max(0,b.grid.y-d))!==b.grid.y&&a.line(b.grid.x+1,d,b.grid.x+b.grid.w-1,d,q)}),p.getViewportRows().each(function(g){var h=b.grid.y+g.top-v;h+=Math.max(0,b.grid.y-h);var j=10,k=g.level*f.treeIndent+f.treeImageMarginLeft,l={x:0,y:h,w:b.grid.x+1,h:g.height+1},m=g.html,n={x:k,y:h+f.treeImageMarginTop,w:10,h:10},o={x:k+j,y:h,w:l.w-(k+j),h:g.height+1};a.fillRect(l,d),a.text(o,m,r,s),a.rect(l,e);var p=null;p=DayPilot.list(g.children).isEmpty()?c.nochildren:g.expanded?c.collapse:c.expand,a.image(n,p)}),p.getViewportEvents().each(function(c){var d=c.event,e=f.rowlist[d.part.dayIndex].top,g=d.part.width,i=d.part.barWidth,l=b.grid.y+e+d.part.top-v;l+=Math.max(0,b.grid.y-l);var n=b.grid.x+d.part.left-t,o=Math.max(0,b.grid.x-n);n+=o,g-=o,i-=o;var p=d.data.barColor||k,q=d.data.barBackColor||j,u=d.data.backColor||"white",w=5,x={x:n,y:l,w:g,h:d.part.height},y={x:n,y:l,w:g,h:w},z={x:n+d.part.barLeft,y:l,w:i,h:w},A={x:n,y:l+w,w:g,h:d.part.height-w};a.fillRect(x,u),a.text(A,d.text(),r,s,"left",2),a.rect(x,h),a.fillRect(y,q),i>0&&a.fillRect(z,p)}),a.rect(b.main,e),a.line(b.grid.x,0,b.grid.x,b.main.h,g),a.line(0,b.grid.y,b.main.w,b.grid.y,g),a.getCanvasElement()},this.$cG={};var q=this.$cG;q.findJointDivs=function(a){var b=a.data.join;return b?DayPilot.list(f.elements.events).filter(function(c){return c.event.data.join===b&&c.event!==a}):DayPilot.list()},this.$cH={};var s=this.$cH;s.divs=[],s.list=[],s.forbidden=!1,s.additional=function(){var a=DayPilot.list(),c=f.multiselect.isSelected(b.resizing.event),d=f.allowMultiResize,a=DayPilot.list();c&&d&&(a=DayPilot.list(f.multiselect.divs).filter(function(a){return a!==b.resizing}));var e=q.findJointDivs(b.resizing.event);return a=a.concat(e)},s.update=function(){s.clear(),s.draw()},s.clear=function(){DayPilot.de(s.divs),s.divs=[]},s.draw=function(){if(b.resizing){var a=b.resizing.event,c=b.resizingShadow,d=c.start.getTime()-a.start().getTime(),e=c.end.getTime()-a.end().getTime(),g=0;if(s.list=[],s.forbidden=!1,s.invalid=!1,s.rowoffset=g,s.additional().each(function(a){if(a.event){var b=a.event,c=f.rowlist[b.part.dayIndex+g];if(!c)return void(s.invalid=!0);var h=b.part.top+c.top,i=b.part.height;g&&(h=c.top,i=c.height);var j=b.start().addTime(d),k=b.end().addTime(e),l={};l.event=b,l.start=j,l.end=k,l.overlapping=!1,s.list.push(l);var m=f.getPixels(j),n=f.getPixels(k),o=DayPilot.DateUtil.diff(b.rawend(),b.start());o=Math.max(o,1);var p=F.useBox(o),q=p?m.boxLeft:m.left,r=p?n.boxRight-q:n.left-q,t=document.createElement("div");t.style.position="absolute",t.style.left=q+"px",t.style.top=h+"px",t.style.height=i+"px",t.style.width=r+"px",t.style.zIndex=101,t.style.overflow="hidden",t.className=f.$a0("_shadow"),t.info=l;var u=document.createElement("div");u.className=f.$a0("_shadow_inner"),t.appendChild(u),f.$9P.appendChild(t),s.divs.push(t)}}),s.invalid){var h=f.$a0("_shadow_overlap");return void DayPilot.list(s.divs).each(function(a){DayPilot.Util.addClass(a,h)})}DayPilot.list(s.divs).each(function(a){if(a.info){var c=a,d=a.info,e=a.info.event,h=f.rowlist[e.part.dayIndex+g],i=f.getPixels(d.start),j=f.getPixels(d.end),k=i.left,l=j.left-k,m=DayPilot.list(s.list).map(function(a){return a.event.data}).add(b.resizing.event.data);f.$cI(c,h,k,l,m),c.overlapping&&(d.overlapping=!0,s.forbidden=!0)}})}},this.$cJ={};var t=this.$cJ;t.divs=[],t.list=[],t.forbidden=!1,t.verticalAll=function(){return"All"===f.multiMoveVerticalMode},t.additional=function(){var a=DayPilot.list(),c=f.multiselect.isSelected(b.moving.event),d=f.allowMultiMove,a=DayPilot.list();c&&d&&(a=DayPilot.list(f.multiselect.divs).filter(function(a){return a!==b.moving&&a!==A.moving}));var e=q.findJointDivs(b.moving.event);return a=a.concat(e)},t.update=function(){t.clear(),t.draw()},t.draw=function(){if(b.moving){var a=b.moving.event,c=b.movingShadow.start,d=c.getTime()-a.start().getTime(),e=a.part.dayIndex,g=DayPilot.indexOf(f.rowlist,b.movingShadow.row),h=g-e;if(t.verticalAll()||(h=0),t.list=[],t.forbidden=!1,t.invalid=!1,t.rowoffset=h,t.additional().each(function(a){if(a.event){var b=a.event,c=f.rowlist[b.part.dayIndex+h];if(!c)return void(t.invalid=!0);var e=b.part.top+c.top,g=b.part.height;h&&(e=c.top,g=c.height);var i=b.start().addTime(d),j=b.end().addTime(d),k={};k.event=b,k.start=i,k.end=j,k.overlapping=!1,t.list.push(k);var l=f.getPixels(i),m=f.getPixels(j),n=DayPilot.DateUtil.diff(b.rawend(),b.start());n=Math.max(n,1);var o=F.useBox(n),p=o?l.boxLeft:l.left,q=o?m.boxRight-p:m.left-p,r=document.createElement("div");r.style.position="absolute",r.style.left=p+"px",r.style.top=e+"px",r.style.height=g+"px",r.style.width=q+"px",r.style.zIndex=101,r.style.overflow="hidden",r.className=f.$a0("_shadow"),r.info=k;var s=document.createElement("div");s.className=f.$a0("_shadow_inner"),r.appendChild(s),f.$9P.appendChild(r),t.divs.push(r)}}),t.invalid){var i=f.$a0("_shadow_overlap");return void DayPilot.list(t.divs).each(function(a){DayPilot.Util.addClass(a,i)})}DayPilot.list(t.divs).each(function(a){if(a.info){var c=a,d=a.info,e=a.info.event,g=f.rowlist[e.part.dayIndex+h],i=f.getPixels(d.start),j=f.getPixels(d.end),k=i.left,l=j.left-k,m=DayPilot.list(t.list).map(function(a){return a.event.data}).add(b.moving.event.data);f.$cI(c,g,k,l,m),c.overlapping&&(d.overlapping=!0,t.forbidden=!0)}})}},t.clear=function(){DayPilot.de(t.divs),t.divs=[]},this.$cK=function(){var a=f.coords,c=b.resizing.dpBorder,d=b.resizing.event,e=d.part.left;""==c&&(e+=d.part.width);var l,m,g=b.resizing.event.calendar.cellWidth,h=b.resizing.event.part.width,i=b.resizing.event.part.left,j=0,k=a.x-e;if(""===c){if(l=i,f.snapToGrid){var n=f.$an(h+i+k).cell,o=n.left+n.width;m=o-i,m<g&&(m=g)}else m=h+k;var p=f.$cL();i+m>p&&(m=p-i),b.resizingShadow.style.width=m+"px"}else{if("left"!==c)throw"Invalid dpBorder.";f.snapToGrid?(k>=h&&(k=h),(l=Math.floor((i+k+0)/g)*g)<j&&(l=j)):l=i+k,m=h-(l-i);var q=i+h,r=g;f.snapToGrid?"Never"===f.useEventBoxes&&(r=h<g?h:1):r=1,m<r&&(m=r,l=q-m),b.resizingShadow.style.left=l+"px",b.resizingShadow.style.width=m+"px"}!function(){var c=b.resizing.event,d=f.rowlist[c.part.dayIndex],e=l,g=m;f.$cI(b.resizingShadow,d,e,g,c.data)}(),f.$cM()},this.$cz=function(){this.nav.scroll;if(f.coords&&b.moving){f.$a4();var c=b.movingShadow,d=this.$c2(b.moving);if(!f.$c5(d.rowIndex)){var e=b.moving.event,g=0;!function(){for(var b=d.relativeY,c=d.row,h=(c.lines.length,0),i=f.$c3.eventHeight(),j=c.lines.length,k=0;k<c.lines.length;k++){if(c.lines[k].isFree(d.left,f.cellWidth)){j=k;break}}var m=Math.floor((b-h+i/2)/i),m=Math.min(j,m),m=Math.max(0,m);g=m}();var h=e.cache&&void 0!==e.cache.moveVDisabled?!e.cache.moveVDisabled:!e.data.moveVDisabled,i=e.cache&&void 0!==e.cache.moveHDisabled?!e.cache.moveHDisabled:!e.data.moveHDisabled,j=!t.additional().isEmpty();j&&"Disabled"===f.multiMoveVerticalMode&&(h=!1);var k=g*f.$c3.eventHeight();if(k>0&&(k-=3),h)if(this.$c5(d.rowIndex)){var l=c.row,m=1;if(!l)return;m=d.rowIndex<l.index?1:-1;for(var n=d.rowIndex;n!==l.index;n+=m){var o=this.rowlist[n];if(!this.$c5(n)&&!o.hidden){c.style.top=o.top+"px",c.style.height=Math.max(o.height,0)+"px",c.row=o,f.eventMoveToPosition&&(g=m>0?0:o.lines.length-1,c.style.top=d.top+k+"px",c.style.height="3px",c.line=g);break}}}else c.row=d.row,c.style.height=Math.max(d.row.height,0)+"px",c.style.top=d.top+"px",f.eventMoveToPosition&&(c.style.top=d.top+k+"px",c.style.height="3px",c.line=g);else{for(var l=f.rowlist[e.part.dayIndex],p=l.lines.length,n=0;n<l.lines.length;n++){if(l.lines[n].isFree(d.left,f.cellWidth)){p=n;break}}if(j||(c.style.height=Math.max(l.height,0)+"px",c.style.top=l.top+"px"),c.row=l,f.eventMoveToPosition&&!j)if(d.row===l)c.style.top=l.top+k+"px",c.style.height="3px",c.line=g;else{var r=d.rowIndex>l.index&&p>0?p*f.$c3.eventHeight()-3:0;c.style.top=l.top+r+"px",c.style.height="3px",c.line=0}}i?(c.style.left=d.left+"px",f.eventMoveToPosition?c.style.width=f.cellWidth+"px":c.style.width=d.width+"px",c.start=d.start,c.end=d.end):(c.style.left=e.part.left+"px",c.start=e.start(),c.end=e.rawend()),function(){var b=c.row,g=e.data,h=d.width,i=d.left,j=DayPilot.list(t.list).map(function(a){return a.event.data}).add(g);f.$cI(c,b,i,h,j)}(),function(){var a=f.$cN;if(!a||a.start.getTime()!==c.start.getTime()||a.end.getTime()!==c.end.getTime()||a.resource!==c.row.id){t.update();var d={};d.start=c.start,d.end=f.$aH(c.end),d.duration=new DayPilot.Duration(d.start,d.end),d.e=e,d.resource=c.row.id,d.row=f.$bx(c.row),d.position=c.line,d.overlapping=c.overlapping||t.forbidden,d.allowed=!0,d.left={},d.left.html=d.start.toString(f.eventMovingStartEndFormat,F.locale()),d.left.enabled=f.eventMovingStartEndEnabled,d.right={},d.right.html=d.end.toString(f.eventMovingStartEndFormat,F.locale()),d.right.enabled=f.eventMovingStartEndEnabled,d.multimove=DayPilot.list(t.list);var g={};g.event=e,g.start=d.start,g.end=d.end,d.multimove.splice(0,0,g),f.$cN=d;var h={start:d.start,end:d.end};if("function"==typeof f.onEventMoving&&f.onEventMoving(d),c.allowed=d.allowed,d.start!==h.start||d.end!==h.end){var i=d.start,j=f.$bc(d.end);c.start=i,c.end=j;var k=DayPilot.DateUtil.diff(i,j);k=Math.max(k,1);var l=F.useBox(k),m=l?f.getPixels(i).boxLeft:f.getPixels(i).left,n=l?f.getPixels(j).boxRight:f.getPixels(j).left;c.style.left=m+"px",c.style.width=n-m+"px"}f.$cO(c,d),DayPilot.Util.addClass(b.moving,f.$a0("_event_moving_source")),f.$cP(b.movingShadow,d)}}()}}},this.$cI=function(a,b,c,d,e){if(!f.allowEventOverlap){!function(){a.overlapping=!1;for(var h=0;h<b.lines.length;h++){if(!b.lines[h].isFree(c,d,e))return void(a.overlapping=!0)}if(f.allowMultiRange){var j=b.index;DayPilot.list(E.list).some(function(b){var e=b.div,f=parseInt(e.style.left),g=parseInt(e.style.width),h=b.start.y;return a!==e&&(h===j&&DayPilot.Util.overlaps(c,c+d,f,f+g))})&&(a.overlapping=!0)}}();var g=a.overlapping,h=f.$a0("_shadow_overlap");g?DayPilot.Util.addClass(a,h):DayPilot.Util.removeClass(a,h)}},this.$cO=function(a,b){var c=f.$a0("_shadow_forbidden");!b.allowed||t.invalid?DayPilot.Util.addClass(a,c):DayPilot.Util.removeClass(a,c)},this.$cP=function(a,b){var c=5;this.$cQ();var d={};d.left=parseInt(a.style.left),d.top=parseInt(a.style.top),d.right=d.left+parseInt(a.style.width);var e=b.left.width||10,g=document.createElement("div");if(g.style.position="absolute",g.style.left=d.left-e-c+"px",g.style.top=d.top+"px",g.style.height=f.eventHeight+"px",g.style.overflow="hidden",g.style.boxSizing="border-box",g.innerHTML=b.left.html,g.className=this.$a0("_event_move_left"),b.left.enabled)if(f.divHover.appendChild(g),b.left.width)g.style.width=e+"px";else{g.style.whiteSpace="nowrap";var h=g.offsetWidth,i=d.left-h-c;g.style.width=h+"px",g.style.left=i+"px";var j=f.nav.scroll.scrollLeft;i<j&&f.divHover.removeChild(g);var k=f.$cR()+(i-j);k>0&&(g.style.left=k+"px",g.style.top=d.top-f.nav.scroll.scrollTop+f.$a2()+"px",f.nav.top.appendChild(g),f.elements.hover.push(g))}var l=document.createElement("div");if(l.style.position="absolute",l.style.left=d.right+c+"px",l.style.top=d.top+"px",l.style.height=f.eventHeight+"px",l.style.overflow="hidden",l.style.boxSizing="border-box",b.right.width?l.style.width=b.right.width+"px":l.style.whiteSpace="nowrap",l.innerHTML=b.right.html,l.className=this.$a0("_event_move_right"),b.right.enabled){f.divHover.appendChild(l);var m=f.nav.scroll.scrollWidth;d.right+c+l.offsetWidth>=m&&f.divHover.removeChild(l)}},this.$cQ=function(){f.divHover.innerHTML="",DayPilot.de(f.elements.hover),f.elements.hover=[]},this.$cS=function(){var a=f.rowHeaderColumnDefaultWidth;this.rowHeaderColumns&&(this.rowHeaderCols=DayPilot.Util.propArray(this.rowHeaderColumns,"width",a))},this.$cR=function(){var a=0;if(this.$cS(),this.rowHeaderCols)for(var b=0;b<this.rowHeaderCols.length;b++)a+=this.rowHeaderCols[b];else a=this.rowHeaderWidth;return a},this.$cT=function(){return this.$cU(f.progressiveRowRenderingPreload)},this.$cU=function(a){var a=a||0,b=0,c=f.rowlist.length;if(f.progressiveRowRendering){var e=f.$9T();b=e.yStart,c=e.yEnd+1,b=Math.max(0,b-a),c=Math.min(f.rowlist.length,c+a)}return{start:b,end:c}},this.$cV=function(){if(this.$cW()&&this.rowHeaderWidthAutoFit){var a=this.divHeader;if(a&&a.rows){for(var b=[],c=f.$cT(),d=c.start;d<c.end;d++){var e=a.rows[d];if(e&&(!e.hidden&&!e.autofitDone)){e.autofitDone=!0;for(var g=0;g<e.cells.length;g++){var h=e.cells[g].firstChild.firstChild;if(h&&h.style){var i=h.style.width,j=h.style.right;h.style.position="absolute",h.style.width="auto",h.style.right="auto",h.style.whiteSpace="nowrap";var k=h.offsetWidth+2;h.style.position="",h.style.width=i,h.style.right=j,h.style.whiteSpace="",void 0===b[g]&&(b[g]=0),b[g]=Math.max(b[g],k)}}}}var l=0,m=!1;if(this.$cS(),this.rowHeaderCols)for(var d=0;d<b.length;d++)this.rowHeaderCols[d]&&(b[d]>this.rowHeaderCols[d]&&(this.rowHeaderCols[d]=b[d],m=!0),l+=this.rowHeaderCols[d]);else l=this.rowHeaderWidth,this.rowHeaderWidth<b[0]&&(l=b[0],m=!0);f.progressiveRowRendering,m&&(this.$cX&&(this.$cX.widths=this.rowHeaderCols,this.$cX.updateWidths(),DayPilot.Util.updatePropsFromArray(this.rowHeaderColumns,"width",this.rowHeaderCols)),this.rowHeaderScrolling||(this.rowHeaderWidth=l),this.$b4(),this.$cY())}}},this.$9t=function(){this.$cZ=!0,this.$cS();var a=this.$cR(),b=this.divHeader;if(b?(b.innerHTML="",DayPilot.puc(b)):(b=document.createElement("div"),b.onmousemove=function(){f.$d0()},this.divHeader=b),b.style.width=a+"px",b.style.height=f.$9e+"px",b.rows=[],f.progressiveRowRendering)c();else for(var e=this.rowlist.length,g=0;g<e;g++)f.$d1(g);f.$d2(),this.divResScroll.appendChild(b),this.rowHeaderWidthAutoFit&&this.$cV()},this.$d3=function(){if(f.progressiveRowRendering){for(var a=this.$cT(),b=0;b<f.rowlist.length;b++)a.start<=b&&b<a.end?f.$d1(b):f.$d4(b);if(this.rowHeaderWidthAutoFit){var c=f.$a3();this.$cV();if(f.$a3()!==c){var e=this.cellWidth;this.$9o();this.cellWidth!==e&&(this.$9p(),this.$9u(),this.$9A(),this.$9s())}}}},this.$d2=function(){var a=f.divHeader,b=this.rowHeaderCols,c=b?this.rowHeaderCols.length:0,d=this.$cR(),e=document.createElement("div");if(e.style.position="absolute",e.style.top=this.$9e+"px",e.colSpan=c+1,e.style.width=d+"px",e.style.height=f.divResScroll.clientHeight+20+"px",a.appendChild(e),f.nav.resScrollSpace=e,e.setAttribute("unselectable","on"),this.cssOnly){var g=document.createElement("div");g.style.position="relative",g.style.height="100%",g.className=this.$a0("_rowheader"),e.appendChild(g)}},this.$d4=function(a){var b=f.divHeader.rows[a];b&&(DayPilot.de(b.cells),f.divHeader.rows[a]=null)},this.$b6=function(a){this.$d4(a),this.$d1(a)},this.$d1=function(a){var b=f.divHeader,c=this.divHeader;if(!c.rows[a]){var d=this.rowHeaderCols,e=d?this.rowHeaderCols.length:0,g=this.$cR(),h=this.rowlist[a];if(h&&!h.hidden){var i=this.$d5(h);c.rows[a]={},c.rows[a].cells=[];var k=document.createElement("div");k.style.position="absolute",k.style.top=h.top+"px",k.row=h,k.index=a;var l=i.row,m=d?d[0]:this.rowHeaderWidth;k.style.width=m+"px",k.style.border="0px none",l.toolTip&&(k.title=l.toolTip),k.setAttribute("unselectable","on"),k.onmousemove=f.$d6,k.onmouseout=f.$d7,k.onmouseup=f.$d8,k.oncontextmenu=f.$d9,k.onclick=f.$da,k.ondblclick=f.$db;var n=document.createElement("div");n.style.width=m+"px",n.setAttribute("unselectable","on"),n.className=this.cssOnly?this.$a0("_rowheader"):this.$a0("rowheader"),l.cssClass&&DayPilot.Util.addClass(n,l.cssClass),l.backColor&&(n.style.background=l.backColor),n.style.height=h.height+"px",n.style.overflow="hidden",n.style.position="relative";var o=document.createElement("div");o.setAttribute("unselectable","on"),o.className=this.cssOnly?this.$a0("_rowheader_inner"):"",n.appendChild(o);var p="Disabled"!==this.rowMoveHandling,q=10,r=l.areas||[];p&&!l.moveDisabled&&r.push({v:"Hover",w:q,bottom:0,top:0,left:0,css:f.$a0("_rowmove_handle"),action:"Move"});var s=f.$bx(h);DayPilot.Areas.attach(n,s,{areas:r,allowed:function(){return!j.row}});var t=document.createElement("div");if(t.style.position="absolute",t.style.bottom="0px",t.style.width="100%",t.style.height="1px",t.className=this.$a0("_resourcedivider"),n.appendChild(t),function(){if(f.treeEnabled&&!h.isNewRow){var c=h.level*f.treeIndent+f.treeImageMarginLeft;p&&(c+=q);var d=10,e=document.createElement("div");e.style.width="10px",e.style.height=d+"px",e.style.backgroundRepeat="no-repeat",e.style.position="absolute",e.style.left=c+"px",e.style.top=f.treeImageMarginTop+"px",h.loaded||0!==h.children.length?h.children.length>0?(h.expanded?e.className=f.cssOnly?f.$a0("_tree_image_collapse"):f.$a0("tree_image_collapse"):e.className=f.cssOnly?f.$a0("_tree_image_expand"):f.$a0("tree_image_expand"),e.style.cursor="pointer",e.index=a,e.onclick=function(a){f.$cy(this.index),a=a||window.event,a.cancelBubble=!0}):e.className=f.cssOnly?f.$a0("_tree_image_no_children"):f.$a0("tree_image_no_children"):(e.className=f.cssOnly?f.$a0("_tree_image_expand"):f.$a0("tree_image_expand"),e.style.cursor="pointer",e.index=a,e.onclick=function(a){f.$dc(this.index),a=a||window.event,a.cancelBubble=!0}),o.appendChild(e)}var g=document.createElement("div");f.treeEnabled&&(g.style.marginLeft=c+d+"px"),g.innerHTML=l.html,k.textDiv=g,k.cellDiv=n,o.appendChild(g)}(),k.appendChild(n),l.areas)for(var u=0;u<l.areas.length;u++){var v=l.areas[u],w=v.v||"Visible";if("Visible"===w){var x=f.$bx(h),y=DayPilot.Areas.createArea(n,x,v);n.appendChild(y)}}if(b.appendChild(k),c.rows[a].cells.push(k),h.columns&&0!==h.columns.length)for(var z=m,u=1;u<e;u++){var k=document.createElement("div");k.style.position="absolute",k.style.top=h.top+"px",k.style.left=z+"px",b.appendChild(k),c.rows[a].cells.push(k),k.row=h,k.index=a,l.toolTip&&(k.title=l.toolTip),k.setAttribute("unselectable","on"),k.onmousemove=f.$d6,k.onmouseout=f.$d7,k.onmouseup=f.$d8,k.oncontextmenu=f.$d9,k.onclick=f.$da,k.ondblclick=f.$db;var n=document.createElement("div"),A=this.cssOnly?d[u]:d[u]-1;z+=A,l.backColor&&(n.style.backgroundColor=l.backColor),n.style.width=A+"px",n.style.height=h.height+"px",n.style.overflow="hidden",n.style.position="relative",n.setAttribute("unselectable","on"),this.cssOnly&&(DayPilot.Util.addClass(n,this.$a0("_rowheader")),DayPilot.Util.addClass(n,this.$a0("_rowheadercol")),DayPilot.Util.addClass(n,this.$a0("_rowheadercol"+u))),l.cssClass&&DayPilot.Util.addClass(n,l.cssClass);var o=document.createElement("div");o.setAttribute("unselectable","on"),o.className=this.$a0("_rowheader_inner"),n.appendChild(o);var t=document.createElement("div");t.style.position="absolute",t.style.bottom="0px",t.style.width="100%",t.style.height="1px",t.className=this.$a0("_resourcedivider"),n.appendChild(t);var B=document.createElement("div"),C=l.columns[u-1],D=C&&C.html?C.html:"";B.innerHTML=D,k.textDiv=B,k.cellDiv=n,o.appendChild(B),k.appendChild(n)}else k.colSpan=e>0?e:1,n.style.width=g+"px"}}},this.$d9=function(){var a=this.row;return a.contextMenu&&a.contextMenu.show(f.$bx(a)),!1},this.$da=function(a){if(!w.cancelClick){var b=this.row,c=f.$bx(b,this.index);if(b.isNewRow)return void f.$bB.edit(b);f.$by(c,a.ctrlKey,a.shiftKey,a.metaKey)}},this.$db=function(a){if(f.timeouts.resClick){for(var b in f.timeouts.resClick)window.clearTimeout(f.timeouts.resClick[b]);f.timeouts.resClick=null}var c=this.row,d=f.$bx(c,this.index);if(f.$9O()){var e={};if(e.resource=d,e.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onRowDoubleClick&&(f.onRowDoubleClick(e),e.preventDefault.value))return;switch(f.rowDoubleClickHandling){case"PostBack":f.rowDoubleClickPostBack(d);break;case"CallBack":f.rowDoubleClickCallBack(d);break;case"Select":f.$bA(c,a.ctrlKey,a.shiftKey,a.metaKey);break;case"Edit":f.$bB.edit(c)}"function"==typeof f.onRowDoubleClicked&&f.onRowDoubleClicked(e)}else switch(f.rowDoubleClickHandling){case"PostBack":f.rowDoubleClickPostBack(d);break;case"CallBack":f.rowDoubleClickCallBack(d);break;case"JavaScript":f.onRowDoubleClick(d);break;case"Select":f.$bA(c,a.ctrlKey,a.shiftKey,a.metaKey);break;case"Edit":f.$bB.edit(c)}},this.rowDoubleClickPostBack=function(a,b){var c={};c.resource=a,this.$at("RowDoubleClick",c,b)},this.rowDoubleClickCallBack=function(a,b){var c={};c.resource=a,this.$au("RowDoubleClick",c,b)},this.$dd=function(a){var b={};b.start=this.cell.start,b.level=this.cell.level,b.end=this.cell.end,b.end||(b.end=new DayPilot.Date(b.start).addMinutes(f.cellDuration)),f.$bC(b)},this.$bx=function(a){return new DayPilot.Row(a,f)},this.$af=function(a){var b=this.rowlist[a];if(b.events||b.resetEvents(),!b.data){b.data={},b.data.start=new DayPilot.Date(b.start),b.data.startTicks=b.data.start.getTime();var c=this.$ai().getTime()-this.$ae().getTime();b.data.end=F.isResourcesView()?b.data.start.addTime(c):b.data.start.addDays(1),b.data.endTicks=b.data.end.getTime(),b.data.offset=b.start.getTime()-this.$ae().getTime(),b.data.i=a}},this.$9s=function(a){a?this.events.list=a:this.events.list||(this.events.list=[]),u.prepareRows(!0);for(var e,b=this.events.list,c=b.length,d="function"==typeof this.onBeforeEventRender,g="Resources"===f.viewType,h=0;h<c;h++){var i=b[h];if(i){if(i instanceof DayPilot.Event)throw"DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.";d&&this.$cf(h),"*"===i.resource?e=f.rowlist:g?e=u.rowcache[i.resource]:"Days"===f.viewType?e=f.rowlist:"Gantt"===f.viewType&&(e=u.rowcache[i.id]);for(var j=0;e&&j<e.length;j++){var k=e[j],l=this.$cg(i,k);l&&(d&&(l.cache=this.$9f.events[h]))}}}DayPilot.list(f.rowlist).each(function(a){f.$de(a)}),this.$aO()},this.$df=function(a){var b=[],c=[],d=null;if(a&&$56){for(var e=a,d=[],g=0;g<e.length;g++){for(var h=e[g],i=!1,j=0;j<this.events.list.length;j++){var k=this.events.list[j];if(k.id===h.id&&k.start.toString()===h.start.toString()&&k.resource===h.resource){var l=f.events.$aL(k);c=c.concat(l),this.events.list[j]=h,i=!0;break}}i||d.push(h)}this.events.list=this.events.list.concat(d)}else a?this.events.list=a:this.events.list||(this.events.list=[]);var m=d||this.events.list;a?this.events.list=a:this.events.list||(this.events.list=[]);var m=this.events.list,n=m.length;if("function"==typeof this.onBeforeEventRender)for(var o=d?this.events.list.length-d.length:0,p=this.events.list.length,g=o;g<p;g++)this.$cf(g);var q=!this.$ce();{var g,w,j,h,x,s=!d||void 0===w.events;u.prepareRows(s);for(var j=0;m&&j<n;j++)if(!b[j]){var t=m[j];if(t){var l=[];l="*"===t.resource?f.rowlist:"Days"===f.viewType?f.rowlist:"Gantt"===f.viewType?u.rowcache[t.id]:u.rowcache[t.resource];for(var v=0;l&&v<l.length;v++){var w=l[v],x=this.$cg(t,w);x&&("function"==typeof this.onBeforeEventRender&&(x.cache=this.$9f.events[j+o]),c.push(w.index))}}}}for(var g=0;g<this.rowlist.length;g++){var w=this.rowlist[g];this.$de(w)}return this.$aO(),DayPilot.ua(c)},this.$dg={};var u=this.$dg;u.rowCache={},u.prepareRows=function(a){u.rowcache={};for(var b=0;b<f.rowlist.length;b++){var c=f.rowlist[b];if(a&&c.resetEvents(),f.$af(b),c.id){var d=c.id.toString();u.rowcache[d]||(u.rowcache[d]=[]),u.rowcache[d].push(c)}}},u.loadEvent=function(a){},this.$ce=function(){var a={};if("Resources"!==f.viewType)return!1;for(var b=0;b<f.rowlist.length;b++){var c=f.rowlist[b],d=c.id;if(a[d])return!0;a[d]=!0}return!1},this.$cf=function(a){var b=this.$9f.events,c=this.events.list[a],d={};c instanceof DayPilot.Event&&(c=c.data);for(var e in c)d[e]=c[e];if("function"==typeof this.onBeforeEventRender){var f={};f.e=d,f.data=d,this.onBeforeEventRender(f)}b[a]=d},this.$de=function(a){if(a.lines=[],a.sections=null,!a.isNewRow){this.sortDirections?a.events.sort(this.$dh):a.events.sort(this.$di);var b=f.groupConcurrentEvents;if(b)for(var c=0;c<a.blocks.length;c++)a.blocks[c].events=[];DayPilot.list(a.events).each(function(b){if(!b.part.height)return a.eventHeight?void(b.part.height=a.eventHeight):void(b.part.height=F.eventHeight())});for(var d=0;d<a.events.length;d++){var e=a.events[d];a.putIntoLine(e),b&&a.putIntoBlock(e)}for(var g=0,c=0;c<a.lines.length;c++){var h=a.lines[c];h.top=g,g+=(h.height||a.eventHeight)*this.eventStackingLineHeight/100}if(b)for(var d=0;d<a.blocks.length;d++){var i=a.blocks[d];i.lines=[],i.events.sort(this.$dh);for(var j=0;j<i.events.length;j++){var e=i.events[j];i.putIntoLine(e)}i.lines.length<=f.groupConcurrentEventsLimit&&(i.expanded=!0);var k=DayPilot.list(i.events).map(function(a){return a.id()}).some(function(a){return DayPilot.contains(f.$dj,a)});k&&(i.expanded=!0);for(var g=0,c=0;c<i.lines.length;c++){var h=i.lines[c];h.top=g,g+=(h.height||a.eventHeight)*this.eventStackingLineHeight/100}}}},this.$aN=function(a){a=DayPilot.ua(a);for(var b=0;b<a.length;b++){var c=a[b];f.$de(f.rowlist[c])}for(var b=0;b<a.length;b++){var c=a[b],d=f.rowlist[c];f.$dk(d)}},this.$cs=function(){var a="Manual"===f.scale?f.itline[0].start:f.startDate;return DayPilot.list(f.rowlist).some(function(b){return!!b.start&&b.start.getTime()!==new DayPilot.Date(a).getTime()})},this.$cg=function(a,b){var c=new DayPilot.Date(a.start),d=new DayPilot.Date(a.end);d=f.$bc(d);var e=c.ticks,g=d.ticks;if(g<e)return null;var h=null;if("function"==typeof f.onBeforeEventRender){var i=DayPilot.indexOf(f.events.list,a);h=f.$9f.events[i]}if(h){if(h.hidden)return null}else if(a.hidden)return null;var j=!1;switch(this.viewType){case"Days":j=!(g<=b.data.startTicks||e>=b.data.endTicks)||e===g&&e===b.data.startTicks;break;case"Resources":j=(b.id===a.resource||"*"===b.id||"*"===a.resource)&&(!(g<=b.data.startTicks||e>=b.data.endTicks)||e===g&&e===b.data.startTicks);break;case"Gantt":j=b.id===a.id&&!(g<=b.data.startTicks||e>=b.data.endTicks)}if(!j)return null;var k=new DayPilot.Event(a,f);k.part.dayIndex=b.data.i,k.part.start=b.data.startTicks<e?c:b.data.start,k.part.end=b.data.endTicks>g?d:b.data.end;var l=this.getPixels(k.part.start.addTime(-b.data.offset)),m=this.getPixels(k.part.end.addTime(-b.data.offset));k.part.start===k.part.end&&(m=this.getPixels(k.part.end.addTime(-b.data.offset).addSeconds(1))),h&&h.height?k.part.height=h.height:a.height&&(k.part.height=a.height),k.part.$dl=function(){var a=this.height;if(f.eventVersionsEnabled&&!DayPilot.list(k.data.versions).isEmpty()){var b=k.versions.length;a+=b*f.eventVersionHeight,a+=b*f.eventVersionMargin}return a};var n=l.left,o=m.left;if(k.part.startPixels=l,k.part.endPixels=m,n===o){if(l.cut||m.cut)return null;var p=(k.part.start.addTime(-b.data.offset).getTime()+k.part.end.addTime(-b.data.offset).getTime())/2;if(f.getPixels(new DayPilot.Date(Math.floor(p))).cut)return null}k.part.box=F.useBox(g-e);var r=f.eventHeight;if("Milestone"===a.type){var s=a.width||r;k.part.end=k.part.start,k.part.left=n-s/2,k.part.width=s,k.part.barLeft=0,k.part.barWidth=s}else if(k.part.box){var t=l.boxLeft,u=m.boxRight;k.part.left=t,k.part.width=u-t,k.part.barLeft=Math.max(n-k.part.left,0),k.part.barWidth=Math.max(o-n,1)}else k.part.left=n,k.part.width=Math.max(o-n,1),k.part.barLeft=0,k.part.barWidth=Math.max(o-n-1,1);if(f.eventVersionsEnabled&&f.$dm(k,b),"function"==typeof f.onEventFilter&&f.events.$cd){var v={};if(v.filter=f.events.$cd,v.visible=!0,v.e=k,f.onEventFilter(v),!v.visible)return null}return b.events.push(k),k},this.$dm=function(a,b){a.versions=[];var c=a.data,d=DayPilot.list(c.versions);d.isEmpty()||d.each(function(c){var d=new DayPilot.Date(c.start),e=new DayPilot.Date(c.end),g=f.getPixels(d.addTime(-b.data.offset)),h=f.getPixels(e.addTime(-b.data.offset));d.ticks===e.ticks&&(h=f.getPixels(e.addTime(-b.data.offset).addTime(1)));var i=g.left,j=h.left;if(i===j&&(g.cut||h.cut))return null;var k={};k.left=i,k.continueLeft=d<b.data.start,k.right=j,k.continueRight=e>b.data.end,k.width=j-i,a.versions.push(k)})},this.$di=function(a,b){if(!(a&&b&&a.start&&b.start))return 0;var c=a.start().ticks-b.start().ticks;return 0!==c?c:b.end().ticks-a.end().ticks},this.$dh=function(a,b){if(!a||!b)return 0;if(!(a.data&&b.data&&a.data.sort&&b.data.sort&&0!==a.data.sort.length&&0!==b.data.sort.length))return f.$di(a,b);for(var c=0,d=0;0===c&&void 0!==a.data.sort[d]&&void 0!==b.data.sort[d];)c=a.data.sort[d]===b.data.sort[d]?0:f.$dn(a.data.sort[d],b.data.sort[d],f.sortDirections[d]),d++;return c},this.$dn=function(a,b,c){var d="desc"!==c,e=d?-1:1,f=-e;if(null===a&&null===b)return 0;if(null===b)return f;if(null===a)return e;var g=[];return g[0]=a,g[1]=b,g.sort(),a===g[0]?e:f},this.$bA=function(a,b,c,d){if(f.$9O()){var e=DayPilot.indexOf(f.rowlist,a),g=f.$bx(a,e),h=-1!==DayPilot.indexOf(w.selected,a),i=h?"deselected":"selected",j={};if(j.row=g,j.selected=h,j.ctrl=b,j.shift=c,j.meta=d,j.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onRowSelect&&(f.onRowSelect(j),j.preventDefault.value))return;var k=c&&!b&&!d;if(c||(w.$do={row:a,index:e}),k){w.fixRowSelectLast();var l=w.$do.index,m=e;w.selectRange(l,m)}switch(f.rowSelectHandling){case"PostBack":f.rowSelectPostBack(g,i);break;case"CallBack":f.rowSelectCallBack(g,i);break;case"Update":!k&&w.select(a,b,c,d)}"function"==typeof f.onRowSelected&&(j.selected=-1!==DayPilot.indexOf(w.selected,a),f.onRowSelected(j))}else{w.select(a,b,c);var e=DayPilot.indexOf(f.rowlist,a),g=f.$bx(a,e),h=-1!==DayPilot.indexOf(w.selected,a),i=h?"deselected":"selected";switch(f.rowSelectHandling){case"PostBack":f.rowSelectPostBack(g,i);break;case"CallBack":f.rowSelectCallBack(g,i);break;case"JavaScript":f.onRowSelect(g,i)}}},this.rowSelectPostBack=function(a,b,c){var d={};d.resource=a,d.change=b,this.$at("RowSelect",d,c)},this.rowSelectCallBack=function(a,b,c){var d={};d.resource=a,d.change=b,this.$au("RowSelect",d,c)},this.rows={},this.rows.selection={};var v=this.rows.selection;v.get=function(){var a=[];return DayPilot.list(w.selected).each(function(b){a.push(f.$bx(b))}),a},v.clear=function(){w.clearSelection()},v.add=function(a){if(!a||!a.isRow)throw"DayPilot.Scheduler.rows.selection.add(): DayPilot.Row object expected";DayPilot.list(w.selected).some(function(b){return b===a.$.row})||w.selected.push(a.$.row),w.$dp(),w.$dq()},v.$dq=function(){f.selectedRows=DayPilot.list(w.selected).map(function(a){return a.id})},this.rows.all=function(){for(var a=[],b=0;b<f.rowlist.length;b++){var c=f.$bx(f.rowlist[b]);a.push(c)}return n(a)},this.rows.each=function(a){f.rows.all().each(a)},this.rows.filter=function(a){f.rows.$cd=a,f.$aS({immediateEvents:!0})},this.rows.find=function(a,b){for(var c=f.rows.all(),d=0;d<c.length;d++){var e=c[d];if(e.id===a){if("string"!=typeof b)return e;if(b===e.start.toString())return e}}},this.rows.load=function(a){DayPilot.ajax({method:"POST",url:a,success:function(a){var b=a.request,c=DayPilot.Util.parseJSON(b.responseText);DayPilot.isArray(c)&&(f.resources=c,f.$b5&&f.update())}})},this.rows.expand=function(a){for(var b=[],c=a||1,d=0;d<f.rowlist.length;d++){var e=f.rowlist[d],g=-1===c;e.level<c&&(g=!0),g&&!e.expanded&&e.children&&e.children.length>0&&b.push(e.index)}if(0!==b.length)if(1===b.length)f.$cy(b[0]);else{for(var d=0;d<b.length;d++){var h=b[d],e=f.rowlist[h];e.expanded=!0}f.$aS()}},this.rows.expandAll=function(){f.rows.expand(-1)},this.rows.headerHide=function(){f.$dr=!0,f.$ds(),f.$cY()},this.rows.headerShow=function(){f.$dr=!1,f.$ds(),f.$cY()},this.rows.headerToggle=function(){f.$dr?f.rows.headerShow():f.rows.headerHide()},this.$dt=function(){var a=j.source,b=j.target,c=j.position;if(w.resetMoving(),f.$9O()){var d={};if(d.source=f.$bx(a),d.target=f.$bx(b),d.position=c,d.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof f.onRowMove&&(f.onRowMove(d),d.preventDefault.value))return;switch(f.rowMoveHandling){case"Update":w.move(d);break;case"CallBack":f.rowMoveCallBack(d.source,d.target,d.position);break;case"PostBack":f.rowMovePostBack(d.source,d.target,d.position);break;case"Notify":w.move(d),f.rowMoveNotify(d.source,d.target,d.position)}"function"==typeof f.onRowMoved&&f.onRowMoved(d)}else{var a=f.$bx(a),b=f.$bx(b),c=c;switch(f.rowMoveHandling){case"CallBack":f.rowMoveCallBack(a,b,c);break;case"PostBack":f.rowMovePostBack(a,b,c);break;case"JavaScript":f.onRowMove(a,b,c)}}},this.$9M=function(a){var b=DayPilot.list(a);w.selected=[],b.isEmpty()||(f.$94=!1,f.$9r()),b.each(function(a){var b=f.$9R(a);b&&w.selected.push(b)}),w.$dp()},this.$bB={};var w=this.$bB;w.edit=function(a){w.$du(a)},w.rowSelectLastSetDefault=function(){w.$do={row:f.rowlist[0],index:0}},w.rowSelectSetLast=function(a){var b=DayPilot.indexOf(f.rowlist,a);if(-1===b)throw"DayPilot.Scheduler: Row not found when selecting a range";w.$do={row:a,index:b}},w.fixRowSelectLast=function(){w.$do||w.rowSelectLastSetDefault();var a=DayPilot.indexOf(f.rowlist,w.$do.row);if(!(a>-1)){var b=f.$9R(w.$do.row.id);b?(a=DayPilot.indexOf(f.rowlist,b),w.$do={row:b,index:a}):w.rowSelectLastSetDefault()}},w.createOverlay=function(a){var b=f.$cR(),c=f.$a0("_rowmove_source"),d=DayPilot.Util.div(f.divHeader,0,a.top,b,a.height);d.className=c,a.moveOverlay=d},w.deleteOverlay=function(a){DayPilot.de(a.moveOverlay),a.moveOverlay=null},w.$du=function(a){var b=w.$bu(a),d=b.cells[0];if(d.input)return d.input;var e=d.clientWidth;a.isNewRow&&(e=f.$a3());var g=document.createElement("textarea");g.style.position="absolute",g.style.top="0px",g.style.left="0px",g.style.width=e+"px",g.style.height=a.height+"px",g.style.border="0px none",g.style.overflow="hidden",g.style.boxSizing="border-box",g.style.resize="none";var h=d.textDiv;g.style.fontFamily=DayPilot.gs(h,"fontFamily")||DayPilot.gs(h,"font-family"),g.style.fontSize=DayPilot.gs(h,"fontSize")||DayPilot.gs(h,"font-size"),g.value=a.html,d.firstChild.appendChild(g),d.input=g;var i=function(){try{d.input.parentNode.removeChild(d.input)}catch(a){c()}d.input=null};return g.focus(),g.onblur=function(){g.onblur=null;var b=g.value;DayPilot.indexOf(f.rowlist,a);i(),g.canceled||f.$bw(a,b)},g.onkeydown=function(a){var b=window.event?event.keyCode:a.keyCode;return 27===b&&(g.canceled=!0,i()),13!==b||(g.onblur(),!1)},g.setSelectionRange?g.setSelectionRange(0,9999):g.select(),g},w.selected=[],w.select=function(a,b,c,d){var e=-1!==DayPilot.indexOf(w.selected,a);if(b||d){if(e)return w.unselect(a),void DayPilot.rfa(w.selected,a)}else e=!1,w.clearSelection();w.$dv(a),e||w.selected.push(a),v.$dq()},w.selectRange=function(a,b){w.clearSelection();for(var c=Math.min(a,b),d=Math.max(a,b),e=c;e<=d;e++){var g=f.rowlist[e];w.$dv(g),w.selected.push(g)}v.$dq()},w.$dp=function(){for(var a=0;a<w.selected.length;a++){var b=w.selected[a];w.$dv(b)}},w.$dv=function(a){var b=DayPilot.indexOf(f.rowlist,a);if(-1===b){var c=f.$9R(a.id).index;if(!c)return;b=c.index}for(var d=f.$a0("_cell_selected"),e=[],g=0;g<f.itline.length;g++){var h={};h.x=g,h.y=b,e.push(h)}f.cells.findXy(e).addClass(d);for(var d=f.$a0("_rowheader_selected"),i=f.divHeader,b=0;b<i.rows.length;b++){var j=i.rows[b];if(j&&j.cells[0]&&j.cells[0].row===a)for(var k=0;k<j.cells.length;k++){var h=j.cells[k],l=h.firstChild;DayPilot.Util.addClass(l,d)}}},w.$bO=function(){var a=[];if(!w.selected)return a;for(var b=0;b<w.selected.length;b++){var c=w.selected[b],d=DayPilot.indexOf(f.rowlist,c),e=f.$bx(c,d);a.push(e.toJSON())}return a},w.unselect=function(a){for(var b=f.$a0("_cell_selected"),c=DayPilot.indexOf(f.rowlist,a),d=[],e=0;e<f.itline.length;e++){var g={};g.x=e,g.y=c,d.push(g)}f.cells.findXy(d).removeClass(b);var b=f.$a0("_rowheader_selected"),i=(f.divHeader,w.$bu(a));if(i)for(var j=0;j<i.cells.length;j++){var g=i.cells[j],k=g.firstChild;DayPilot.Util.removeClass(k,b)}},w.$do=null,w.clearSelection=function(){for(var a=0;a<w.selected.length;a++){var b=w.selected[a];w.unselect(b)}w.selected=[],f.selectedRows=[]},w.$bu=function(a){for(var b=f.divHeader,c=0;c<b.rows.length;c++){var d=b.rows[c];if(d&&d.cells[0]&&d.cells[0].row===a)return d}return null},w.selectById=function(a){var b=f.$9R(a);b&&w.select(b)},w.startMoving=function(a){var b=DayPilot.Global.rowmoving;b.row=a,b.cursor=f.divResScroll.style.cursor,f.divResScroll.style.cursor="move",w.createOverlay(a)},w.resetMoving=function(){f.divResScroll.style.cursor=j.cursor,DayPilot.de(j.div),w.deleteOverlay(j.row),DayPilot.Global.rowmoving=j={}},w.move=function(a){var b=a.source.$.row.resource,c=a.target.$.row.resource,d=a.position;if("forbidden"!==d){var e=x.findParentArray(b);if(!e)throw"Cannot find source node parent";var g=DayPilot.indexOf(e,b);e.splice(g,1);var h=x.findParentArray(c);if(!h)throw"Cannot find target node parent";var i=DayPilot.indexOf(h,c);switch(d){case"before":h.splice(i,0,b);break;case"after":h.splice(i+1,0,b);break;case"child":c.children||(c.children=[],c.expanded=!0),c.children.push(b)}f.update()}};var x={};x.findParentArray=function(a){return x.findInArray(f.resources,a)},x.findInArray=function(a,b){if(-1!==DayPilot.indexOf(a,b))return a;for(var c=0;c<a.length;c++){var d=a[c];if(d.children&&d.children.length>0){var e=x.findInArray(d.children,b);if(e)return e}}return null},this.$9q=function(){this.rowlist=DayPilot.list();var a=this.resources,b=this.$aa();b||("Gantt"===this.viewType?a=this.$dw():"Days"===this.viewType&&(a=this.$dx())),!b||"Days"!==this.viewType||a&&0!==a.length||(a=this.$dx());var c={};c.i=0,this.$dy(a,c,0,null,this.treeEnabled,!1),"Disabled"!==f.rowCreateHandling&&this.$dz()},this.$dz=function(){var a={};a.id="NEW",a.isNewRow=!0,a.html="",a.loaded=!0,a.start=this.startDate,a.children=[],a.height=f.eventHeight,a.marginBottom=0,a.marginTop=0,a.getHeight=function(){return f.eventHeight+f.rowMarginBottom+f.rowMarginTop},a.putIntoLine=function(){},a.resetEvents=function(){},this.rowlist.push(a)},this.$dw=function(){var a=[];if(this.$97&&this.resources)for(var b=0;b<this.resources.length;b++)a.push(this.resources[b]);if(this.events.list){for(var b=0;b<this.events.list.length;b++){var c=this.events.list[b],d={};d.id=c.id,d.name=c.text,a.push(d)}return a}},this.$dx=function(){for(var a=[],b=f.$ae(),c=this.$c3.locale(),d=0;d<this.days;d++){var e=b.addDays(d),g={};g.name=e.toString(c.datePattern,c),g.start=e,a.push(g)}return a},this.$ae=function(){return this.itline&&this.itline.length>0?this.itline[0].start:this.startDate},this.$ai=function(){return this.itline&&this.itline.length>0?this.itline[this.itline.length-1].end:this.startDate.addDays(this.days)},this.$dA={};this.$dA;this.visibleStart=function(){return this.$ae()},this.visibleEnd=function(){return this.$ai()},this.$dy=function(a,b,c,d,e,g){if(a)for(var h=0;h<a.length;h++)if(a[h]){var i={};i.level=c,i.hidden=g,i.index=b.i;var j=this.$dB(a[h],i),k={};if(k.backColor=j.backColor,k.cssClass=j.cssClass,k.expanded=j.expanded,k.name=j.name,k.html=j.html?j.html:k.name,k.eventHeight=void 0!==j.eventHeight?j.eventHeight:f.$c3.eventHeight(),k.minHeight=void 0!==j.minHeight?j.minHeight:f.rowMinHeight,k.marginBottom=void 0!==j.marginBottom?j.marginBottom:f.rowMarginBottom,k.marginTop=void 0!==j.marginTop?j.marginTop:f.rowMarginTop,k.loaded=!j.dynamicChildren,k.id=j.id||j.value,k.toolTip=j.toolTip,k.children=[],k.columns=[],k.start=j.start?new DayPilot.Date(j.start):this.$ae(),k.isParent=j.isParent,k.contextMenu=j.contextMenu?DayPilot.Util.evalVariable(j.contextMenu):this.contextMenuResource,k.areas=j.areas,k.moveDisabled=j.moveDisabled,k.bubbleHtml=j.bubbleHtml,k.tags=j.tags,k.task=j.task,k.height=k.eventHeight,k.hidden=g,k.level=c,k.index=b.i,k.resource=a[h],k.lines=[],k.blocks=[],k.isRow=!0,k.getHeight=function(){var a=0;if(f.groupConcurrentEvents)for(var b=0;b<this.blocks.length;b++){var c=this.blocks[b];a=Math.max(a,c.getHeight())}else if(this.lines.length>0){var d=this.lines.length-1,e=this.lines[d],g=e.height||this.eventHeight,h=e.top||0;a=h+g}return 0===a&&(a=this.eventHeight),a>this.minHeight?a:this.minHeight},k.resetEvents=function(){var a=this;a.events=[],a.events.forRange=function(b,c){for(var d=[],e=0;e<a.events.length;e++){var f=a.events[e];DayPilot.Util.overlaps(f.start(),f.end(),b,c)&&d.push(f)}return d}},k.calculateUtilization=function(){function g(){for(var b=[],c=0;c<a.events.length;c++){var d=a.events[c];DayPilot.contains(b,d.start().toString())||b.push(d.start().toString()),DayPilot.contains(b,d.rawend().toString())||b.push(d.rawend().toString())}return b.sort(),b}function h(){for(var b=g(),c=[],d={start:a.data.start},e=0;e<b.length;e++)d.end=new DayPilot.Date(b[e]),c.push(d),d={start:new DayPilot.Date(b[e])};return d.end=a.data.end,c.push(d),c.forRange=function(a,b){for(var c=[],d=0;d<this.length;d++){var e=this[d];DayPilot.Util.overlaps(a,b,e.start,e.end)&&c.push(e)}return c.maxSum=function(a){for(var b=0,c=0;c<this.length;c++){var d=this[c],e=d.sum(a);e>b&&(b=e)}return b},c},c}for(var a=this,b=a.sections=h(),c=0;c<b.length;c++){var d=b[c];d.events=[];for(var e=0;e<a.events.length;e++){var f=a.events[e];DayPilot.Util.overlaps(d.start,d.end,f.start(),f.rawend())&&d.events.push(f)}d.sum=function(a){for(var b=0,c=0;c<this.events.length;c++){var d=this.events[c],e=0;void 0===a?e=1:d.tag(a)?e=d.tag(a):d.data[a]&&(e=d.data[a]),"number"==typeof e&&(b+=e)}return b}}},k.putIntoLine=function(a){for(var c=0;c<this.lines.length;c++){var d=this.lines[c];if(d.isFree(a.part.left,a.part.width))return d.add(a),c}var d=[];return d.height=0,d.add=function(a){this.push(a);var b=a.part.$dl();b>d.height&&(d.height=b)},d.isFree=function(a,b,c){for(var d=a+b-1,e=this.length,f=0;f<e;f++){var g=this[f];if(!(d<g.part.left||a>g.part.left+g.part.width-1)){if(DayPilot.contains(c,g.data))continue;return!1}}return!0},d.add(a),this.lines.push(d),this.lines.length-1},k.putIntoBlock=function(a){for(var b=0;b<this.blocks.length;b++){var c=this.blocks[b];if(-1!==DayPilot.indexOf(c.events,a))return;if(c.overlapsWith(a.part.left,a.part.width))return c.events.push(a),a.part.block=c,c.min=Math.min(c.min,a.part.left),c.max=Math.max(c.max,a.part.left+a.part.width),b}var c={};c.expanded=!1,c.row=this,c.events=[],c.lines=[],c.putIntoLine=function(a){for(var c=0;c<this.lines.length;c++){var d=this.lines[c];if(d.isFree(a.part.left,a.part.width))return d.add(a),c}var d=[];d.height=0,d.add=function(a){this.push(a),a.part.height>d.height&&(d.height=a.part.height)},d.isFree=function(a,b){for(var c=a+b-1,d=this.length,e=0;e<d;e++){var f=this[e];if(!(c<f.part.left||a>f.part.left+f.part.width-1))return!1}return!0},d.add(a),this.lines.push(d)},c.overlapsWith=function(a,b){return!(a+b-1<this.min||a>this.max-1)},c.getHeight=function(){if(!this.expanded)return f.eventHeight;if(this.lines.length>0){var a=this.lines.length-1,b=this.lines[a],c=b.height||f.eventHeight;return(b.top||0)+c}},c.events.push(a),a.part.block=c,c.min=a.part.left,c.max=a.part.left+a.part.width,this.blocks.push(c)},k.$dC=!1,k.$dD=d,k.$dE=function(){this.hidden=!this.$dF(),this.$dC=!1,this.$dD&&this.$dD.$dE()},k.$dF=function(){return!this.$dD||this.$dD.$dF()&&this.$dD.expanded},this.rowlist.push(k),"function"==typeof f.onRowFilter&&f.rows.$cd){var l={};l.visible=!0,l.row=f.$bx(k),l.filter=f.rows.$cd,f.onRowFilter(l),k.$dC=!l.visible,l.visible?d&&d.$dE():k.hidden=!0}if(null!==d&&d.children.push(b.i),j.columns)for(var m=0;m<j.columns.length;m++)k.columns.push(j.columns[m]);if(b.i++,e&&j.children&&j.children.length){var n=g||!k.expanded;this.$dy(j.children,b,c+1,k,!0,n)}}},this.$d5=function(a){if(a.isNewRow)return{row:{cssClass:f.$a0("_row_new"),moveDisabled:!0,html:""}};var b={};if(b.row=this.$bx(a),DayPilot.Util.copyProps(a,b.row,["html","backColor","cssClass","toolTip","contextMenu","moveDisabled"]),b.row.columns=DayPilot.Util.createArrayCopy(a.columns,["html"]),b.row.areas=DayPilot.Util.createArrayCopy(a.areas),void 0===b.row.columns&&f.rowHeaderColumns&&f.rowHeaderColumns.length>0){r.columns=[];for(var c=0;c<f.rowHeaderColumns.length;c++)r.columns.push({})}return"function"==typeof this.onBeforeRowHeaderRender&&this.onBeforeRowHeaderRender(b),b},this.$dB=function(a,b){var c=this.$dG(a,b);if("function"==typeof this.onBeforeResHeaderRender){var d={};d.resource=c,this.onBeforeResHeaderRender(d)}return c},this.$dG=function(a,b){var c={};for(var d in b)c[d]=b[d];for(var d in a)c[d]=a[d];if(void 0===a.html&&(c.html=a.name),void 0===c.columns&&f.rowHeaderColumns&&f.rowHeaderColumns.length>0){c.columns=[];for(var e=0;e<f.rowHeaderColumns.length;e++)c.columns.push({})}return c},this.$dH=function(){this.$dI(),this.nav.top.dp=this,this.nav.top.innerHTML="",DayPilot.Util.addClass(this.nav.top,this.$a0("_main")),DayPilot.browser.ie9&&DayPilot.Util.addClass(this.nav.top,this.$a0("_browser_ie9")),DayPilot.browser.ie8&&DayPilot.Util.addClass(this.nav.top,this.$a0("_browser_ie8")),this.nav.top.style.MozUserSelect="none",this.nav.top.style.KhtmlUserSelect="none",this.nav.top.style.webkitUserSelect="none",this.nav.top.style.WebkitTapHighlightColor="rgba(0,0,0,0)",this.nav.top.style.WebkitTouchCallout="none",this.width&&(this.nav.top.style.width=this.width),"Parent100Pct"===this.heightSpec&&(this.nav.top.style.height="100%"),this.nav.top.style.lineHeight="1.2",this.nav.top.style.position="relative",this.visible||(this.nav.top.style.display="none"),this.nav.top.onmousemove=this.$dJ,this.nav.top.ontouchstart=B.onMainTouchStart,this.nav.top.ontouchmove=B.onMainTouchMove,this.nav.top.ontouchend=B.onMainTouchEnd,this.hideUntilInit&&this.backendUrl&&(this.nav.top.style.visibility="hidden");var a=this.$a3();if("DivBased"===this.$c3.layout()){var c=document.createElement("div");c.style.position="absolute",c.style.left="0px",c.style.width=a+"px",c.appendChild(this.$dK());var d=document.createElement("div");d.style.height="1px",d.className=this.$a0("_divider_horizontal"),c.appendChild(d),this.nav.dh1=d,c.appendChild(this.$dL()),this.nav.left=c;var e=document.createElement("div");e.style.position="absolute",e.style.left=a+"px",e.style.width=F.splitterWidth()+"px",e.style.height=this.$a2()+this.$a6()+"px",e.className=this.$a0("_divider")+" "+this.$a0("_splitter"),e.setAttribute("unselectable","on"),this.nav.divider=e,this.rowHeaderScrolling&&this.$dM();var f=document.createElement("div");f.style.marginLeft=a+F.splitterWidth()+"px",f.style.marginRight="1px",f.style.position="relative",f.appendChild(this.$dN()),this.nav.right=f;var g=document.createElement("div");g.style.height="1px",g.style.position="absolute",g.style.top=this.$a2()+"px",g.style.width="100%",g.className=this.$a0("_divider_horizontal"),f.appendChild(g),this.nav.dh2=g,f.appendChild(this.$dO());var h=document.createElement("div");h.style.clear="left",this.nav.top.appendChild(c),this.nav.top.appendChild(e),this.nav.top.appendChild(f),this.nav.top.appendChild(h)}else{var i=document.createElement("table");i.cellPadding=0,i.cellSpacing=0,i.border=0,i.style.position="absolute";var j=i.insertRow(-1);j.insertCell(-1).appendChild(this.$dK()),j.insertCell(-1).appendChild(this.$dN());var m=i.insertRow(-1);m.insertCell(-1).appendChild(this.$dL()),m.insertCell(-1).appendChild(this.$dO()),this.nav.top.appendChild(i)}if(this.$9n=document.createElement("div"),this.$9n.style.display="none",this.nav.top.appendChild(this.$9n),this.$bN()){var p=document.createElement("input");p.type="hidden",p.id=this.id+"_state",p.name=this.id+"_state",this.nav.state=p,this.nav.top.appendChild(p)}var r=document.createElement("div");r.style.position="absolute",r.style.left=this.$a3()+F.splitterWidth()+5+"px",r.style.top=this.$a2()+5+"px",r.style.display="none",r.innerHTML=this.loadingLabelText,DayPilot.Util.addClass(r,this.$a0("_loading")),this.nav.loading=r,this.nav.top.appendChild(r),this.$dP()},this.$dJ=function(a){if(j.row){var c=DayPilot.mo3(f.divHeader,a),d=f.$bV(c.y),e=f.rowlist[d.i];if(e.isNewRow)return;var g=c.y-d.top,h=d.bottom-d.top,i=h/3,k=2*i,l=h/2,m="before",n=e.children&&e.children.length>0;m=function(){for(var a=d.i,b=e.level;a>=0;){var c=f.rowlist[a];if(a--,!(b<=c.level)){if(c===j.row)return!0;if(0===c.level)return!1;b=c.level}}return!1}()||d.i===j.row.index?"forbidden":!0?n?g<l?"before":"child":g<i?"before":g<k?"child":"after":n?"before":g<l?"before":"after",j.row.moveDisabled&&(m="forbidden"),j.calendar=f,j.source=j.row,j.target=f.rowlist[d.i],j.position=m;if(function(){return!j.last||(j.last.target!==j.target||j.last.position!==j.position)}()){if("function"==typeof f.onRowMoving){var r={};r.source=f.$bx(j.source),r.target=f.$bx(j.target),r.position=m,f.onRowMoving(r),j.position=r.position}}else j.last&&(j.position=j.last.position);j.last={},j.last.target=j.target,j.last.position=j.position,function(){j.div&&DayPilot.de(j.div);var b=d.top,c=j.position,e=f.rowlist[d.i],g=e.level,h=g*f.treeIndent;switch(c){case"before":b=d.top;break;case"child":b=d.top+l;break;case"after":b=d.bottom;break;case"forbidden":b=d.top+l}var i=f.$cR()-h,k=document.createElement("div");k.style.position="absolute",k.style.left=h+"px",k.style.width=i+"px",k.style.top=b+"px",k.className=f.$a0("_rowmove_position_"+c),j.div=k,f.divResScroll.appendChild(k)}()}else if(b.splitting){var s=DayPilot.mo3(f.nav.top,a).x,t=f.$cR(),u=Math.min(t,s-1);f.rowHeaderWidth=u,f.$dr=!1,f.$ds()}},this.$9z=function(){var a=this.$a2();this.nav.corner.style.height=a+"px",this.divTimeScroll.style.height=a+"px",this.divNorth.style.height=a+"px",this.nav.dh1&&this.nav.dh2&&(this.nav.dh1.style.top=a+"px",this.nav.dh2.style.top=a+"px"),this.nav.loading.style.top=a+5+"px",this.nav.scroll.style.top=a+1+"px"},this.$a3=function(){return this.$dr?0:this.rowHeaderScrolling?this.rowHeaderWidth:this.$cR()},this.$dM=function(){var a=this.nav.divider;a.style.cursor="col-resize",a.setAttribute("unselectable","on"),a.onmousedown=function(a){var c=b.splitting={};return c.cursor=f.nav.top.style.cursor,c.cleanup=function(){if(f.nav.top.style.cursor=c.cursor,"function"==typeof f.onRowHeaderResized){var a={};f.onRowHeaderResized(a)}},f.nav.top.style.cursor="col-resize",!1}},this.$ds=function(){var a=F.splitterWidth(),b=this.$a3();if(this.nav.corner.style.width=b+"px",this.divCorner.style.width=b+"px",this.divResScroll.style.width=b+"px",this.nav.left.style.width=b+"px",this.nav.divider.style.left=b+"px",this.nav.right.style.marginLeft=b+a+"px",this.nav.message&&(this.nav.message.style.left=b+a+"px"),this.nav.loading&&(this.nav.loading.style.left=b+a+5+"px"),this.nav.hideIcon){var c=this.nav.hideIcon,d=f.$a0("_header_icon_show"),e=f.$a0("_header_icon_hide");c.style.left=b+a-1+"px",f.$dr?(DayPilot.Util.removeClass(c,e),DayPilot.Util.addClass(c,d)):(DayPilot.Util.removeClass(c,d),DayPilot.Util.addClass(c,e))}},this.$dQ=function(){this.$cS();var a=this.$cR(),b=function(a,b,c){if(a&&a.style){var d=a.firstChild;f.$cZ?(a.style.width=b+"px",d.style.width=b+"px","number"==typeof c&&(a.style.left=c+"px")):d.style.width=b+"px"}},c=this.divHeader;c.style.width=a+"px";for(var d=f.$cT(),e=d.start;e<d.end;e++){var g=c.rows[e];if(g){var h=g.cells[0];if(h.colSpan>1){var h=g.cells[0];b(h,a)}else if(this.rowHeaderCols)for(var i=0,j=0;j<g.cells.length;j++){var k=this.rowHeaderCols[j],h=g.cells[j];b(h,k,i),i+=k}else{var k=this.rowHeaderWidth,h=g.cells[0];b(h,k)}}}f.nav.resScrollSpace&&(f.nav.resScrollSpace.style.width=a+"px"),this.$dR()},this.$b4=function(){this.$ds(),this.$dQ()},this.$dS=function(){var a=f.nav.corner,b=this.rowHeaderColumns,c=document.createElement("div");c.style.position="absolute",c.style.bottom="0px",c.style.left="0px",c.style.width="100%",c.style.height=F.headerHeight()+"px",c.style.overflow="hidden",f.nav.columnScroll=c;var d=document.createElement("div");d.style.position="absolute",d.style.bottom="0px",d.style.left="0px",d.style.width="5000px",d.style.height=F.headerHeight()+"px",d.style.overflow="hidden",d.className=this.$a0("_columnheader"),c.appendChild(d);var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.bottom="0px",e.style.left="0px",e.style.right="0px",e.className=this.$a0("_columnheader_inner"),d.appendChild(e);var g=new DayPilot.Splitter(e);g.widths=DayPilot.Util.propArray(b,"width",f.rowHeaderColumnDefaultWidth),g.height=F.headerHeight(),g.css.title=this.$a0("_columnheader_cell"),g.css.titleInner=this.$a0("_columnheader_cell_inner"),g.css.splitter=this.$a0("_columnheader_splitter"),g.titles=DayPilot.Util.propArray(b,"title"),g.updating=function(a){DayPilot.Util.updatePropsFromArray(f.rowHeaderColumns,"width",this.widths),f.$b4(),f.cellWidthSpec},g.updated=function(a){if(f.$cY(),f.$9O()){if("function"==typeof f.onRowHeaderColumnResized){var b={};b.column=f.rowHeaderColumns[a.index],f.onRowHeaderColumnResized(b)}}else switch(f.rowHeaderColumnResizedHandling){case"CallBack":case"PostBack":break;case"JavaScript":if("function"==typeof f.onRowHeaderColumnResized){var b={};b.column=f.rowHeaderColumns[a.index],f.onRowHeaderColumnResized(b)}}},g.color="#000000",g.opacity=30,g.init(),a.appendChild(c),this.$cX=g},this.$b3=function(){var a=this.nav.corner;a.innerHTML="",a.className=this.cssOnly?this.$a0("_corner"):this.$a0("corner");var b=document.createElement("div");if(b.style.position="absolute",b.style.top="0px",b.style.left="0px",b.style.right="0px",b.style.bottom="0px",this.cssOnly&&(b.className=this.$a0("_corner_inner")),this.divCorner=b,b.innerHTML="&nbsp;",this.rowHeaderColumns&&this.rowHeaderColumns.length>0){var c=document.createElement("div");c.style.position="absolute",c.style.top="0px",c.style.left="0px",c.style.right="0px",c.style.bottom=F.headerHeight()+1+"px",a.appendChild(c);var d=document.createElement("div");d.style.position="absolute",d.style.left="0px",d.style.right="0px",d.style.height="1px",d.style.bottom=F.headerHeight()+"px",d.className=this.$a0("_divider"),a.appendChild(d),c.appendChild(b),this.$dS()}else a.appendChild(b);var e=document.createElement("div");e.style.position="absolute",e.style.padding="0px",e.style.top="0px",e.style.left="0px",e.style.backgroundColor="#eeeeee",e.style.color="white",e.innerHTML="",this.numberFormat&&a.appendChild(e)},this.$dP=function(){if(this.rowHeaderHideIconEnabled){var a=3,b=this.$a3()+F.splitterWidth()-1,c=10,d=20,e=this.$a2()+a,g=DayPilot.Util.div(this.nav.top,b,e,c,d);g.style.cursor="pointer",g.className=f.$a0("_header_icon"),DayPilot.Util.addClass(g,f.$a0("_header_icon_hide")),g.onclick=function(){f.rows.headerToggle()},this.nav.hideIcon=g}},this.$dK=function(){var a=this.$a3(),b=document.createElement("div");return f.nav.corner=b,b.style.width=a+"px",b.style.height=this.$a2()+"px",b.style.overflow="hidden",b.style.position="relative",b.setAttribute("unselectable","on"),b.onmousemove=function(){f.$d0()},b.oncontextmenu=function(){return!1},this.$b3(),b},this.$a2=function(){if(this.timeHeader){return this.timeHeader.length*F.headerHeight()}return 2*F.headerHeight()},this.$dT=null,this.$dL=function(){var a=document.createElement("div");return a.style.width=this.$a3()+"px",a.style.height=this.$a6()+"px",a.style.overflow="hidden",a.style.position="relative",a.className=f.$a0("_rowheader_scroll"),a.onmousemove=function(){f.$d0()},a.onscroll=function(){f.nav.columnScroll&&f.rowHeaderScrolling&&(f.nav.columnScroll.scrollLeft=a.scrollLeft),f.$dT&&clearTimeout(f.$dT),f.$dT=setTimeout(function(){f.nav.scroll.scrollTop=a.scrollTop},500)},a.onwheel=function(b){var c=b.deltaY>0?f.eventHeight:-f.eventHeight;f.nav.scroll.scrollTop=a.scrollTop+c,b.preventDefault&&b.preventDefault()},a.onmousewheel=function(b){b=b||window.event;var c=b.wheelDelta<0?f.eventHeight:-f.eventHeight;f.nav.scroll.scrollTop=a.scrollTop+c,b.preventDefault&&b.preventDefault(),b.returnValue=!1},a.oncontextmenu=function(){return!1},a.onmouseenter=function(){f.rowHeaderScrolling&&(a.style.overflowX="auto")},a.onmouseleave=function(){f.rowHeaderScrolling&&(a.style.overflowX="hidden")},this.divResScroll=a,this.$a7=a,a},this.$dU=function(a){if("TableBased"===F.layout()){var b=parseInt(this.width,10),c=-1!==this.width.indexOf("%"),e=(/MSIE/i.test(navigator.userAgent),this.$cR());c?this.nav.top&&this.nav.top.offsetWidth>0&&(a.style.width=this.nav.top.offsetWidth-6-e+"px"):a.style.width=b-e+"px"}},this.$c0=function(a){f.$9x(),f.$9N()},this.$9x=function(){"TableBased"===f.$c3.layout()&&(f.$dU(f.nav.scroll),f.$dU(f.divTimeScroll)),f.$9A(),f.$cY(),f.$dV(),f.$9f.drawArea=null},this.$dV=function(){var a=b.rangeHold;f.clearSelection(),b.rangeHold=a,f.$bn(a,!0)},this.$cY=function(){f.$b5&&"Auto"===f.cellWidthSpec&&(f.$9o(),f.$9p(),f.$9u(),f.$9B(),f.$9F(),f.$9D(),f.$9G(),f.$9C(),f.$9s(),f.$9H())},this.$9o=function(){if("Auto"===this.cellWidthSpec){var a=this.nav.top.clientWidth,b=this.$a3(),c=f.$dW(),d=a-b-c;if(this.$a1()){var g=d/this.$a1();this.cellWidth=Math.max(g,f.cellWidthMin),f.$dX=g<f.cellWidthMin}}},this.$dW=function(){if("Auto"===f.heightSpec)return 0;if("Max"===f.heightSpec||"Fixed"===f.heightSpec||"Parent100Pct"===f.heightSpec){return f.$dY()>f.height?DayPilot.sw(f.nav.scroll):0}return DayPilot.sw(f.nav.scroll)},this.$a9=function(){var a=this.nav.top.clientWidth,b=this.$a3(),d=this.$a6(),e=this.$dY(),f=0;return e>d&&(f=DayPilot.swa()),a-b-2-f},this.$dN=function(){var a=document.createElement("div");a.style.overflow="hidden",a.style.position="absolute",a.style.display="block",a.style.top="0px",a.style.width="100%",a.style.height=this.$a2()+"px",a.style.overflow="hidden",a.onmousemove=function(){f.$d0(),f.cellBubble&&f.cellBubble.delayedHide()},this.$dU(a),this.divTimeScroll=a;var b=document.createElement("div");return b.style.width=this.$a1()*this.cellWidth+5e3+"px",this.divNorth=b,a.appendChild(b),a},this.$a6=function(){var a=0;return"Fixed"===this.heightSpec||"Parent100Pct"===this.heightSpec?this.height?this.height:0:(a=this.$dY(),"Max"===this.heightSpec&&a>this.height?this.height:a)},this.$dY=function(){var a;if(this.$9e){var b=DayPilot.sh(f.nav.scroll);a=0===b?this.$9e:this.$9e+b}else a=this.rowlist.length*this.$c3.eventHeight();return a},this.$d0=function(){this.$dR(),this.$dZ(),this.$e0()},this.$dO=function(){var b=document.createElement("div");b.style.overflow="auto",b.style.overflowX="auto",b.style.overflowY="auto",b.style.position="absolute",b.style.height=this.$a6()+"px",b.style.top=this.$a2()+1+"px",b.style.width="100%",b.className=this.$a0("_scrollable"),b.oncontextmenu=function(){return!1},this.$dU(b),this.nav.scroll=b,this.$9P=document.createElement("div"),this.$9P.style.MozUserSelect="none",this.$9P.style.KhtmlUserSelect="none",this.$9P.style.webkitUserSelect="none",this.$9P.daypilotMainD=!0,this.$9P.calendar=this,a&&(this.$9P.style.webkitTransform="translateZ(0px)"),this.$9P.style.position="absolute";var c=this.$cL();return c>0&&!isNaN(c)&&(this.$9P.style.width=c+"px"),this.$9P.setAttribute("unselectable","on"),this.$9P.onmousedown=this.$e1,this.$9P.onmousemove=this.$e2,this.$9P.onmouseup=this.$e3,this.$9P.oncontextmenu=this.$e4,this.$9P.ondblclick=this.$e5,this.$9P.className=this.$a0("_matrix"),this.divStretch=document.createElement("div"),this.divStretch.style.position="absolute",this.divStretch.style.height="1px",this.$9P.appendChild(this.divStretch),this.divCells=document.createElement("div"),this.divCells.style.position="absolute",this.divCells.oncontextmenu=this.$e4,this.$9P.appendChild(this.divCells),this.divLines=document.createElement("div"),this.divLines.style.position="absolute",this.divLines.oncontextmenu=this.$e4,this.$9P.appendChild(this.divLines),this.divBreaks=document.createElement("div"),this.divBreaks.style.position="absolute",this.divBreaks.oncontextmenu=this.$e4,this.$9P.appendChild(this.divBreaks),this.divSeparators=document.createElement("div"),this.divSeparators.style.position="absolute",this.divSeparators.oncontextmenu=this.$e4,this.$9P.appendChild(this.divSeparators),this.divLinksBelow=document.createElement("div"),this.divLinksBelow.style.position="absolute",this.$9P.appendChild(this.divLinksBelow),this.divCrosshair=document.createElement("div"),this.divCrosshair.style.position="absolute",this.divCrosshair.ondblclick=this.$e5,this.$9P.appendChild(this.divCrosshair),this.divRange=document.createElement("div"),this.divRange.style.position="absolute",this.divRange.oncontextmenu=this.$e4,this.$9P.appendChild(this.divRange),this.divEvents=document.createElement("div"),this.divEvents.style.position="absolute",this.$9P.appendChild(this.divEvents),this.divSeparatorsAbove=document.createElement("div"),this.divSeparatorsAbove.style.position="absolute",this.divSeparatorsAbove.oncontextmenu=this.$e4,this.$9P.appendChild(this.divSeparatorsAbove),this.divLinksAbove=document.createElement("div"),this.divLinksAbove.style.position="absolute",this.$9P.appendChild(this.divLinksAbove),this.divLinkShadow=document.createElement("div"),this.divLinkShadow.style.position="absolute",this.$9P.appendChild(this.divLinkShadow),this.divLinkpoints=document.createElement("div"),this.divLinkpoints.style.position="absolute",this.$9P.appendChild(this.divLinkpoints),this.divRectangle=document.createElement("div"),this.divRectangle.style.position="absolute",this.$9P.appendChild(this.divRectangle),this.divHover=document.createElement("div"),this.divHover.style.position="absolute",this.$9P.appendChild(this.divHover),b.appendChild(this.$9P),b},this.$e6={};var z=this.$e6;z.create=function(){if(!f.nav.overlay){var a=document.createElement("div");a.style.position="absolute",a.style.left="0px",a.style.right="0px",a.style.top="0px",a.style.bottom="0px",a.className=f.$a0("_block"),f.nav.top.appendChild(a),f.nav.overlay=a}},z.show=function(){z.create(),f.nav.overlay.style.display=""},z.hide=function(){f.nav.overlay&&(f.nav.overlay.style.display="none")},this.$bJ=function(a){f.loadingTimeout&&window.clearTimeout(f.loadingTimeout);var b=a?0:100;f.loadingTimeout=window.setTimeout(function(){f.loadingLabelVisible&&(f.nav.loading.innerHTML=f.loadingLabelText,f.nav.loading.style.display=""),f.blockOnCallBack&&z.show()},b)},this.$9i=function(){this.loadingTimeout&&window.clearTimeout(this.loadingTimeout),this.nav.loading.style.display="none",this.blockOnCallBack&&z.hide()},this.$e7=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart()},this.$e8=function(a){var b=document.createElement("div");b.style.position="absolute",b.style.top="-2000px",b.style.left="-2000px",b.className=this.$a0(a),document.body.appendChild(b);var c=b.offsetHeight,d=b.offsetWidth;document.body.removeChild(b);var e={};return e.height=c,e.width=d,e},this.$9j=function(a){if(a&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.$9d>=this.autoRefreshMaxCount)){this.$bI();var b=this.autoRefreshInterval;if(!b||b<10)throw"The minimum autoRefreshInterval is 10 seconds";this.autoRefreshTimeout=window.setTimeout(function(){f.$e9()},1e3*this.autoRefreshInterval)}},this.$bI=function(){this.autoRefreshTimeout&&(window.clearTimeout(this.autoRefreshTimeout),this.autoRefreshTimeout=null)},this.autoRefreshStart=function(a){f.$9j(a)},this.autoRefreshPause=function(){f.$bI()},this.$e9=function(){if(!(b.resizing||b.moving||b.drag||b.range)){var a=!1;if("function"==typeof this.onAutoRefresh){var c={};c.i=this.$9d,c.preventDefault=function(){this.preventDefault.value=!0},f.onAutoRefresh(c),c.preventDefault.value&&(a=!0)}!a&&this.$aa()&&this.commandCallBack(this.autoRefreshCommand),this.$9d++}this.$9d<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){f.$e9()},1e3*this.autoRefreshInterval))},this.$ea=function(){b.globalHandlers||(b.globalHandlers=!0,DayPilot.re(document,"mousemove",b.gMouseMove),DayPilot.re(document,"mouseup",b.gMouseUp),DayPilot.re(document,"keyup",b.gKeyUp),DayPilot.re(document,"mousedown",b.gMouseDown),DayPilot.re(document,"touchmove",b.gTouchMove),DayPilot.re(document,"touchend",b.gTouchEnd)),DayPilot.re(window,"resize",this.$c0)},this.$eb=function(){this.nav.scroll.root=this,this.nav.scroll.onscroll=this.$9N,f.$cD=this.nav.scroll.scrollLeft,f.$cC=this.nav.scroll.scrollTop,f.$cE=this.divNorth.clientWidth},this.$9K=function(){if(this.nav.state){var a={};a.scrollX=this.nav.scroll.scrollLeft,a.scrollY=this.nav.scroll.scrollTop,this.syncResourceTree&&(a.tree=this.$bS()),this.nav.state.value=DayPilot.he(DayPilot.JSON.stringify(a))}},this.$9G=function(){if(this.separators)for(var a=0;a<this.separators.length;a++)this.$ec(a)},this.$ed={},this.$ed.step=300,this.$ed.delay=10,this.$ed.mode="display",this.$ed.layers=!1,this.$dk=function(a){for(var b=!0,c=this.durationBarDetached?-10:0,d=0,e=0;e<a.lines.length;e++){var g=a.lines[e];g.height=0,g.top=d;for(var h=0;h<g.length;h++){var i=g[h];if(!i.part.top||b){i.part.line=e,i.part.height||(i.part.height=a.eventHeight);var j=i.part.$dl();if(j>g.height&&(g.height=j),i.part.top=d+a.marginTop,f.eventVersionsEnabled&&!DayPilot.list(i.data.versions).isEmpty()){var l=(i.data.versions.length,i.part.top);DayPilot.list(i.data.versions).each(function(a,b){if(i.versions[b]){var c=b*(f.eventVersionHeight+f.eventVersionMargin);i.versions[b].top=l+c,i.part.top+=f.eventVersionHeight,i.part.top+=f.eventVersionMargin}})}i.part.detachedBarTop=i.part.top-c,i.part.right=i.part.left+i.part.width,i.part.fullTop=this.rowlist[i.part.dayIndex].top+i.part.top,i.part.fullBottom=i.part.fullTop+i.part.height}}d+=(g.height||a.eventHeight)*this.eventStackingLineHeight/100}},this.$9H=function(a){var b=this.$ed.step;this.$ed.layers&&(f.divEvents=document.createElement("div"),f.divEvents.style.position="absolute",f.$9P.insertBefore(this.divEvents,this.divSeparatorsAbove)),"display"===this.$ed.mode?this.divEvents.style.display="none":"visibility"===this.$ed.mode&&(this.divEvents.style.visibility="hidden");for(var d="Progressive"===this.dynamicEventRendering,e=this.$9T(),g=e.pixels.top,h=e.pixels.bottom,i=0;i<this.rowlist.length;i++){var j=this.rowlist[i],k=j.top-this.dynamicEventRenderingMargin,l=k+j.height+2*this.dynamicEventRenderingMargin;if(!d||!(h<=k||g>=l)){this.$dk(j);for(var n=0;n<j.lines.length;n++)for(var o=j.lines[n],p=0;p<o.length;p++){var q=o[p],r=this.$ee(q);if(a&&r&&--b<=0)return this.divEvents.style.visibility="",this.divEvents.style.display="",void window.setTimeout(function(){f.$9H(a)},f.$ed.delay)}}}this.divEvents.style.display="",DayPilot.list(f.multiselect.list).isEmpty()||f.multiselect.redraw(),this.$9W(),m.load()},this.$b9=function(a){var b=this.rowlist[a];this.divEvents=document.createElement("div"),this.divEvents.style.position="absolute",this.divEvents.style.display="none",this.$9P.insertBefore(this.divEvents,this.divSeparatorsAbove);this.durationBarDetached;this.$dk(b);for(var d=0;d<b.lines.length;d++)for(var e=b.lines[d],f=0;f<e.length;f++){var g=e[f];this.$ee(g)}this.divEvents.style.display=""},this.$9C=function(){if(this.elements.events)for(var a=this.elements.events.length,b=0;b<a;b++){var c=this.elements.events[b];this.$ef(c)}this.elements.events=[]},this.$b8=function(a){if(this.elements.events){for(var b=this.elements.events.length,c=[],d=0;d<b;d++){var e=this.elements.events[d];e.row===a&&(this.$ef(e),c.push(d))}for(var d=c.length-1;d>=0;d--)this.elements.events.splice(c[d],1)}},this.$ef=function(a){a.onclick=null,a.oncontextmenu=null,a.onmouseover=null,a.onmouseout=null,a.onmousemove=null,a.onmousedown=null,a.ondblclick=null,a.event&&(a.isBar||(a.event.rendered=null),a.event=null),a.related&&DayPilot.de(a.related),a.parentNode&&a.parentNode.removeChild(a)},this.$eg=function(a){a.event&&(a.event.rendered=!1),a.onclick=null,a.onmousedown=null,a.event=null,a.parentNode&&a.parentNode.removeChild(a)},this.$eh=function(a){if(a||(a=0),"Progressive"===this.dynamicEventRendering){this.divEvents.style.display="none";for(var b=[],c=0,d=this.elements.events.length,e=d-1;e>=0;e--){var f=this.elements.events[e];this.$ei(f.event)?a>0?(a--,b.unshift(f)):(this.$ef(f),c++):b.unshift(f)}this.elements.events=b,this.divEvents.style.display=""}},this.$ej=function(a){for(var b=[],c=0,d=this.$9T(),e=this.elements.cells.length,f=e-1;f>=0;f--){var g=this.elements.cells[f];d.xStart<g.coords.x&&g.coords.x<=d.xEnd&&d.yStart<g.coords.y&&g.coords.y<=d.yEnd?b.unshift(g):a>0?(a--,b.unshift(g)):(this.$cm(g),c++)}},this.$cm=function(a){if(a){var b=a.coords.x,c=a.coords.y;DayPilot.rfa(f.elements.cells,a),DayPilot.de(a),f.$9f.cells[b+"_"+c]=null}},this.$9D=function(){if(this.elements.separators)for(var a=0;a<this.elements.separators.length;a++){var b=this.elements.separators[a];DayPilot.de(b)}this.elements.separators=[]},this.$ek=function(){var a="Progressive"===this.dynamicEventRendering;if(!this.nav.scroll)return!1;for(var b=this.nav.scroll.scrollTop,c=b+this.nav.scroll.clientHeight,d=0;d<this.rowlist.length;d++){var e=this.rowlist[d],f=e.top,g=e.top+e.height;if(!a||!(c<=f||b>=g))for(var h=0;h<e.lines.length;h++)for(var i=e.lines[h],j=0;j<i.length;j++){var k=i[j];if(this.$el(k))return!0}}return!1},this.$el=function(a){if(a.rendered)return!1;var b="Progressive"===this.dynamicEventRendering,c=this.nav.scroll.scrollLeft,d=c+this.nav.scroll.clientWidth,e=a.Left,f=a.Left+a.Width;return!b||!(d<=e||c>=f)},this.$ei=function(a){if(!a.rendered)return!0;var b=this.$9T(),c=b.pixels.top,d=b.pixels.bottom,e=b.pixels.left-this.dynamicEventRenderingMargin,f=b.pixels.right+this.dynamicEventRenderingMargin,g=a.part.left,h=a.part.right,i=a.part.fullTop,j=a.part.fullBottom;return f<=g||e>=h||(d<=i||c>=j)},this.$dj=DayPilot.list(),this.$em=function(a){if(a.rendered)return!1;var b=a.min,c=a.max-a.min,d=f.eventHeight,e=a.row.top,g=document.createElement("div");g.style.position="absolute",g.style.left=b+"px",g.style.top=e+"px",g.style.width=c+"px",g.style.height=d+"px",g.className=f.$a0("_event_group"),g.style.cursor="pointer";var h={};h.group={},h.group.count=a.events.length,h.group.html="[+] "+a.events.length+" events","function"==typeof f.onBeforeGroupRender&&f.onBeforeGroupRender(h);var i=document.createElement("div");return i.innerHTML=h.group.html,g.appendChild(i),g.onmousedown=function(a){var a=a||window.event;a.cancelBubble=!0},g.onclick=function(a){var b=g.event;b.expanded=!0,f.$eg(g);var c=DayPilot.indexOf(f.elements.events,g);-1!==c&&f.elements.events.splice(c,1);var d=f.$dj;DayPilot.list(b.events).each(function(a){d.push(a.id())}),f.$aO(),f.$aP(b.part.dayIndex),f.$9A();var a=a||window.event;a.cancelBubble=!0},a.part={},a.part.left=b,a.part.width=c,a.part.dayIndex=DayPilot.indexOf(f.rowlist,a.row),a.part.top=0,a.client={},a.client.html=function(){return h.group.html},g.event=a,this.elements.events.push(g),this.divEvents.appendChild(g),a.rendered=!0,!0},this.$ee=function(a){if(a.rendered)return!1;if(f.groupConcurrentEvents){var b=a.part.block;if(b.events.length>1&&!b.expanded)return f.$em(b)}var c="Progressive"===this.dynamicEventRendering,d=this.$9T(),e=d.pixels.left-this.dynamicEventRenderingMargin,g=d.pixels.right+this.dynamicEventRenderingMargin,h=a.part.left,i=a.part.left+a.part.width;if(c&&(g<=h||e>=i))return!1;var j=a.part.dayIndex,k=!this.cssOnly&&this.eventBorderVisible,l=a.part.width,m=a.part.height;k&&(l-=2,m-=2);var n=a.cache||a.data;l=Math.max(0,l),m=Math.max(0,m);var o=this.rowlist[j];if(o.hidden)return!1;var p=o.top,q=this.durationBarDetached,r=document.createElement("div");if(r.related=[],q){var s=a.part.barLeft,t=a.part.barWidth;"PercentComplete"===this.durationBarMode&&(s=0,t=(n.complete||0)/100*l);var u=document.createElement("div");u.style.position="absolute",u.style.left=a.part.left+s+"px",u.style.top=p+a.part.detachedBarTop+"px",u.style.width=t+"px",u.style.height="5px",u.style.backgroundColor="black",u.type="detachedBar",r.related.push(u),this.divEvents.appendChild(u)}if(function(c){f.eventVersionsEnabled&&DayPilot.list(a.data.versions).each(function(b,d){if(b){var e=a.versions[d];if(e){var g=document.createElement("div");g.style.position="absolute",g.style.left=e.left+"px",g.style.top=p+e.top+"px",g.style.width=e.width+"px",g.style.height=f.eventVersionHeight+"px",g.className=f.$a0("_event")+" "+f.$a0("_event_previous")+" "+f.$a0("_event_version"),b.toolTip&&(g.title=b.toolTip),b.cssClass&&DayPilot.Util.addClass(g,b.cssClass);var h=document.createElement("div");h.setAttribute("unselectable","on"),h.className=f.$a0("_event_inner"),h.innerHTML=b.html||b.text||"",b.backColor&&(h.style.background=b.backColor,(DayPilot.browser.ie9||DayPilot.browser.ielt9)&&(h.style.filter="")),b.fontColor&&(h.style.color=b.fontColor),b.borderColor&&(h.style.borderColor=b.borderColor),b.backImage&&(h.style.backgroundImage="url("+b.backImage+")",b.backRepeat&&(h.style.backgroundRepeat=b.backRepeat)),g.appendChild(h),e.continueLeft&&DayPilot.Util.addClass(g,f.$a0("_event_continueleft")),e.continueRight&&DayPilot.Util.addClass(g,f.$a0("_event_continueright"));var i=f.durationBarVisible&&!b.barHidden,j=e.width;if(i&&j>0){var k=100*e.barLeft/j,l=Math.ceil(100*e.barWidth/j);"PercentComplete"===f.durationBarMode&&(k=0,l=b.complete||0);var m=document.createElement("div");m.setAttribute("unselectable","on"),m.className=f.$a0("_event_bar"),m.style.position="absolute",b.barBackColor&&(m.style.backgroundColor=b.barBackColor);var n=document.createElement("div");n.setAttribute("unselectable","on"),n.className=f.$a0("_event_bar_inner"),n.style.left=k+"%",n.style.width=0<l&&l<=1?"1px":l+"%",b.barColor&&(n.style.backgroundColor=b.barColor),b.barImageUrl&&(n.style.backgroundImage="url("+b.barImageUrl+")"),m.appendChild(n),g.appendChild(m)}if(b.htmlLeft){var o=5,q=document.createElement("div");q.style.position="absolute",q.style.right=-(e.left-o)+"px",q.style.top=p+e.top+"px",q.style.height=f.eventHeight+"px",q.style.boxSizing="border-box",q.innerHTML=b.htmlLeft,q.className=f.$a0("_event_left"),q.type="divLeft",q.versionPart=e,c.related.push(q),f.divEvents.appendChild(q)}if(b.htmlRight){var o=5,r=document.createElement("div");r.style.position="absolute",r.style.left=e.left+e.width+o+"px",r.style.top=p+e.top+"px",r.style.height=f.eventHeight+"px",r.style.boxSizing="border-box",r.innerHTML=b.htmlRight,r.className=f.$a0("_event_right"),r.type="divRight",r.versionPart=e,c.related.push(r),f.divEvents.appendChild(r)}g.versionPart=e,g.type="version",c.related.push(g),f.divEvents.appendChild(g)}}})}(r),a.data.htmlLeft){var v=5,w=document.createElement("div");w.style.position="absolute",w.style.right=-(a.part.left-v)+"px",w.style.top=p+a.part.top+"px",w.style.height=f.eventHeight+"px",w.style.boxSizing="border-box",w.innerHTML=a.data.htmlLeft,w.className=f.$a0("_event_left"),w.type="divLeft",r.related.push(w),this.divEvents.appendChild(w)}if(a.data.htmlRight){var v=5,x=document.createElement("div");x.style.position="absolute",x.style.left=a.part.left+a.part.width+v+"px",x.style.top=p+a.part.top+"px",x.style.height=f.eventHeight+"px",x.style.boxSizing="border-box",x.innerHTML=a.data.htmlRight,x.className=f.$a0("_event_right"),x.type="divRight",r.related.push(x),this.divEvents.appendChild(x)}a.part.top;r.style.position="absolute",r.style.left=a.part.left+"px",r.style.top=p+a.part.top+"px",r.style.width=l+"px",r.style.height=m+"px",f.eventTextWrappingEnabled||(r.style.whiteSpace="nowrap"),r.style.overflow="hidden",r.className=this.cssOnly?this.$a0("_event"):this.$a0("event"),"Milestone"===a.data.type&&DayPilot.Util.addClass(r,f.$a0("_task_milestone")),"Group"===a.data.type&&(DayPilot.Util.addClass(r,f.$a0("_task_parent")),DayPilot.Util.addClass(r,f.$a0("_task_group"))),n.cssClass&&DayPilot.Util.addClass(r,n.cssClass),DayPilot.Util.addClass(r,this.$a0("_event_line"+a.part.line)),r.setAttribute("unselectable","on"),this.showToolTip&&!this.bubble&&(r.title=a.client.toolTip()||""),r.onmousemove=this.$en,r.onmouseout=this.$eo,r.onmousedown=this.$ep,r.ontouchstart=B.onEventTouchStart,r.ontouchmove=B.onEventTouchMove,r.ontouchend=B.onEventTouchEnd,a.client.clickEnabled()&&(r.onclick=this.$ar),a.client.doubleClickEnabled()&&(r.ondblclick=this.$aD),r.oncontextmenu=this.$aC;if(this.cssOnly){var D=document.createElement("div");D.setAttribute("unselectable","on"),D.className=f.$a0("_event_inner"),D.innerHTML=a.client.innerHTML(),n.backColor&&(D.style.background=n.backColor,(DayPilot.browser.ie9||DayPilot.browser.ielt9)&&(D.style.filter="")),n.fontColor&&(D.style.color=n.fontColor),n.borderColor&&(D.style.borderColor=n.borderColor),n.backImage&&(D.style.backgroundImage="url("+n.backImage+")",n.backRepeat&&(D.style.backgroundRepeat=n.backRepeat)),r.appendChild(D);var E=a.start().getTime()===a.part.start.getTime(),F=a.rawend().getTime()===a.part.end.getTime();if(E||DayPilot.Util.addClass(r,this.$a0("_event_continueleft")),F||DayPilot.Util.addClass(r,this.$a0("_event_continueright")),a.client.barVisible()&&l>0){var s=100*a.part.barLeft/l,t=Math.ceil(100*a.part.barWidth/l);"PercentComplete"===this.durationBarMode&&(s=0,t=n.complete||0);var u=document.createElement("div");u.setAttribute("unselectable","on"),u.className=this.$a0("_event_bar"),u.style.position="absolute",n.barBackColor&&(u.style.backgroundColor=n.barBackColor);var G=document.createElement("div");G.setAttribute("unselectable","on"),G.className=this.$a0("_event_bar_inner"),G.style.left=s+"%",G.style.width=0<t&&t<=1?"1px":t+"%",n.barColor&&(G.style.backgroundColor=n.barColor),n.barImageUrl&&(G.style.backgroundImage="url("+n.barImageUrl+")"),u.appendChild(G),r.appendChild(u)}}if(r.row=j,n.areas)for(var H=0;H<n.areas.length;H++){var d=n.areas[H],I=d.v||"Visible";if("Visible"===I){(d.start||d.end)&&(d.left=f.getPixels(new DayPilot.Date(d.start)).left-a.part.left,d.width=f.getPixels(new DayPilot.Date(d.end)).left-d.left-a.part.left);var J=DayPilot.Areas.createArea(r,a,d);r.appendChild(J)}}if(this.elements.events.push(r),this.divEvents.appendChild(r),a.rendered=!0,r.event=a,f.multiselect.$aT(r.event)&&(f.multiselect.add(r.event,!0),f.multiselect.$aS(r)),f.$9O()){if("function"==typeof f.onAfterEventRender){var K={};K.e=r.event,K.div=r,f.onAfterEventRender(K)}}else f.afterEventRender&&f.afterEventRender(r.event,r);return!0},this.$9O=function(){return 2===f.api},this.$ba=function(){for(var a=0;a<this.elements.events.length;a++){var b=this.elements.events[a],c=b.event,d=c.part.dayIndex,e=this.rowlist[d],f=e.top,g=f+c.part.top;b.style.top=g+"px",DayPilot.list(b.related).filter(function(a){return!!a.versionPart}).each(function(a){var b=a.versionPart;a.style.top=f+b.top+"px"}),DayPilot.list(b.related).filter(function(a){return!a.versionPart&&("divLeft"===a.type||"divRight"===a.type)}).each(function(a){a.style.top=g+"px"})}},this.$ca=function(a){if(!a)return null;for(var b=0;b<f.elements.events.length;b++){var c=f.elements.events[b];if(c.event===a||c.event.data===a.data)return c}return null},this.$eo=function(a){var b=this;DayPilot.Areas.hideAreas(b,a),f.cssOnly&&DayPilot.Util.removeClass(b,f.$a0("_event_hover")),f.$eq(b),k.source||m.hideLinkpointsWithDelay(),f.bubble&&"Bubble"===f.eventHoverHandling&&f.bubble.hideOnMouseOut()},this.$er=function(a){if("function"==typeof this.onEventMouseOver){var b={};b.div=a,b.e=a.event,this.onEventMouseOver(b)}},this.$eq=function(a){if("function"==typeof this.onEventMouseOut){var b={};b.div=a,b.e=a.event,this.onEventMouseOut(b)}},this.$en=function(a){a=a||window.event,f.cellBubble&&f.cellBubble.delayedHide();for(var c=this;c&&!c.event;)c=c.parentNode;f.$es(c,a);var d=c.event.cache?c.event.cache.deleteDisabled:c.event.data.deleteDisabled;if(!c.active){var e=[];if("Disabled"!==f.eventDeleteHandling&&!d){var g=f.durationBarVisible?f.durationBarHeight:0;e.push({action:"JavaScript",v:"Hover",w:17,h:17,top:g+2,right:2,css:f.$a0("_event_delete"),js:function(a){f.$az(a)}})}var h=c.event.cache?c.event.cache.areas:c.event.data.areas;h&&h.length>0&&(e=e.concat(h)),DayPilot.Areas.showAreas(c,c.event,null,e),f.cssOnly&&DayPilot.Util.addClass(c,f.$a0("_event_hover")),f.$er(c)}"Disabled"===f.linkCreateHandling||k.source||(m.clearHideTimeout(),m.hideLinkpoints(),b.moving||b.resizing||m.showLinkpoint(c)),a.srcElement?a.srcElement.insideEvent=!0:a.insideEvent=!0},this.$et={};var A=this.$et;this.$ep=function(a){if(f.$d0(),void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),a=a||window.event,DayPilot.Util.mouseButton(a).left){var d=a.shiftKey;if("Disabled"!==f.multiSelectRectangle&&d)return D.start(),!1;"w-resize"===this.style.cursor||"e-resize"===this.style.cursor?(b.resizing=this,b.originalMouse=DayPilot.mc(a),document.body.style.cursor=this.style.cursor,m.hideLinkpoints()):("move"===this.style.cursor||"Full"===f.moveBy&&this.event.client.moveEnabled())&&(A.start=!0,A.moving=this,A.originalMouse=DayPilot.mc(a),A.moveOffsetX=DayPilot.mo3(this,a).x,A.moveDragStart=f.getDate(f.coords.x,!0),m.hideLinkpoints())}return DayPilot.Menu&&DayPilot.Menu.active&&DayPilot.Menu.active.hide(),a.cancelBubble=!0,!1},this.$eu={};var B=f.$eu;B.active=!1,B.start=!1,B.timeouts=[],B.onEventTouchStart=function(a){if(!B.active&&!B.start){a.stopPropagation(),B.clearTimeouts(),B.start=!0,B.active=!1;var b=this,c=f.tapAndHoldTimeout;B.timeouts.push(window.setTimeout(function(){switch(B.active=!0,B.start=!1,f.coords=B.relativeCoords(a),a.preventDefault(),f.eventTapAndHoldHandling){case"Move":var c=i(a);B.startMoving(b,c);break;case"ContextMenu":var d=b.event;DayPilot.Menu&&DayPilot.Menu.touchPosition(a);var e=d.client.contextMenu();e?e.show(d):f.contextMenu&&f.contextMenu.show(d)}},c))}},B.onEventTouchMove=function(a){B.clearTimeouts(),B.start=!1},B.onEventTouchEnd=function(a){if(!DayPilot.Util.isMouseEvent(a)){if(B.clearTimeouts(),B.start){B.start=!1,a.preventDefault(),a.stopPropagation();var b=this;window.setTimeout(function(){f.$av(b,a)})}window.setTimeout(function(){B.start=!1,B.active=!1},500)}},B.onMainTouchStart=function(a){if(!(B.active||B.start||a.touches.length>1)){B.clearTimeouts(),B.start=!0,B.active=!1;var b=f.tapAndHoldTimeout;B.timeouts.push(window.setTimeout(function(){B.active=!0,B.start=!1,a.preventDefault(),f.coords=B.relativeCoords(a),B.range=f.$ev()},b));!0&&(f.coords=B.relativeCoords(a))}},B.onMainTouchMove=function(a){if(B.clearTimeouts(),B.start=!1,b.resizing)return a.preventDefault(),void B.updateResizing();if(B.active){if(a.preventDefault(),f.coords=B.relativeCoords(a),b.moving)return void B.updateMoving();if(B.range){var c=B.range;c.end={x:Math.floor(f.coords.x/f.cellWidth)},f.$bn(c)}}},B.onMainTouchEnd=function(a){if(B.clearTimeouts(),B.active){if(b.moving){a.preventDefault();var d=b.moving.event,e=b.movingShadow.start,g=b.movingShadow.end,h="Days"!==f.viewType?b.movingShadow.row.id:null,i=!!b.drag,j=b.movingShadow.overlapping,k=!b.movingShadow.allowed;if(DayPilot.Util.removeClass(b.moving,f.$a0("_event_moving_source")),DayPilot.de(b.movingShadow),f.$cQ(),b.movingShadow.calendar=null,document.body.style.cursor="",b.moving=null,b.movingShadow=null,f.$cJ.clear(),j||k||f.$cJ.forbidden||f.$cJ.invalid)return;f.$be(d,e,g,h,i)}if(B.range){var l=B.range;B.range=null;var m=f.elements.range2;m&&m.overlapping?f.clearSelection():f.$bj(l)}}else if(B.start){var l=f.$ev();f.$bn(l);var m=f.elements.range2;m&&m.overlapping?f.clearSelection():f.$bj(l)}window.setTimeout(function(){B.start=!1,B.active=!1},500)},B.clearTimeouts=function(){for(var a=0;a<B.timeouts.length;a++)clearTimeout(B.timeouts[a]);B.timeouts=[]},B.relativeCoords=function(a){var b=f.$9P,c=a.touches[0].pageX,d=a.touches[0].pageY,e=DayPilot.abs(b);return{x:c-e.x,y:d-e.y,toString:function(){return"x: "+this.x+", y:"+this.y}}},B.startMoving=function(a,c){b.moving=a,b.originalMouse=c;var d=DayPilot.abs(a);b.moveOffsetX=c.x-d.x,b.moveDragStart=f.getDate(f.coords.x,!0),b.movingShadow=f.$c4(a,f.shadow),f.$cz()},B.startResizing=function(a,c){b.resizing=a,b.resizing.dpBorder=c,b.resizingShadow||(b.resizingShadow=f.$c4(a,f.shadow)),f.$cK()},B.updateResizing=function(){if(!b.resizingShadow){var a=b.resizing;b.resizingShadow=f.$c4(a,f.shadow)}f.$cK()},B.updateMoving=function(){if(b.movingShadow&&b.movingShadow.calendar!==f&&(b.movingShadow.calendar=null,DayPilot.de(b.movingShadow),b.movingShadow=null),!b.movingShadow){var a=b.moving;b.movingShadow=f.$c4(a,f.shadow)}b.moving.target=f,f.$cz()},this.$es=function(a,c){var d=this.eventResizeMargin,e=this.eventMoveMargin,g=a;if(void 0!==b){var h=DayPilot.mo3(a,c);if(h&&(f.eventOffset=h,!b.resizing&&!b.moving)){var i=g.event.part.start.toString()===g.event.start().toString(),j=g.event.part.end.toString()===g.event.rawend().toString();if("Top"===f.moveBy&&h.y<=e&&g.event.client.moveEnabled()&&"Disabled"!==f.eventMoveHandling?a.style.cursor="move":("Top"===f.moveBy||"Full"===f.moveBy)&&h.x<=d&&g.event.client.resizeEnabled()&&"Disabled"!==f.eventResizeHandling?i?(a.style.cursor="w-resize",a.dpBorder="left"):a.style.cursor="not-allowed":"Left"===f.moveBy&&h.x<=e&&g.event.client.moveEnabled()&&"Disabled"!==f.eventMoveHandling?a.style.cursor="move":a.offsetWidth-h.x<=d&&g.event.client.resizeEnabled()&&"Disabled"!==f.eventResizeHandling?j?(a.style.cursor="e-resize",a.dpBorder="right"):a.style.cursor="not-allowed":b.resizing||b.moving||(g.event.client.clickEnabled()&&"Disabled"!==f.eventClickHandling?a.style.cursor="pointer":a.style.cursor="default"),void 0!==DayPilotBubble&&f.bubble&&"Bubble"===f.eventHoverHandling&&("default"===a.style.cursor||"pointer"===a.style.cursor)){this.$ew&&h.x===this.$ew.x&&h.y===this.$ew.y||(this.$ew=h,f.bubble.showEvent(a.event))}}}},this.$a1=function(){return"Days"!==this.viewType?this.itline.length:Math.floor(1440/this.cellDuration)},this.$bk=function(a){var a=a||b.range||b.rangeHold;if(!a)return null;var c=f.rowlist[a.start.y];if(!c)return null;var d=a.$ex?a.$ex:a,e=c.id,g=d.end.x>d.start.x?d.start.x:d.end.x,h=d.end.x>d.start.x?d.end.x:d.start.x,i=0;i=c.start.getTime()-this.$ae().getTime();var j=this.itline[g].start.addTime(i),k=this.itline[h].end.addTime(i);return new DayPilot.Selection(j,k,e,f)},this.$ey=function(a){var b=a.parentNode,c=document.createElement("textarea");return c.style.position="absolute",c.style.width=(a.offsetWidth<100?100:a.offsetWidth-2)+"px",c.style.height=a.offsetHeight-2+"px",c.style.fontFamily=DayPilot.gs(a,"fontFamily")||DayPilot.gs(a,"font-family"),c.style.fontSize=DayPilot.gs(a,"fontSize")||DayPilot.gs(a,"font-size"),c.style.left=a.offsetLeft+"px",c.style.top=a.offsetTop+"px",c.style.border="1px solid black",c.style.padding="0px",c.style.marginTop="0px",c.style.backgroundColor="white",c.value=DayPilot.tr(a.event.text()),c.event=a.event,b.appendChild(c),c},this.$ax=function(a){if(b.editing&&b.editing.blur(),a.event){var c=this.$ey(a);b.editing=c,DayPilot.re(c,DayPilot.touch.start,function(a){a.stopPropagation()}),c.onblur=function(){if(c.onblur=null,b.editing=null,c.parentNode&&c.parentNode.removeChild(c),a.event){var e=(a.event.text(),c.value);f.$bF(a.event,e,c.canceling)}},c.onmousedown=function(a){a=a||window.event,a.stopPropagation&&a.stopPropagation()},c.onkeypress=function(a){return 13!==(window.event?event.keyCode:a.keyCode)||(this.onblur(),!1)},c.cancel=function(){b.editing&&(b.editing.canceling=!0,b.editing.blur())},c.onkeydown=function(a){27===(window.event?event.keyCode:a.keyCode)&&b.editing.cancel()},c.select(),c.focus()}},this.$d6=function(a){var b=this,c=b.row;if(void 0!==DayPilotBubble&&(f.cellBubble&&f.cellBubble.hideOnMouseOut(),f.resourceBubble)){var d={};d.calendar=f,d.id=c.id,c.bubbleHtml&&(d.bubbleHtml=function(){return c.bubbleHtml}),d.toJSON=function(){var a={};return a.id=this.id,a},f.resourceBubble.showResource(d)}},this.$d7=function(a){var b=this;void 0!==DayPilotBubble&&f.resourceBubble&&f.resourceBubble.hideOnMouseOut();var c=b.firstChild;DayPilot.Areas.hideAreas(c,a),c.data=null},this.$d8=function(a){j.row&&(w.cancelClick=!0,setTimeout(function(){w.cancelClick=!1},100))},this.$9u=function(){if(this.timeHeader){this.$9f.timeHeader={};var a=document.createElement("div");a.style.position="relative",this.nav.timeHeader=a;for(var b=0;b<this.timeHeader.length;b++)for(var c=this.timeHeader[b],d=0;d<c.length;d++)this.$ez(d,b);var e=this.divNorth;1===e.childNodes.length?e.replaceChild(a,e.childNodes[0]):(e.innerHTML="",e.appendChild(a));var g=this.$cL();e.style.width=g+5e3+"px",f.divCorner.innerHTML=this.cornerHtml||"",g>0&&(this.divStretch.style.width=g+"px")}},this.$ak=function(a,b){var c=null,d=this.$c3.locale(),b=b||this.cellGroupBy,e=a.start;a.end;switch(b){case"Hour":c="Clock12Hours"===f.$c3.timeFormat()?e.toString("h tt",d):e.toString("H",d);break;case"Day":c=e.toString(d.datePattern);break;case"Week":c=1===F.weekStarts()?e.weekNumberISO():e.weekNumber();break;case"Month":c=e.toString("MMMM yyyy",d);break;case"Year":c=e.toString("yyyy");break;case"None":c="";break;case"Cell":if("Manual"===this.scale||"CellDuration"===this.scale){var h=(a.end.ticks-a.start.ticks)/6e4;c=this.$eA(e,h)}else c=this.$ak(a,this.scale);break;default:throw"Invalid cellGroupBy value"}return c},this.$eA=function(a,b){var c=this.$c3.locale(),b=b||this.cellDuration;return b<60?a.toString("mm"):b<1440?"Clock12Hours"===f.$c3.timeFormat()?a.toString("h tt",c):a.toString("H",c):b<10080?a.toString("d"):10080===b?1===F.weekStarts()?a.weekNumberISO():a.weekNumber():a.toString("MMMM yyyy",c)},this.$ag=function(a){var b=this.scale;switch(b){case"Cell":throw"Invalid scale: Cell";case"Manual":throw"Internal error (addScaleSize in Manual mode)";case"Minute":return a.addMinutes(1);case"CellDuration":return a.addMinutes(this.cellDuration);default:return this.$aj(a,b)}},this.$aj=function(a,b){var c,d="Days"!==this.viewType?this.days:1,e=this.startDate.addDays(d);"Manual"===f.scale&&(e=f.$ai());var b=b||this.cellGroupBy,g=60;switch(b){case"Hour":c=a.addHours(1);break;case"Day":c=a.getDatePart().addDays(1);break;case"Week":for(c=a.getDatePart().addDays(1);c.dayOfWeek()!==F.weekStarts();)c=c.addDays(1);break;case"Month":c=a.addMonths(1),c=c.firstDayOfMonth();for(var h=DayPilot.DateUtil.diff(c,a)/6e4%g==0;!h;)c=c.addHours(1),h=DayPilot.DateUtil.diff(c,a)/6e4%g==0;break;case"Year":c=a.addYears(1),c=c.firstDayOfYear();for(var h=DayPilot.DateUtil.diff(c,a)/6e4%g==0;!h;)c=c.addHours(1),h=DayPilot.DateUtil.diff(c,a)/6e4%g==0;break;case"None":c=e;break;case"Cell":var i=this.$ap(a);c=i.current?i.current.end:i.past?i.previous.end:i.next.start;break;default:throw"Invalid cellGroupBy value"}return c.getTime()>e.getTime()&&(c=e),c},this.$ez=function(a,b){var c=this.nav.timeHeader,d=this.timeHeader[b][a],e=b<this.timeHeader.length-1,g=b*F.headerHeight(),h=d.left,i=d.width,j=F.headerHeight(),k=document.createElement("div");k.style.position="absolute",k.style.top=g+"px",k.style.left=h+"px",k.style.width=i+"px",k.style.height=j+"px",d.toolTip&&(k.title=d.toolTip),k.setAttribute("unselectable","on"),k.style.KhtmlUserSelect="none",k.style.MozUserSelect="none",k.style.webkitUserSelect="none",k.oncontextmenu=function(){return!1},k.cell={},k.cell.start=d.start,k.cell.end=d.end,k.cell.level=b,k.cell.th=d,k.onclick=this.$dd,k.style.overflow="hidden",f.timeHeaderTextWrappingEnabled||(k.style.whiteSpace="nowrap");var l=document.createElement("div");if(l.setAttribute("unselectable","on"),l.innerHTML=d.innerHTML,d.backColor&&(l.style.background=d.backColor),this.cssOnly){var m=this.$a0("_timeheadercol"),n=this.$a0("_timeheadercol_inner");e&&(m=this.$a0("_timeheadergroup"),n=this.$a0("_timeheadergroup_inner")),DayPilot.Util.addClass(k,m),DayPilot.Util.addClass(l,n)}DayPilot.list(d.areas).each(function(a){(a.start||a.end)&&(a.left=f.getPixels(new DayPilot.Date(a.start)).left-h,a.width=f.getPixels(new DayPilot.Date(a.end)).left-a.left-h)}),DayPilot.Areas.attach(k,d,{areas:d.areas}),k.appendChild(l),this.$9f.timeHeader[a+"_"+b]=k,c.appendChild(k)},this.$aO=function(){for(var a=0;a<this.rowlist.length;a++){var b=this.rowlist[a],c=b.getHeight()+b.marginBottom+b.marginTop;b.height!==c&&(this.$b7=!0),b.height=c}},this.$9y=function(){var a=this.divHeader;if(!a)return!1;for(var b=this.rowlist.length,d=(this.rowHeaderCols&&this.rowHeaderCols.length,0),e=0;e<b;e++){var g=this.rowlist[e];if(!g.hidden){var h=this.$cZ?e:d;if(a.rows[h]){for(var i=0;i<a.rows[h].cells.length;i++){var j=a.rows[h].cells[i];this.$cZ&&(j.style.top=g.top+"px");var k=g.height;j&&j.firstChild&&parseInt(j.firstChild.style.height,10)!==k&&(j.firstChild.style.height=k+"px")}d++}}}this.$cZ&&f.nav.resScrollSpace&&(f.nav.resScrollSpace.style.top=f.$9e+"px")},this.$ec=function(a){var b=this.separators[a];b.location=b.location||b.Location,b.color=b.color||b.Color,b.layer=b.layer||b.Layer,b.width=b.width||b.Width,b.opacity=b.opacity||b.Opacity;var c=new DayPilot.Date(b.location),d=b.color,e=b.width?b.width:1,g=!!b.layer&&"AboveEvents"===b.layer,h=b.opacity?b.opacity:100;if(!(c.getTime()<this.$ae().getTime()||c.getTime()>=this.$ai().getTime())){var i=this.getPixels(c);if(!i.cut&&!(i.left<0||i.left>this.$a1()*this.cellWidth)){var j=document.createElement("div");j.style.width=e+"px",j.style.height=f.$9e+"px",j.style.position="absolute",j.style.left=i.left-1+"px",j.style.top="0px",j.style.backgroundColor=d,j.style.opacity=h/100,j.style.filter="alpha(opacity="+h+")",g?this.divSeparatorsAbove.appendChild(j):this.divSeparators.appendChild(j),this.elements.separators.push(j)}}},this.$e5=function(a){if("Disabled"===f.timeRangeDoubleClickHandling)return!1;b.timeRangeTimeout&&(clearTimeout(b.timeRangeTimeout),b.timeRangeTimeout=null);if(!f.coords){var d=f.$9P;f.coords=DayPilot.mo3(d,a)}if(a=a||window.event,a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0,f.$eB(f.coords)){var e=f.$bk(b.rangeHold);f.$bp(e.start,e.end,e.resource)}else if(b.range=f.$ev(),b.range){b.rangeCalendar=f;var e=f.$bk(b.range);f.$bp(e.start,e.end,e.resource)}b.rangeHold=b.range,b.range=null},this.$e1=function(a){if(!B.start&&!B.active){if(b.timeRangeTimeout,f.$dR(),f.$dZ(),!f.coords){var c=f.$9P;f.coords=DayPilot.mo3(c,a)}if(b.rectangleSelect)return!1;a=a||window.event;var d=DayPilot.Util.mouseButton(a);if(d.middle||d.right&&f.$eB(f.coords))return!1;if("Disabled"===f.timeRangeSelectedHandling)return!1;var e=a.ctrlKey||a.metaKey;f.allowMultiRange&&!e&&E.clear();var g=a.shiftKey;if("Disabled"!==f.multiSelectRectangle&&g){var h={};return h.start=f.coords,h.calendar=f,b.rectangleSelect=h,!1}var i=f.$bV(f.coords.y).i;return!f.rowlist[i].isNewRow&&(b.range=f.$ev(),b.range&&(b.range.ctrl=e,b.rangeCalendar=f),!1)}},this.$ev=function(){var a={},b=this.$an(f.coords.x).x;return a.start={y:f.$bV(f.coords.y).i,x:b},a.end={x:b},this.$c5(f.$bV(f.coords.y).i)?null:(a.calendar=f,f.$bn(a),a)},this.$cM=function(){f.$cA();var a=b.resizingShadow,c=b.resizing;!function(){var d=f.$eC;if(!d||d.start.getTime()!==a.start.getTime()||d.end.getTime()!==f.$aH(a.end).getTime()){var e={};e.start=a.start,e.end=f.$aH(a.end),e.duration=new DayPilot.Duration(e.start,e.end),e.e=c.event,e.allowed=!0,e.left={},e.left.html=e.start.toString(f.eventResizingStartEndFormat,F.locale()),e.left.enabled=f.eventResizingStartEndEnabled,e.right={},e.right.html=e.end.toString(f.eventResizingStartEndFormat,F.locale()),e.right.enabled=f.eventResizingStartEndEnabled,e.multiresize=DayPilot.list(s.list);var g={};g.event=c,g.start=e.start,g.end=e.end,e.multiresize.splice(0,0,g),f.$eC=e,"function"==typeof f.onEventResizing&&f.onEventResizing(e),a.allowed=e.allowed,f.$cO(b.resizingShadow,e),f.$cP(b.resizingShadow,e)}}()},this.$e3=function(a){if(b.rectangleSelect){var a=a||window.event;return a.cancelBubble=!0,a.preventDefault&&a.preventDefault(),b.gMouseUp(a),!1}A={}},this.$e2=function(a){if(!B.active){b.activeCalendar=f,a=a||window.event;var c=DayPilot.mc(a);if(f.coords=DayPilot.mo3(f.$9P,a),a.insideMainD=!0,window.event&&(window.event.srcElement.inside=!0),A.start&&(A.originalMouse.x===c.x&&A.originalMouse.y===c.y||(DayPilot.Util.copyProps(A,b),document.body.style.cursor="move",A={})),b.resizing&&b.resizing.event.calendar===f)f.$eD();else if(b.moving&&(b.moving.event.calendar===f||b.moving.event.calendar.dragOutAllowed))f.$eE();else if(b.range&&b.range.calendar===f)f.$eF();else if(k.source){var d=k.source;m.drawShadow(d.coords,f.coords)}else b.rectangleSelect?D.draw():"Disabled"!==f.crosshairType&&f.$eG();f.$eH();var e=a.insideEvent;if(window.event&&(e=window.event.srcElement.insideEvent),f.cellBubble&&f.coords&&f.rowlist&&f.rowlist.length>0&&!e){var g=f.$an(f.coords.x),i=f.$bV(f.coords.y).i;if(0<=i&&i<f.rowlist.length&&0<=g&&g<f.itline.length){var j={};j.calendar=f,j.start=f.itline[g].start,j.end=f.itline[g].end,j.resource=f.rowlist[i].id,j.toJSON=function(){var a={};return a.start=this.start,a.end=this.end,a.resource=this.resource,a},f.cellBubble.showCell(j)}}if(b.drag){if(f.$dR(),b.gShadow&&document.body.removeChild(b.gShadow),b.gShadow=null,!b.movingShadow&&f.coords&&f.rowlist.length>0){if(!b.moving){b.moving={};var l=b.drag.event;if(!l){var n=f.itline[0].start,a={id:b.drag.id,start:n,end:n.addSeconds(b.drag.duration),text:b.drag.text},o=b.drag.data;if(o){var p=["duration","element","id","text"];for(var q in o)DayPilot.contains(p,q)||(a[q]=o[q])}l=new DayPilot.Event(a),l.calendar=f,l.part.external=!0}b.moving.event=l}b.movingShadow=f.$c4(b.moving,b.drag.shadowType)}a.cancelBubble=!0}if("Always"===f.autoScroll||"Drag"===f.autoScroll&&(b.moving||b.resizing||b.range)){var r=f.nav.scroll,s={x:f.coords.x,y:f.coords.y};s.x-=r.scrollLeft,s.x+=h.shiftX,s.y-=r.scrollTop;var t=r.clientWidth,u=r.clientHeight,v=30,w=s.x<v?s.x:0,x=t-s.x<v?t-s.x:0,y=s.y<v?s.y:0,z=u-s.y<v?u-s.y:0,g=0,i=0,E=50;w&&(g=-E*C(w,v)),x&&(g=E*C(x,v)),y&&(i=-E*C(y,v)/2),z&&(i=E*C(y,v)/2),(b.resizing||b.range)&&(i=0),g||i?f.$eI(g,i):f.$dZ()}}},this.$eF=function(){var a=b.range;a.end={x:f.$an(f.coords.x).x},f.$bn(a)},this.$eD=function(){b.resizingShadow||(b.resizingShadow=f.$c4(b.resizing,f.shadow)),f.$cK()},this.$eE=function(){if(b.movingShadow&&b.movingShadow.calendar!==f&&(b.movingShadow.calendar=null,DayPilot.de(b.movingShadow),b.movingShadow=null),!b.movingShadow){var a=b.moving;b.movingShadow=f.$c4(a,f.shadow)}f.$cx(),b.moving.target=f,f.$cz()},this.$eJ={};var D=this.$eJ;D.start=function(){var a={};a.start=f.coords,a.calendar=f,b.rectangleSelect=a},D.draw=function(){var a=b.rectangleSelect,c=b.rectangleSelect.start,d=f.coords;D.clear();var h,i,j,k,l,m,n,o,e={x:a.x,y:a.y,width:a.width,height:a.height};if(function(){l=Math.min(c.x,d.x),n=Math.max(c.x,d.x),"Free"===f.multiSelectRectangle?(m=Math.min(c.y,d.y),o=Math.max(c.y,d.y)):"Row"===f.multiSelectRectangle&&(m=c.y,o=c.y)}(),"Free"===f.multiSelectRectangle)h=l,i=m,j=n-l,k=o-m;else{if("Row"!==f.multiSelectRectangle)throw"Invalid DayPilot.Scheduler.multiSelectRectangle value: "+f.multiSelectRectangle;var p=f.$bV(m).i,q=f.rowlist[p];i=q.top,k=q.height;h=f.$an(l).cell.left;var s=f.$an(n).cell;j=s.left+s.width-h}var t=DayPilot.Util.div(f.divRectangle,h,i,j,k);if(t.style.boxSizing="border-box",t.style.backgroundColor="#0000ff",t.style.border="1px solid #000033",t.style.opacity=.4,a.x=h,a.y=i,a.width=j,a.height=k,(a.x!==e.x||a.y!==e.y||a.width!==e.width||a.height!==e.height)&&"function"==typeof f.onRectangleEventSelecting){var u={};u.events=g.eventsInRectangle(a.x,a.y,a.width,a.height).map(function(a){return a.event}),u.start=f.getDate(a.x,!0),u.end=f.getDate(a.x+a.width,!0),f.onRectangleEventSelecting(u)}},D.clear=function(){f.divRectangle.innerHTML="",f.elements.rectangle=[]},this.$eK=function(){var a,b;if(!(f.coords&&f.rowlist&&f.rowlist.length>0&&f.itline&&f.itline.length>0))return null;if(a=f.$an(f.coords.x).x,!((b=f.$bV(f.coords.y).i)>=f.rowlist.length)){return f.cells.findXy(a,b)[0]}},this.$eH=function(){var a=this.$eK();if(this.hover.cell){if(this.hover.cell.x===a.x&&this.hover.cell.y===a.y)return;this.$e0()}if(this.hover.cell=a,"function"==typeof this.onCellMouseOver){var b={};b.cell=a,this.onCellMouseOver(b)}},this.$e0=function(){if(this.hover.cell){if("function"==typeof this.onCellMouseOut){var a={};a.cell=this.hover.cell,this.onCellMouseOut(a)}this.hover.cell=null}},this.hover={},this.$eG=function(){var a=this.$eK();this.hover.cell&&this.hover.cell.x===a.x&&this.hover.cell.y===a.y||this.$eL()},this.$dR=function(){if(this.divCrosshair.innerHTML="",this.$eM=null,this.$eN=null,this.crosshairTop&&this.crosshairTop.parentNode&&(this.crosshairTop.parentNode.removeChild(this.crosshairTop),this.crosshairTop=null),this.crosshairLeft){for(var a=0;a<this.crosshairLeft.length;a++){var b=this.crosshairLeft[a];b.parentNode&&b.parentNode.removeChild(b)}this.crosshairLeft=null}this.$9c=-1,this.$9b=-1},this.$eL=function(){var a,b;if(f.coords&&f.rowlist&&f.rowlist.length>0&&(a=f.$an(f.coords.x).x,!((b=f.$bV(f.coords.y).i)>=f.rowlist.length))){var c=this.crosshairType,d=f.rowlist[b];if("Full"===c){var e=this.itline[a],g=e.left,h=this.$eM;if(!h){var h=document.createElement("div");h.style.height=f.$9e+"px",h.style.position="absolute",h.style.top="0px",h.style.backgroundColor=this.crosshairColor,h.style.opacity=this.crosshairOpacity/100,h.style.filter="alpha(opacity="+this.crosshairOpacity+")",this.$eM=h,this.divCrosshair.appendChild(h)}h.style.left=g+"px",h.style.width=e.width+"px";var i=d.top,j=d.height,k=this.$cL(),h=this.$eN;if(!h){var h=document.createElement("div");h.style.width=k+"px",h.style.height=j+"px",h.style.position="absolute",h.style.top=i+"px",h.style.left="0px",h.style.backgroundColor=this.crosshairColor,h.style.opacity=this.crosshairOpacity/100,h.style.filter="alpha(opacity="+this.crosshairOpacity+")",this.$eN=h,this.divCrosshair.appendChild(h)}h.style.top=i+"px",h.style.height=j+"px"}var l=this.$eO(this.coords.x);if(l&&this.$9c!==l.x){this.crosshairTop&&this.crosshairTop.parentNode&&(this.crosshairTop.parentNode.removeChild(this.crosshairTop),this.crosshairTop=null);var h=document.createElement("div");h.style.width=l.cell.width+"px",h.style.height=F.headerHeight()+"px",h.style.left="0px",h.style.top="0px",h.style.position="absolute",h.style.backgroundColor=this.crosshairColor,h.style.opacity=this.crosshairOpacity/100,h.style.filter="alpha(opacity="+this.crosshairOpacity+")",this.crosshairTop=h;var m=this.divNorth,n=this.timeHeader?this.timeHeader.length-1:1;this.nav.timeHeader?this.$9f.timeHeader[l.x+"_"+n].appendChild(h):m.firstChild.rows[n].cells[a]&&m.firstChild.rows[n].cells[a].firstChild.appendChild(h)}if(this.$9b!==b){if(this.crosshairLeft){for(var o=0;o<this.crosshairLeft.length;o++){var p=this.crosshairLeft[o];p.parentNode&&p.parentNode.removeChild(p)}this.crosshairLeft=null}this.rowHeaderCols&&this.rowHeaderCols.length;if(this.crosshairLeft=[],this.divHeader.rows[b])for(var o=0;o<this.divHeader.rows[b].cells.length;o++){var k=f.$a3(),h=document.createElement("div");h.style.width=k+"px",h.style.height=d.height+"px",h.style.left="0px",h.style.top="0px",h.style.position="absolute",h.style.backgroundColor=this.crosshairColor,h.style.opacity=this.crosshairOpacity/100,h.style.filter="alpha(opacity="+this.crosshairOpacity+")",this.crosshairLeft.push(h),this.divHeader.rows[b].cells[o].firstChild.appendChild(h)}}l&&(this.$9c=l.x),this.$9b=b}},this.$cF=function(a,b){var c=f.timeHeader[a];if(!c)return null;for(var d=0;d<c.length;d++){var e=c[d];if(b>=e.left&&b<e.left+e.width){var g={};return g.cell=e,g.x=d,g}}return null},this.$eO=function(a){return f.$cF(f.timeHeader.length-1,a)},this.$e4=function(a){if(a=a||window.event,"Disabled"===f.timeRangeSelectedHandling)return!1;if(f.$eB(f.coords)||f.$eP(a),f.contextMenuSelection){var c=null;c=f.$eB(f.coords)?f.$bk(b.rangeHold):f.$bk(),c.end=f.$aH(c.end),f.contextMenuSelection.show(c)}return a.cancelBubble=!0,!!f.allowDefaultContextMenu&&void 0},this.$eB=function(a){var c=b.rangeHold;if(!c||!c.start||!c.end)return!1;var d=this.$cb(c.start.y),e=c.start.x<c.end.x,f=(e?c.start.x:c.end.x)*this.cellWidth,g=(e?c.end.x:c.start.x)*this.cellWidth+this.cellWidth,h=d.top,i=d.bottom;return a.x>=f&&a.x<=g&&a.y>=h&&a.y<=i},this.$bn=function(a,c){function d(a){var b=a.end.x>a.start.x?a.start.x:a.end.x,c=a.end.x>a.start.x?a.end.x:a.start.x,d=a.start.y,g=(f.rowlist[d],f.itline[b]),h=f.itline[c],i=g.left,j=h.left+h.width,k=j-i,l=f.elements.range2;if(!l){l=document.createElement("div"),l.style.position="absolute",l.setAttribute("unselectable","on"),l.className=f.$a0("_shadow");var m=document.createElement("div");m.className=f.$a0("_shadow_inner"),l.appendChild(m),f.divRange.appendChild(l)}return l.style.left=g.left+"px",l.style.top=f.rowlist[d].top+"px",l.style.width=k+"px",l.style.height=f.rowlist[d].height-1+"px",f.elements.range2=l,function(){var b=f.rowlist[d],e=g.left;f.$cI(l,b,e,k,null)}(),l}var a=a||b.range;a&&function(){var b=a.end.x>a.start.x?a.start.x:a.end.x,e=a.end.x>a.start.x?a.end.x:a.start.x,g=a.start.y,h=f.rowlist[g],i=f.itline[b],j=f.itline[e],k=f.$eQ,l=i.start.addTime(h.data.offset),m=j.end.addTime(h.data.offset);if(c||!k||k.start.getTime()!==l.getTime()||k.end.getTime()!==m.getTime()||k.resource!==f.rowlist[g].id){var n={start:l,end:f.$aH(m)},o={};o.start=n.start,o.end=n.end,o.duration=new DayPilot.Duration(n.start,n.end),o.resource=f.rowlist[g].id,o.allowed=!0,o.left={},o.left.html=o.start.toString(f.timeRangeSelectingStartEndFormat,F.locale()),o.left.enabled=f.timeRangeSelectingStartEndEnabled,o.right={},o.right.html=o.end.toString(f.timeRangeSelectingStartEndFormat,F.locale()),o.right.enabled=f.timeRangeSelectingStartEndEnabled,f.$eQ=o,"function"!=typeof f.onTimeRangeSelecting||c||f.onTimeRangeSelecting(o);var p=f.$eR(a);f.$bm(p,o.start,o.end);var q=d(p);f.$cO(q,o),a.$ex=p,a.disabled=!o.allowed,f.$cP(q,o),o.start=n.start,o.end=n.end}}()},this.$eR=function(a){return{start:{x:a.start.x,y:a.start.y},end:{x:a.end.x},disabled:a.disabled}},this.range={},this.range.all=function(){return E.get()},this.$eS={};var E=this.$eS;this.$eS.list=[],this.$eS.clear=function(){DayPilot.de(DayPilot.list(E.list).map(function(a){return a.div})),E.list=[]},this.$eS.add=function(a){a.div=f.elements.range2,f.elements.range2=null,f.$cQ(),E.list.push(a)},this.$eS.get=function(){return DayPilot.list(E.list).map(function(a){return f.$bk(a)})},this.$eS.dispatch=function(){if(f.allowMultiRange&&!b.range){var a=DayPilot.list(E.list).last();f.$bj(a)}},this.$eP=function(a){if("Disabled"===f.timeRangeSelectedHandling)return!1;if(!B.active&&!B.start){a=a||window.event;var c=DayPilot.Util.mouseButton(a);if(!b.range&&!b.rectangleSelect&&!(b.rangeHold&&f.$eB(f.coords)&&(c.right||c.middle)||f.$c5(f.$bV(f.coords.y).i))){var d={},e=f.$an(f.coords.x).x;d.start={y:f.$bV(f.coords.y).i,x:e},d.end={x:e},f.$bn(d),f.$bj(d),b.rangeHold=d}}},this.timeouts={},this.timeouts.drawEvents=null,this.timeouts.drawCells=null,this.timeouts.click=null,this.$9N=function(a){if(f.$9m(),h.isEnabled()&&!h.active&&f.$b5&&"Auto"!=f.cellWidthSpec&&(f.nav.scroll.scrollLeft<f.$98?(h.active=!0,setTimeout(function(){h.shiftStart(-f.$99)},100)):f.nav.scroll.scrollWidth-(f.nav.scroll.scrollLeft+f.nav.scroll.clientWidth)<f.$98&&(h.active=!0,setTimeout(function(){h.shiftStart(f.$99)},100))),f.dynamicLoading)return void f.$eT();var b=f.nav.scroll;if(f.$cD=b.scrollLeft,f.$cC=b.scrollTop,f.$cE=b.clientWidth,f.divTimeScroll.scrollLeft=f.$cD,f.divResScroll.scrollTop=f.$cC,f.timeouts.drawEvents&&(clearTimeout(f.timeouts.drawEvents),f.timeouts.drawEvents=null),f.scrollDelayEvents>0?f.timeouts.drawEvents=setTimeout(f.$eU(),f.scrollDelayEvents):f.$9H(),f.timeouts.drawCells&&(clearTimeout(f.timeouts.drawCells),f.timeouts.drawCells=null),f.scrollDelayCells>0)f.timeouts.drawCells=setTimeout(f.$eV(),f.scrollDelayCells);else{f.$eV()()}f.timeouts.updateFloats&&(clearTimeout(f.timeouts.updateFloats),f.timeouts.updateFloats=null),f.scrollDelayFloats>0?f.timeouts.updateFloats=setTimeout(function(){f.$9L()},f.scrollDelayFloats):f.$9L(),f.onScrollCalled=!0},this.$eV=function(){return function(){f.$9K(),f.$9F()}},this.$eU=function(){var b=f.dynamicEventRenderingCacheSweeping,c=f.dynamicEventRenderingCacheSize;return function(){f.$ek()?window.setTimeout(function(){b&&f.$eh(c),window.setTimeout(function(){f.$9H(!0)},50)},50):f.$9W()}},this.$9m=function(){this.$9f.eventHeight=null,this.$9f.drawArea=null},this.show=function(){this.visible=!0,f.nav.top.style.display="",this.$9w(),this.$9x(),f.$9N()},this.hide=function(){this.visible=!1,f.nav.top.style.display="none"},this.$eT=function(){var a=f.nav.scroll;f.$cD=a.scrollLeft,f.$cC=a.scrollTop,f.$cE=a.clientWidth,f.divTimeScroll.scrollLeft=f.$cD,f.divResScroll.scrollTop=f.$cC,f.refreshTimeout&&window.clearTimeout(f.refreshTimeout);var b=f.scrollDelayDynamic;f.refreshTimeout=window.setTimeout(f.$eW(a.scrollLeft,a.scrollTop),b),f.$9L()},this.$eX=function(a){for(var b=a.id,c=new DayPilot.Date(a.start).toString(),d=0;d<this.events.list.length;d++){var e=this.events.list[d];if(e.id===b){if(DayPilot.Util.isNullOrUndefined(b)&&!DayPilot.Util.isNullOrUndefined(a.recurrentMasterId)){var h=new DayPilot.Date(e.start).toString();if(e.recurrentMasterId!==a.recurrentMasterId||c!==h)continue}var i={};return i.ex=e,i.index=d,i.modified=!f.$eY(a,e),i}}return null},this.$eY=function(a,b){for(var c in a)if("object"!=typeof a[c]&&a[c]!==b[c])return!1;for(var c in b)if("object"!=typeof b[c]&&a[c]!==b[c])return!1;return!0},this.$9I=function(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d],g=f.$eX(e),h=g&&g.modified,i=!g;if(h){this.events.list[g.index]=e;var j=f.events.$aL(g.ex);c=c.concat(j)}else i&&this.events.list.push(e);(h||i)&&(c=c.concat(f.events.$aM(e)))}(f.$aN(c),f.$aO(),f.$9v(),f.$9A(),1)?(f.$9B(),f.$9y(),f.$9F(),f.$ba(),f.$eU()()):f.$aP(c,!1,b)},this.$eW=function(a,b){return f.$aa()?function(){f.scrollX=a,f.scrollY=b,f.$au("Scroll")}:function(){if("function"==typeof f.onScroll){var c=function(a){var b=function(){if(f.$9O()&&"function"==typeof f.onAfterRender){var a={};a.isCallBack=!1,a.isScroll=!0,a.data=null,f.onAfterRender(a)}};f.$9I(a,b)},d=f.$bP(a,b),e=f.$bQ(d),g=f.$bR(d),h={};h.viewport={},h.viewport.start=e.start,h.viewport.end=e.end,h.viewport.resources=g,h.async=!1,h.events=[],h.loaded=function(){this.async&&c(this.events)},f.onScroll(h),h.async||c(h.events)}}},this.$eZ=function(){var a=this.$9T(),b=a.xStart,c=a.xEnd-a.xStart,d=a.yStart,e=a.yEnd-a.yStart;this.cellProperties||(this.cellProperties={});for(var f=0;f<=c;f++){for(var g=b+f,h=0;h<e;h++){var i=d+h;this.rowlist[i].hidden||this.$cn(g,i)}this.$f0(g)}for(var j=this.$cT(),i=j.start;i<j.end;i++)this.rowlist[i].hidden||this.$f1(i)},this.$9F=function(){if(f.progressiveRowRendering&&this.$d3(),null!==this.rowlist&&this.rowlist.length>0){if(this.cellSweeping){var b=this.cellSweepingCacheSize;this.$ej(b)}this.$eZ(),this.$f2(),w.$dp()}var c=this.$cL();this.$9P.style.height=this.$9e+"px",this.$9P.style.width=c+"px","Auto"!==f.cellWidthSpec||f.$dX?f.nav.scroll.style.overflowX="auto":(f.nav.scroll.style.overflowX="hidden",f.nav.scroll.scrollLeft=0),this.$b7=!1},this.$f2=function(){for(var a=this.$9T(),b=a.xStart;b<a.xEnd;b++){b<this.itline.length-1&&this.itline[b+1].breakBefore&&this.$f3(b)}},this.$f3=function(a){var b="x"+a;if(!this.$9f.breaks[b]){var c=this.itline[a+1].left-1,d=this.$9e,e=document.createElement("div");e.style.left=c+"px",e.style.top="0px",e.style.width="1px",e.style.height=d+"px",e.style.fontSize="1px",e.style.lineHeight="1px",e.style.overflow="hidden",e.style.position="absolute",e.setAttribute("unselectable","on"),this.cssOnly?e.className=this.$a0("_matrix_vertical_break"):e.style.backgroundColor=this.timeBreakColor,this.divBreaks.appendChild(e),this.elements.breaks.push(e),this.$9f.breaks[b]=e}},this.$9T=function(){if(f.$9f.drawArea)return f.$9f.drawArea;if(!this.nav.scroll)return null;var a=f.$cC,b={},c=this.dynamicEventRenderingMargin,c=null!=this.dynamicEventRenderingMarginX?this.dynamicEventRenderingMarginX:this.dynamicEventRenderingMargin,d=null!=this.dynamicEventRenderingMarginY?this.dynamicEventRenderingMarginY:this.dynamicEventRenderingMargin,e=f.$cD-c-h.shiftX,g=e+f.$cE+2*c,i=0,j=0;if(f.itline&&f.itline.length>0){i=f.$an(e).x,j=f.$an(g,!0).x;var k=this.$a1();j=Math.min(j,k),i=Math.max(i,0)}var l=a-d,m=a+this.nav.scroll.offsetHeight+2*d,n=this.$bV(l).i,o=this.$bV(m).i;return o<this.rowlist.length&&o++,b.xStart=i,b.xEnd=j,b.yStart=n,b.yEnd=o,b.pixels={},b.pixels.left=this.nav.scroll.scrollLeft-h.shiftX,b.pixels.right=this.nav.scroll.scrollLeft-h.shiftX+this.nav.scroll.clientWidth,b.pixels.top=this.nav.scroll.scrollTop,b.pixels.bottom=this.nav.scroll.scrollTop+this.nav.scroll.clientHeight,b.pixels.width=this.nav.scroll.scrollWidth,f.$9f.drawArea=b,b},this.$cL=function(){var a=0,b=this.itline[this.itline.length-1];return a=b?b.left+b.width:0,(a<0||isNaN(a))&&(a=0),a},this.$f1=function(a){var b="y"+a;if(!this.$9f.linesHorizontal[b]){var c=this.rowlist[a].top+this.rowlist[a].height-1,d=this.$cL(),e=document.createElement("div");e.style.left="0px",e.style.top=c+"px",e.style.width=d+"px",e.style.height="1px",e.style.fontSize="1px",e.style.lineHeight="1px",e.style.overflow="hidden",e.style.position="absolute",e.setAttribute("unselectable","on"),e.className=this.$a0("_matrix_horizontal_line"),this.divLines.appendChild(e),this.$9f.linesHorizontal[b]=e}},this.$f0=function(a){var b=this.itline[a];if(b){var c="x"+a;if(!this.$9f.linesVertical[c]){var d=b.left+b.width-1,e=document.createElement("div");e.style.left=d+"px",e.style.top="0px",e.style.width="1px",e.style.height=f.$9e+"px",e.style.fontSize="1px",e.style.lineHeight="1px",e.style.overflow="hidden",e.style.position="absolute",e.setAttribute("unselectable","on"),e.className=this.$a0("_matrix_vertical_line"),this.divLines.appendChild(e),this.elements.linesVertical.push(e),this.$9f.linesVertical[c]=e}}},this.$cy=function(a){var b=this.rowlist[a],c=!b.expanded;b.expanded=c,b.resource&&(b.resource.expanded=c);var d=this.$f4(a,b.expanded);if(!c)for(var e=0;e<d.length;e++){var f=d[e];this.$b8(f)}if(this.$9v(),this.$9t(),this.$9A(),this.$9m(),c){for(var e=0;e<d.length;e++){var f=d[e];this.$b9(f)}this.$9W()}this.$ba(),m.load(),this.$9B(),this.$9F(),this.$9H(),this.$9K();var g=this.$bx(b,a);c?this.$bE(g):this.$bD(g),this.$9m()},this.$dc=function(a){var b={};if(b.index=a,"function"==typeof this.onLoadNode){var c={},d=this.rowlist[a].resource;c.resource=d,c.async=!1,c.loaded=function(){this.async&&(d.dynamicChildren=!1,d.expanded=!0,f.update())},this.onLoadNode(c),c.async||(d.dynamicChildren=!1,d.expanded=!0,this.update())}else this.$au("LoadNode",b)},this.$f4=function(a,b){var c=this.rowlist[a],d=[];if(null===c.children||0===c.children.length)return d;for(var e=0;e<c.children.length;e++){var f=c.children[e],g=this.rowlist[f],h=b&&c.expanded&&!g.$dC;g.hidden=!h,b===!g.hidden&&d.push(f);var i=this.$f4(f,b);i.length>0&&(d=d.concat(i))}return d},this.$eI=function(a,b){this.$dZ(),this.$f5(a,b)},this.$f6=function(a){if(!a)return!1;var b=this.nav.scroll.scrollWidth,c=this.nav.scroll.scrollLeft,d=this.nav.scroll.clientWidth,e=c+d;return!(a<0&&c<=0)&&(!(a>0&&e>=b)&&(this.nav.scroll.scrollLeft+=a,f.coords.x+=a,f.$f7(),!0))},this.$f8=function(a){if(!a)return!1;var b=this.nav.scroll.scrollHeight,c=this.nav.scroll.scrollTop,d=this.nav.scroll.clientHeight,e=c+d;return!(a<0&&c<=0)&&(!(a>0&&e>=b)&&(this.nav.scroll.scrollTop+=a,f.coords.y+=a,f.$f7(),!0))},this.$f7=function(){b.resizing&&b.resizing.event.calendar===f?f.$eD():b.moving&&(b.moving.event.calendar===f||b.moving.event.calendar.dragOutAllowed)?f.$eE():b.range&&b.range.calendar===f&&f.$eF()},this.$f5=function(a,b){if(this.$f6(a)||this.$f8(b)){var d=function(a,b){return function(){f.$f5(a,b)}};this.$f9=window.setTimeout(d(a,b),100)}},this.$dZ=function(){f.$f9&&(window.clearTimeout(f.$f9),f.$f9=null)},this.$9v=function(){for(var a=0,b=0;b<this.rowlist.length;b++){var c=this.rowlist[b];c.hidden||(c.top=a,a+=c.height)}this.$9e=a},this.$9B=function(){this.elements.cells=[],this.elements.linesVertical=[],this.elements.breaks=[],this.$9f.cells=[],this.$9f.linesVertical={},this.$9f.linesHorizontal={},this.$9f.breaks=[],this.divCells.innerHTML="",this.divLines.innerHTML="",this.divBreaks.innerHTML=""},this.$bb=function(a){var b=DayPilot.list();for(var c in f.$9f.cells)b.push(f.$9f.cells[c]);b.filter(function(b){return b&&b.coords&&b.coords.y===a}).each(function(a){f.$cm(a)})},this.$fa=0,this.$fb=["html","cssClass","backColor","backImage","backRepeat","business","areas"],this.$cn=function(a,b){if(this.$b5){var c=f.$aw(a);if(c){var d=a+"_"+b;if(!this.$9f.cells[d]){var e=this.$co(a,b);if("function"==typeof this.onBeforeCellRender&&a>=0){var g=f.rowlist[b],i=(g.id,g.start.getTime()-this.$ae().getTime()),l=(c.start.addTime(i),c.end.addTime(i),f.cells.findXy(a,b)[0]),m={};m.cell=l,m.getPixels=function(a){var a=new DayPilot.Date(a);return f.getPixels(a).left-c.left},this.onBeforeCellRender(m),DayPilot.Util.copyProps(m.cell,m.cell.properties,f.$fb)}if(!this.drawBlankCells){var n=!1;if(this.cssOnly&&this.$cv(b)?n=!1:this.$fc(e,f.$fb)||(n=!0),n)return}var l=document.createElement("div");if(l.style.left=c.left+"px",l.style.top=this.rowlist[b].top+"px",l.style.width=c.width+"px",l.style.height=this.rowlist[b].height+"px",l.style.position="absolute",e&&e.backColor&&(l.style.backgroundColor=e.backColor),l.setAttribute("unselectable","on"),l.className=this.cssOnly?this.$a0("_cell"):this.$a0("cellbackground"),l.coords={},l.coords.x=a,l.coords.y=b,this.cssOnly&&this.$cv(b)&&DayPilot.Util.addClass(l,this.$a0("_cellparent")),e){e.cssClass&&(this.cssOnly?DayPilot.Util.addClass(l,e.cssClass):DayPilot.Util.addClass(l,f.$a0(e.cssClass))),DayPilot.Util.isNullOrUndefined(e.html)||(l.innerHTML=e.html),e.backImage&&(l.style.backgroundImage='url("'+e.backImage+'")'),e.backRepeat&&(l.style.backgroundRepeat=e.backRepeat),e.business&&DayPilot.Util.addClass(l,f.$a0("_cell_business")),DayPilot.list(e.areas).each(function(a){(a.start||a.end)&&(a.left=f.getPixels(new DayPilot.Date(a.start)).left-c.left,a.width=f.getPixels(new DayPilot.Date(a.end)).left-a.left-c.left)});var o=f.cells.findXy(a,b)[0];DayPilot.Areas.attach(l,o,{areas:e.areas})}l.onmouseup=this.$e3,this.divCells.appendChild(l),this.elements.cells.push(l),this.$9f.cells[d]=l}}}},this.$fc=function(a,b){if(b){for(var c=0;c<b.length;c++)if(!DayPilot.Util.isNullOrUndefined(a[b[c]]))return!0}else for(var d in a)if(!DayPilot.Util.isNullOrUndefined(a[d]))return!0;return!1},this.clearSelection=function(){this.$9J(),E.clear()},this.cleanSelection=this.clearSelection,this.$bf=function(){DayPilot.de(b.movingShadow),b.movingShadow=null,f.$cQ(),f.$cJ.clear()},this.$9J=function(){this.divRange.innerHTML='<div style="position:absolute; left:0px; top:0px; width:0px; height:0px;"></div>',this.elements.range=[],this.elements.range2=null,this.$cQ(),b.rangeHold=null},this.$c3={};var F=this.$c3;F.locale=function(){return DayPilot.Locale.find(f.locale)},F.timeFormat=function(){return"Auto"!==f.timeFormat?f.timeFormat:F.locale().timeFormat},F.weekStarts=function(){if("Auto"===f.weekStarts){var a=F.locale();return a?a.weekStarts:0}return f.weekStarts},F.rounded=function(){return"Rounded"===f.eventCorners},F.layout=function(){var a=/MSIE 6/i.test(navigator.userAgent);return"Auto"===f.layout?a?"TableBased":"DivBased":f.layout},F.notifyType=function(){var a;if("Immediate"===f.notifyCommit)a="Notify";else{if("Queue"!==f.notifyCommit)throw"Invalid notifyCommit value: "+f.notifyCommit;a="Queue"}return a},F.isResourcesView=function(){return"Days"!==f.viewType},F.useBox=function(a){return"Always"===f.useEventBoxes||"Never"!==f.useEventBoxes&&a<60*f.cellDuration*1e3},F.eventHeight=function(){if(f.$9f.eventHeight)return f.$9f.eventHeight;var a=f.$e8("_event_height").height;return a||(a=f.eventHeight),f.$9f.eventHeight=a,a},F.headerHeight=function(){if(f.$9f.headerHeight)return f.$9f.headerHeight;var a=f.$e8("_header_height").height;return a||(a=f.headerHeight),f.$9f.headerHeight=a,a},F.splitterWidth=function(){return f.rowHeaderScrolling?f.rowHeaderSplitterWidth:1},this.$fd=function(a,b){var c=a+"_"+b;return this.cellProperties&&this.cellProperties[c]?this.cellProperties[c].backColor:null},this.$co=function(a,b){var c=a+"_"+b;if(this.cellProperties||(this.cellProperties={}),this.cellProperties[c])return this.cellProperties[c];if(this.$94&&(this.cellProperties[c]=f.$fe(a,b)),!this.cellProperties[c]){var d=f.rowlist[b],e=d.id,g=d.start.getTime()-f.$ae().getTime(),h=f.$aw(a),i=h.start.addTime(g),j=h.end.addTime(g),k={};k.start=i,k.end=j,k.resource=e;var l={};l.business=f.isBusiness(k),this.cellProperties[c]=l}return this.cellProperties[c]},this.$ff=function(a,b,c){var d=b+"_"+c;return this.cellProperties[d]={},DayPilot.Util.copyProps(a,this.cellProperties[d],f.$fb),this.cellProperties[d]},this.$fe=function(a,b){if(!this.cellConfig)return null;var c=this.cellConfig,d=this.cellProperties[a+"_"+b];!d&&c.vertical&&(d=this.cellProperties[a+"_0"]),!d&&c.horizontal&&(d=this.cellProperties["0_"+b]),!d&&c.default&&(d=c.default);var e={};return DayPilot.Util.copyProps(d,e,f.$fb),e},this.$9r=function(){if(!this.$94&&!this.$95&&(this.$95=!0,this.cellConfig)){var a=this.cellConfig;if(a.vertical)for(var b=0;b<a.x;b++){var c=this.cellProperties[b+"_0"];if(c)for(var d=1;d<a.y;d++)this.$ff(c,b,d)}if(a.horizontal)for(var d=0;d<a.y;d++){var c=this.cellProperties["0_"+d];if(c)for(var b=1;b<a.x;b++)this.$ff(c,b,d)}if(a.default)for(var c=a.default,d=0;d<a.y;d++)for(var b=0;b<a.x;b++)this.cellProperties[b+"_"+d]||this.$ff(c,b,d)}},this.isBusiness=function(a){var b=a.start,c=a.end,d=(c.getTime()-b.getTime())/6e4;if(d<=1440&&!f.businessWeekends&&(0===a.start.dayOfWeek()||6===a.start.dayOfWeek()))return!1;if(d<720){var e=b.getHours();if(e+=b.getMinutes()/60,e+=b.getSeconds()/3600,(e+=b.getMilliseconds()/36e5)<this.businessBeginsHour)return!1;if(this.businessEndsHour>=24)return!0;if(e>=this.businessEndsHour)return!1}return!0},this.$9w=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.$cW=function(){var a=f.nav.top;return a.offsetWidth>0&&a.offsetHeight>0},this.$fg=function(){var a=f.$cW;a()||(f.debug.message("Not visible during init, starting visibilityInterval"),f.$fh=setInterval(function(){a()&&(f.debug.message("Made visible, calling .show()"),f.show(),f.$cV(),clearInterval(f.$fh))},100))},this.$fi=function(a){"Parent100Pct"!==this.heightSpec&&(this.heightSpec="Fixed"),this.height=a-(this.$a2()+2),this.$9A()},this.setHeight=this.$fi,this.$9R=function(a){for(var b=0;b<this.rowlist.length;b++)if(this.rowlist[b].id===a)return this.rowlist[b];return null},this.$dI=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Scheduler() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Scheduler: The placeholder element not found: '"+d+"'."}},this.$fj=function(){this.$e7(),this.$9q(),this.$9x(),this.$ea(),this.$bZ(),b.register(this),this.$9k(this.afterRenderData,!1),this.$eb(),this.$fg(),this.$9j(),this.$au("Init")},this.init=function(){this.$fk()},this.$fk=function(){if(this.$dI(),!this.nav.top.dp){this.$dH();if(this.$cc())return this.$fj(),this.$b5=!0,void this.$9m();this.$ea(),this.$bZ(),b.register(this),this.$eb(),this.$aS(),this.$b5=!0,f.scrollToDate?f.scrollTo(f.scrollToDate):f.scrollX||f.scrollY?f.setScroll(f.scrollX,f.scrollY):f.$9N(),f.scrollToResourceId&&(f.scrollToResource(f.scrollToResourceId),f.scrollToResourceId=null);var c=function(){f.scrollY&&f.setScroll(f.scrollX,f.scrollY)};window.setTimeout(c,200),this.messageHTML&&window.setTimeout(function(){f.message(f.messageHTML)},0),this.$fg(),this.$9j(),this.$9m(),this.$9k(this.afterRenderData,!1),f.$9a&&setTimeout(function(){f.$au("Init")}),this.$fl()}},this.$fm=null,this.$fn=function(a){var b={events:{preInit:function(){var a=this.data;a&&(DayPilot.isArray(a.list)?f.events.list=a.list:f.events.list=a)},postInit:function(){}},scrollTo:{preInit:function(){},postInit:function(){this.data&&f.scrollTo(this.data,a.scrollToAnimated,a.scrollToPosition)}}};this.$fm=b;for(var c in a)if(b[c]){var d=b[c];d.data=a[c],d.preInit&&d.preInit()}else f[c]=a[c]},this.$fl=function(){var a=this.$fm;for(var b in a){var c=a[b];c.postInit&&c.postInit()}},this.temp={},this.temp.getPosition=function(){var a=Math.floor(f.coords.x/f.cellWidth),b=f.$bV(f.coords.y).i;if(b<f.rowlist.length){var c={};return c.start=f.itline[a].start,c.end=f.itline[a].end,c.resource=f.rowlist[b].id,c}return null},this.temp.img=f.$cB,this.internal={},this.internal.initialized=function(){return f.$b5},this.internal.invokeEvent=this.$aF,this.internal.eventMenuClick=this.$bi,this.internal.timeRangeMenuClick=this.$bq,this.internal.resourceHeaderMenuClick=this.$bs,this.internal.linkMenuClick=this.$br,this.internal.bubbleCallBack=this.$bg,this.internal.findEventDiv=this.$ca,this.internal.rowtools=this.$bB,this.internal.getNodeChildren=this.$bX,this.internal.callback=function(){f.$au.apply(f,arguments)},this.internal.createRowObject=this.$bx,this.internal.adjustEndIn=f.$bc,this.internal.adjustEndNormalize=f.$bd,this.internal.touch=f.$eu,this.Init=this.init,this.$fn(e)},"${v}"===(new DayPilot.Scheduler).v,DayPilot.Row=function(a,b){if(!a)throw"Now row object supplied when creating DayPilot.Row";if(!b)throw"No parent control supplied when creating DayPilot.Row";var c=DayPilot.indexOf(b.rowlist,a),d=this;d.isRow=!0,d.menuType="resource",d.start=a.start,d.name=a.name,d.value=a.id,d.id=a.id,d.tags=a.tags,d.index=c,d.level=a.level,d.calendar=b,d.$fo=a,d.$={},d.$.row=a,d.toJSON=function(a){var b={};return b.start=this.start,b.name=this.name,b.value=this.value,b.id=this.id,b.index=this.index,b},d.parent=function(){return d.$fo.$dD?b.$bx(d.$fo.$dD):null},d.children=function(){return DayPilot.list(d.$fo.children).map(function(a){return b.$bx(a)})},d.cells={},d.cells.all=function(){for(var a=[],c=b.itline.length,e=d.index,f=0;f<c;f++){var g=b.cells.findXy(f,e);a.push(g[0])}return b.$cp(a)},d.events={},d.events.all=function(){for(var a=[],b=0;b<d.$fo.events.length;b++)a.push(d.$fo.events[b]);return DayPilot.list(a)},d.events.totalDuration=function(){var a=0;return d.events.all().each(function(b){a+=b.part.end.getTime()-b.part.start.getTime()}),new DayPilot.Duration(a)},d.groups={},d.groups.collapseAll=function(){for(var a=0;a<d.$fo.blocks.length;a++){var c=d.$fo.blocks[a];new e(c).$fp()}b.$aO(),b.$aP(d.index),b.$9A()},d.groups.expandAll=function(){for(var a=0;a<d.$fo.blocks.length;a++){var c=d.$fo.blocks[a];new e(c).$fq()}b.$aO(),b.$aP(d.index),b.$9A()},d.groups.expanded=function(){for(var a=[],c=0;c<d.$fo.blocks.length;c++){var f=d.$fo.blocks[c];f.expanded&&f.lines.length>b.groupConcurrentEventsLimit&&a.push(new e(f))}return DayPilot.list(a)},d.groups.collapsed=function(){for(var a=[],b=0;b<d.$fo.blocks.length;b++){var c=d.$fo.blocks[b];c.expanded||a.push(new e(c))}return DayPilot.list(a)},d.groups.all=function(){for(var a=[],b=0;b<d.$fo.blocks.length;b++){var c=d.$fo.blocks[b];a.push(new e(c))}return DayPilot.list(a)},d.events.collapseGroups=d.groups.collapseAll,d.events.expandGroups=d.groups.expandAll,d.column=function(a){return new f(d,a)},d.toggle=function(){b.$cy(d.index)},d.addClass=function(a){var c=d,e=b.divHeader,c=e.rows[c.index];if(c){var f=DayPilot.list(c.cells).map(function(a){return a.cellDiv});DayPilot.Util.addClass(f,a)}d.$.row.cssClass=DayPilot.Util.addClassToString(d.$.row.cssClass,a)},d.removeClass=function(a){var c=d,e=b.divHeader,c=e.rows[c.index];if(c){var f=DayPilot.list(c.cells).map(function(a){return a.cellDiv});DayPilot.Util.removeClass(f,a)}d.$.row.cssClass=DayPilot.Util.removeClassFromString(d.$.row.cssClass,a)};var e=function(a){var c=function(a){for(var c=0;c<b.elements.events.length;c++){var d=b.elements.events[c];if(d.event===a)return d}return null};this.$fq=function(){a.expanded=!0;var d=b.$dj;DayPilot.list(a.events).each(function(a){d.push(a.id())});var e=c(a);if(e){b.$eg(e);var f=DayPilot.indexOf(b.elements.events,e);-1!==f&&b.elements.events.splice(f,1)}},this.expand=function(){this.$fq(),b.$aO(),b.$aP(a.row.index),b.$9A()},this.$fp=function(){if(a.lines.length>b.groupConcurrentEventsLimit){a.expanded=!1;var c=DayPilot.list(a.events).map(function(a){return a.id()});b.$dj=b.$dj.filter(function(a){return!DayPilot.contains(c,a)})}},this.collapse=function(){this.$fp(),b.$aO(),b.$aP(a.row.index),b.$9A()}},f=function(a,b){this.html=function(c){var d=a.calendar.divHeader,e=d.rows[a.index].cells[b],f=e.textDiv;if(void 0===c)return f.innerHTML;f.innerHTML=c}}},b.moving=null,b.originalMouse=null,b.resizing=null,b.globalHandlers=!1,b.timeRangeTimeout=null,b.selectedCells=null,b.dragStart=function(a,c,d,e,f){DayPilot.us(a);var g=b.drag={};return g.element=a,g.duration=c,g.text=e,g.id=d,g.shadowType=f||"Fill",g.data={id:d,text:e,duration:c,externalHtml:e},!1},DayPilot.Scheduler.startDragging=function(a){var a=a||{},c=a.element,d=a.keepElement?null:c;DayPilot.us(c);var e=b.drag={};return e.element=d,e.id=a.id,e.duration=a.duration||60,e.text=a.text||"",e.shadowType="Fill",e.data=a,!1},DayPilot.Scheduler.makeDraggable=function(a){function e(){var c=b.drag={};c.element=d,c.id=a.id,c.duration=a.duration||60,c.text=a.text||"",c.shadowType="Fill",c.data=a}var c=a.element,d=a.keepElement?null:c;DayPilot.us(c),DayPilot.re(c,"mousedown",function(a){e();var b=a.target||a.srcElement;if(b.tagName){var c=b.tagName.toLowerCase();if("textarea"===c||"select"===c||"input"===c)return!1}return a.preventDefault&&a.preventDefault(),!1}),c.ontouchstart=function(a){window.setTimeout(function(){e(),b.gTouchMove(a),a.preventDefault()},0),a.preventDefault()}},DayPilot.Scheduler.stopDragging=function(){if(b.dragStop(),b.resizing&&(DayPilot.de(b.resizingShadow),b.resizing=null,b.resizingShadow=null),b.moving){var a=b.moving.event.calendar;DayPilot.Util.removeClass(b.moving,a.$a0("_event_moving_source")),DayPilot.de(b.movingShadow),b.moving=null,b.movingShadow=null}if(b.range){var a=b.range.calendar;a.clearSelection(),b.range=null}document.body.style.cursor="",DayPilot.list(b.registered).each(function(a){a.$dZ(),a.$cQ()})},b.dragStop=function(){b.gShadow&&(document.body.removeChild(b.gShadow),b.gShadow=null),b.drag=null},b.register=function(a){b.registered||(b.registered=[]);for(var c=0;c<b.registered.length;c++)if(b.registered[c]===a)return;b.registered.push(a)},b.unregister=function(a){var c=b.registered;if(c){var d=DayPilot.indexOf(c,a);-1!==d&&c.splice(d,1),0===c.length&&(c=null)}c||(DayPilot.ue(document,"mousemove",b.gMouseMove),DayPilot.ue(document,"mouseup",b.gMouseUp),DayPilot.ue(document,"keyup",b.gKeyUp),DayPilot.ue(document,"touchmove",b.gTouchMove),DayPilot.ue(document,"touchend",b.gTouchEnd),b.globalHandlers=!1)},b.gTouchMove=function(a){if(b.resizing){var c=b.resizing.event.calendar;c.coords=c.$eu.relativeCoords(a),c.$eu.updateResizing(),a.preventDefault()}if(b.moving){var c=b.moving.event.calendar;c.coords=c.$eu.relativeCoords(a),c.$eu.updateMoving(),a.preventDefault()}if(b.drag){a.preventDefault();var d=i(a),c=h(a);if(c){if(b.gShadow&&document.body.removeChild(b.gShadow),b.gShadow=null,c.coords=c.$eu.relativeCoords(a),!b.movingShadow&&c.rowlist.length>0){if(!b.moving){b.moving={};var e=b.drag.event;if(!e){var f=c.itline[0].start,a={id:b.drag.id,start:f,end:f.addSeconds(b.drag.duration),text:b.drag.text},g=b.drag.data;if(g){var j=["duration","element","id","text"];for(var k in g)DayPilot.contains(j,k)||(a[k]=g[k])}e=new DayPilot.Event(a),e.calendar=c,e.part.external=!0}b.moving.event=e}b.movingShadow=c.$c4(b.moving,b.drag.shadowType)}b.moving&&c.$eu.updateMoving()}else{DayPilot.de(b.movingShadow);var l=b.moving;b.moving=null,b.movingShadow=null,b.gShadow||(b.gShadow=b.createGShadow(b.drag.data),b.gShadow.source=l);var m=b.gShadow;m.style.left=d.x+"px",m.style.top=d.y+"px"}}},b.gTouchEnd=function(a){b.gMouseUp(a)},b.gMouseMove=function(a){if(void 0!==b&&(a=a||window.event,!(a.insideMainD||a.srcElement&&a.srcElement.inside))){var c=DayPilot.mc(a);if(b.drag){if(!b.drag.startFired){var d=b.drag.data||{},e=d.onDragStart,f=!1;if("function"==typeof e){var g={};g.data=d,g.preventDefault=function(){g.preventDefault.value=!0},e(g),f=g.preventDefault.value}if(b.drag.startFired=!0,f)return void(b.drag=null)}document.body.style.cursor="move",b.gShadow||(b.gShadow=b.createGShadow(b.drag.data));var h=b.gShadow;if(h.style.left=c.x+"px",h.style.top=c.y+"px",b.moving=null,b.movingShadow){var i=b.movingShadow.calendar;i&&(i.$cQ(),b.movingShadow.calendar=null,DayPilot.de(b.movingShadow),b.movingShadow=null)}}else if(b.moving&&b.moving.event.calendar.dragOutAllowed&&!b.drag){var i=b.moving.event.calendar,a=b.moving.event;b.moving.target=null,document.body.style.cursor="move",b.gShadow||(b.gShadow=b.createGShadow(a.data),b.gShadow.source=b.moving);var h=b.gShadow;h.style.left=c.x+"px",h.style.top=c.y+"px",b.drag={};var j=b.drag;j.element=null,j.duration=(a.rawend().getTime()-a.start().getTime())/1e3,j.text=a.text(),j.id=a.value(),j.shadowType=i.shadow,j.event=a,i.$cQ(),DayPilot.de(b.movingShadow),b.movingShadow.calendar=null,b.movingShadow=null}for(var k=0;k<b.registered.length;k++)b.registered[k].$d0&&b.registered[k].$d0()}},b.gUnload=function(a){if(b.registered)for(var c=0;c<b.registered.length;c++){var d=b.registered[c];b.unregister(d)}},b.gMouseDown=function(a){b.editing&&b.editing.blur()},b.gKeyUp=function(a){var a=a||window.event;17===a.keyCode&&b.rangeCalendar&&b.rangeCalendar.$eS.dispatch()},b.gMouseUp=function(a){if(DayPilot.list(b.registered).each(function(a){a.$dZ()}),b.resizing){if(!b.resizingShadow)return document.body.style.cursor="",void(b.resizing=null);var d=b.resizing.event,e=d.calendar;e.$cA();var f=b.resizingShadow.start,g=b.resizingShadow.end,h=b.resizingShadow.overlapping,i=!b.resizingShadow.allowed;if(DayPilot.de(b.resizingShadow),b.resizing=null,b.resizingShadow=null,e.$cQ(),e.$cH.clear(),document.body.style.cursor="",h||i)return;e.$aG(d,f,g)}else if(b.moving){var l=function(){b.movingShadow&&(DayPilot.de(b.movingShadow),b.movingShadow.calendar=null),document.body.style.cursor="",b.moving=null,b.drag=null};if(!b.movingShadow)return void l();var d=b.moving.event,e=b.moving.target;if(!e)return void l();if(DayPilot.Util.removeClass(b.moving,e.$a0("_event_moving_source")),!b.movingShadow.row)return void l();clearTimeout(e.$cw.timeout);var f=b.movingShadow.start,g=b.movingShadow.end,m="Days"!==e.viewType?b.movingShadow.row.id:null,n=!!b.drag&&d.part.external,o=b.movingShadow.line,h=b.movingShadow.overlapping,i=!b.movingShadow.allowed;if(b.drag&&(e.todo||(e.todo={}),e.todo.del=b.drag.element,b.drag=null),b.movingShadow.calendar=null,document.body.style.cursor="",b.moving=null,h||i||e.$cJ.forbidden||e.$cJ.invalid)return void e.$bf();var a=a||window.event;e.$be(d,f,g,m,n,a,o)}else if(b.range){a=a||window.event;var p=DayPilot.Util.mouseButton(a),q=b.range,e=q.calendar;e.$eQ=null;var r=a.ctrlKey||a.metaKey;if(e.allowMultiRange)return e.elements.range2.overlapping?(DayPilot.de(e.elements.range2),e.elements.range2=null,e.$cQ()):e.$eS.add(q),b.range=null,void(r||e.$eS.dispatch());if(b.timeRangeTimeout)return clearTimeout(b.timeRangeTimeout),void(b.timeRangeTimeout=null);b.rangeHold=q,b.range=null;var s=function(a){return function(){b.timeRangeTimeout=null;var d=e.elements.range2;if(d&&d.overlapping)return void e.clearSelection();e.$bj(a),"Hold"!==e.timeRangeSelectedHandling&&"HoldForever"!==e.timeRangeSelectedHandling?c():b.rangeHold=a}},t=e.$eR(q);if(!p.left)return void(b.timeRangeTimeout=null);if("Disabled"===e.timeRangeDoubleClickHandling){s(t)();var a=a||window.event;return a.cancelBubble=!0,!1}b.timeRangeTimeout=setTimeout(s(t),e.doubleClickTimeout)}else if(j.row){var e=j.calendar;e&&e.$dt()}else if(k.source){var e=k.calendar;e.$c6.clearShadow(),e.$c6.hideLinkpoints(),k.source=null,k.calendar=null}else if(b.splitting){var u=b.splitting;u.cleanup(),b.splitting=null}else if(b.rectangleSelect){var v=b.rectangleSelect,e=v.calendar,w=v.x,x=v.y,y=v.width,z=v.height,A=!1,B=e.$9X.eventsInRectangle(w,x,y,z).map(function(a){return a.event});if("function"==typeof e.onRectangleEventSelect){var C={};if(C.events=B,C.append=!1,C.start=e.getDate(w,!0),C.end=e.getDate(w+y,!0),C.preventDefault=function(){this.preventDefault.value=!0},e.onRectangleEventSelect(C),C.preventDefault.value)return e.$eJ.clear(),void(b.rectangleSelect=null);A=C.append}if(A||e.multiselect.clear(!0),B.each(function(a){e.multiselect.add(a,!0)}),e.multiselect.redraw(),setTimeout(function(){e.$eJ.clear(),b.rectangleSelect=null},0),"function"==typeof e.onRectangleEventSelected){var C={};C.events=B,e.onRectangleEventSelected(C)}}if(b.drag&&(b.drag.event&&b.drag.event.part&&delete b.drag.event.part.external,b.drag=null,document.body.style.cursor=""),b.gShadow){if(b.gShadow.source){var e=b.gShadow.source.event.calendar;DayPilot.Util.removeClass(b.gShadow.source,e.$a0("_event_moving_source"))}document.body.removeChild(b.gShadow),b.gShadow=null}b.moveOffsetX=null,b.moveDragStart=null},b.createGShadow=function(a){var a=a||{},b=document.createElement("div");return b.setAttribute("unselectable","on"),b.style.position="absolute",b.style.width="100px",b.style.height="20px",b.style.zIndex=101,b.style.pointerEvents="none",b.style.backgroundColor="#aaaaaa",b.style.opacity=.5,b.style.filter="alpha(opacity=50)",b.className=a.externalCssClass,a.externalHtml&&(b.innerHTML=a.externalHtml),document.body.appendChild(b),b};var j={};DayPilot.Global.rowmoving=j;var k={};DayPilot.Global.linking=k,DayPilot.SchedulerVisible.dragStart=b.dragStart,DayPilot.SchedulerVisible.dragStop=b.dragStop,DayPilot.SchedulerVisible.Scheduler=b.Scheduler,DayPilot.SchedulerVisible.globalHandlers=b.globalHandlers,"undefined"!=typeof jQuery&&function(a){a.fn.daypilotScheduler=function(a){var b=null,c=this.each(function(){if(!this.daypilot){var c=new DayPilot.Scheduler(this.id,a);c.init(),this.daypilot=c,b||(b=c)}});return 1===this.length?b:c}}(jQuery),function(){var b=DayPilot.am();b&&b.directive("daypilotScheduler",function(){return{restrict:"E",template:"<div id='{{id}};'></div>",compile:function(b,c){return b.replaceWith(this.template.replace("{{id}};",c.id)),function(b,c,d){var e=new DayPilot.Scheduler(c[0]);e.$ch.scope=b,e.init();var f=d.id;f&&(b[f]=e);var g=b.$watch;g.call(b,d.daypilotConfig,function(a,b){e.debug.message("daypilot-config value change detected, updating."),e.$fn(a),e.update(),e.$fl()},!0),g.call(b,d.daypilotEvents,function(a){e.debug.message("daypilot-events value change detected, updating."),e.events.list=a,e.$aS({eventsOnly:!0})},!0)}}}})}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),void 0===DayPilot)var DayPilot={};void 0===DayPilot.Global&&(DayPilot.Global={}),function(){void 0===DayPilot.Year&&(DayPilot.Year=function(a,b){this.v="1969";this.startDate=new DayPilot.Date,this.cssOnly=!0,this.cssClassPrefix=null,this.columns=4,this.cellWidth=20,this.showWeekNumbers=!1,this.$i=[],this.$j=function(){this.root.dp=this,this.$k=new DayPilot.Date(this.startDate.toString("yyyy-01-01","en-us"))},this.$l=function(a){return this.cssClassPrefix?this.cssClassPrefix+a:""},this.$m=function(){return this.showWeekNumbers?this.cellWidth:0},this.$n=function(){this.$i=[];var a=this.columns,b=12/a;this.root.className=this.$l("_main"),this.root.style.width=a*(7*this.cellWidth+this.$m())+"px";for(var c=0;c<b;c++){for(var d=0;d<a;d++){var e=c*a+d,f=f+"_nav_"+e,g=document.createElement("div");g.id=f,this.root.appendChild(g);var h=new DayPilot.Navigator(f);h.startDate=this.$k.addMonths(e),h.cssOnly=this.cssOnly,h.cssClassPrefix=this.cssClassPrefix,h.cellWidth=this.cellWidth,h.showWeekNumbers=this.showWeekNumbers,h.internal.showLinks={},h.selectMode="none",h.timeRangeSelectedHandling="JavaScript",h.onTimeRangeSelected=this.$o,h.init(),h.root.className="",this.$i.push(h)}var i=document.createElement("div");i.style.clear="left",this.root.appendChild(i)}},this.$o=function(a){alert("clicked: "+a.day)},this.init=function(){this.root=document.getElementById(a),this.root.dp||(this.$j(),this.$n())}})}();